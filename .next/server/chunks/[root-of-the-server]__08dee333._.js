module.exports=[61724,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js"))},47909,(e,t,r)=>{t.exports=e.r(61724)},74017,e=>{"use strict";var t,r=((t={}).PAGES="PAGES",t.PAGES_API="PAGES_API",t.APP_PAGE="APP_PAGE",t.APP_ROUTE="APP_ROUTE",t.IMAGE="IMAGE",t);e.s(["RouteKind",()=>r])},95169,e=>{"use strict";var t,r,i,n,s,a,o,l,c,u,d,h,f=((t=f||{}).handleRequest="BaseServer.handleRequest",t.run="BaseServer.run",t.pipe="BaseServer.pipe",t.getStaticHTML="BaseServer.getStaticHTML",t.render="BaseServer.render",t.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",t.renderToResponse="BaseServer.renderToResponse",t.renderToHTML="BaseServer.renderToHTML",t.renderError="BaseServer.renderError",t.renderErrorToResponse="BaseServer.renderErrorToResponse",t.renderErrorToHTML="BaseServer.renderErrorToHTML",t.render404="BaseServer.render404",t),p=((r=p||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",r.loadComponents="LoadComponents.loadComponents",r),m=((i=m||{}).getRequestHandler="NextServer.getRequestHandler",i.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",i.getServer="NextServer.getServer",i.getServerRequestHandler="NextServer.getServerRequestHandler",i.createServer="createServer.createServer",i),g=((n=g||{}).compression="NextNodeServer.compression",n.getBuildId="NextNodeServer.getBuildId",n.createComponentTree="NextNodeServer.createComponentTree",n.clientComponentLoading="NextNodeServer.clientComponentLoading",n.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",n.generateStaticRoutes="NextNodeServer.generateStaticRoutes",n.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",n.generatePublicRoutes="NextNodeServer.generatePublicRoutes",n.generateImageRoutes="NextNodeServer.generateImageRoutes.route",n.sendRenderResult="NextNodeServer.sendRenderResult",n.proxyRequest="NextNodeServer.proxyRequest",n.runApi="NextNodeServer.runApi",n.render="NextNodeServer.render",n.renderHTML="NextNodeServer.renderHTML",n.imageOptimizer="NextNodeServer.imageOptimizer",n.getPagePath="NextNodeServer.getPagePath",n.getRoutesManifest="NextNodeServer.getRoutesManifest",n.findPageComponents="NextNodeServer.findPageComponents",n.getFontManifest="NextNodeServer.getFontManifest",n.getServerComponentManifest="NextNodeServer.getServerComponentManifest",n.getRequestHandler="NextNodeServer.getRequestHandler",n.renderToHTML="NextNodeServer.renderToHTML",n.renderError="NextNodeServer.renderError",n.renderErrorToHTML="NextNodeServer.renderErrorToHTML",n.render404="NextNodeServer.render404",n.startResponse="NextNodeServer.startResponse",n.route="route",n.onProxyReq="onProxyReq",n.apiResolver="apiResolver",n.internalFetch="internalFetch",n),y=((s=y||{}).startServer="startServer.startServer",s),b=((a=b||{}).getServerSideProps="Render.getServerSideProps",a.getStaticProps="Render.getStaticProps",a.renderToString="Render.renderToString",a.renderDocument="Render.renderDocument",a.createBodyResult="Render.createBodyResult",a),w=((o=w||{}).renderToString="AppRender.renderToString",o.renderToReadableStream="AppRender.renderToReadableStream",o.getBodyResult="AppRender.getBodyResult",o.fetch="AppRender.fetch",o),v=((l=v||{}).executeRoute="Router.executeRoute",l),_=((c=_||{}).runHandler="Node.runHandler",c),x=((u=x||{}).runHandler="AppRouteRouteHandlers.runHandler",u),S=((d=S||{}).generateMetadata="ResolveMetadata.generateMetadata",d.generateViewport="ResolveMetadata.generateViewport",d),T=((h=T||{}).execute="Middleware.execute",h);let E=new Set(["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"]),A=new Set(["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]);e.s(["AppRenderSpan",()=>w,"BaseServerSpan",()=>f,"LogSpanAllowList",0,A,"NextNodeServerSpan",()=>g,"NextVanillaSpanAllowlist",0,E])},17413,(e,t,r)=>{(()=>{"use strict";let r,i,n,s,a;var o,l,c,u,d,h,f,p,m,g,y,b,w,v,_,x,S={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let i=r(223),n=r(172),s=r(930),a="context",o=new i.NoopContextManager;class l{static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,n.registerGlobal)(a,e,s.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...i){return this._getContextManager().with(e,t,r,...i)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,n.getGlobal)(a)||o}disable(){this._getContextManager().disable(),(0,n.unregisterGlobal)(a,s.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let i=r(56),n=r(912),s=r(957),a=r(172);class o{constructor(){function e(e){return function(...t){let r=(0,a.getGlobal)("diag");if(r)return r[e](...t)}}const t=this;t.setLogger=(e,r={logLevel:s.DiagLogLevel.INFO})=>{var i,o,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(i=e.stack)?i:e.message),!1}"number"==typeof r&&(r={logLevel:r});let c=(0,a.getGlobal)("diag"),u=(0,n.createLogLevelDiagLogger)(null!=(o=r.logLevel)?o:s.DiagLogLevel.INFO,e);if(c&&!r.suppressOverrideMessage){let e=null!=(l=Error().stack)?l:"<failed to generate stacktrace>";c.warn(`Current logger will be overwritten from ${e}`),u.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,a.registerGlobal)("diag",u,t,!0)},t.disable=()=>{(0,a.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new i.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new o),this._instance}}t.DiagAPI=o},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let i=r(660),n=r(172),s=r(930),a="metrics";class o{static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(e){return(0,n.registerGlobal)(a,e,s.DiagAPI.instance())}getMeterProvider(){return(0,n.getGlobal)(a)||i.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,n.unregisterGlobal)(a,s.DiagAPI.instance())}}t.MetricsAPI=o},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let i=r(172),n=r(874),s=r(194),a=r(277),o=r(369),l=r(930),c="propagation",u=new n.NoopTextMapPropagator;class d{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=a.getBaggage,this.getActiveBaggage=a.getActiveBaggage,this.setBaggage=a.setBaggage,this.deleteBaggage=a.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,i.registerGlobal)(c,e,l.DiagAPI.instance())}inject(e,t,r=s.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=s.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,i.unregisterGlobal)(c,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,i.getGlobal)(c)||u}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let i=r(172),n=r(846),s=r(139),a=r(607),o=r(930),l="trace";class c{constructor(){this._proxyTracerProvider=new n.ProxyTracerProvider,this.wrapSpanContext=s.wrapSpanContext,this.isSpanContextValid=s.isSpanContextValid,this.deleteSpan=a.deleteSpan,this.getSpan=a.getSpan,this.getActiveSpan=a.getActiveSpan,this.getSpanContext=a.getSpanContext,this.setSpan=a.setSpan,this.setSpanContext=a.setSpanContext}static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalTracerProvider(e){let t=(0,i.registerGlobal)(l,this._proxyTracerProvider,o.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,i.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,i.unregisterGlobal)(l,o.DiagAPI.instance()),this._proxyTracerProvider=new n.ProxyTracerProvider}}t.TraceAPI=c},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let i=r(491),n=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function s(e){return e.getValue(n)||void 0}t.getBaggage=s,t.getActiveBaggage=function(){return s(i.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(n,t)},t.deleteBaggage=function(e){return e.deleteValue(n)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let i=new r(this._entries);return i._entries.set(e,t),i}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let i=r(930),n=r(993),s=r(830),a=i.DiagAPI.instance();t.createBaggage=function(e={}){return new n.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(a.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:s.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0,t.context=r(491).ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let i=r(780);t.NoopContextManager=class{active(){return i.ROOT_CONTEXT}with(e,t,r,...i){return t.call(r,...i)}bind(e,t){return t}enable(){return this}disable(){return this}}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,i)=>{let n=new r(t._currentContext);return n._currentContext.set(e,i),n},t.deleteValue=e=>{let i=new r(t._currentContext);return i._currentContext.delete(e),i}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0,t.diag=r(930).DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let i=r(172);function n(e,t,r){let n=(0,i.getGlobal)("diag");if(n)return r.unshift(t),n[e](...r)}t.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return n("debug",this._namespace,e)}error(...e){return n("error",this._namespace,e)}info(...e){return n("info",this._namespace,e)}warn(...e){return n("warn",this._namespace,e)}verbose(...e){return n("verbose",this._namespace,e)}}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];t.DiagConsoleLogger=class{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let i=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,i){let n=t[r];return"function"==typeof n&&e>=i?n.bind(t):function(){}}return e<i.DiagLogLevel.NONE?e=i.DiagLogLevel.NONE:e>i.DiagLogLevel.ALL&&(e=i.DiagLogLevel.ALL),t=t||{},{error:r("error",i.DiagLogLevel.ERROR),warn:r("warn",i.DiagLogLevel.WARN),info:r("info",i.DiagLogLevel.INFO),debug:r("debug",i.DiagLogLevel.DEBUG),verbose:r("verbose",i.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,(r=t.DiagLogLevel||(t.DiagLogLevel={}))[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let i=r(200),n=r(521),s=r(130),a=n.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${a}`),l=i._globalThis;t.registerGlobal=function(e,t,r,i=!1){var s;let a=l[o]=null!=(s=l[o])?s:{version:n.VERSION};if(!i&&a[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(a.version!==n.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${a.version} for ${e} does not match previously registered API v${n.VERSION}`);return r.error(t.stack||t.message),!1}return a[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${n.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let i=null==(t=l[o])?void 0:t.version;if(i&&(0,s.isCompatible)(i))return null==(r=l[o])?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${n.VERSION}.`);let r=l[o];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let i=r(521),n=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function s(e){let t=new Set([e]),r=new Set,i=e.match(n);if(!i)return()=>!1;let s={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};if(null!=s.prerelease)return function(t){return t===e};function a(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let i=e.match(n);if(!i)return a(e);let o={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};if(null!=o.prerelease||s.major!==o.major)return a(e);if(0===s.major)return s.minor===o.minor&&s.patch<=o.patch?(t.add(e),!0):a(e);return s.minor<=o.minor?(t.add(e),!0):a(e)}}t._makeCompatibilityCheck=s,t.isCompatible=s(i.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0,t.metrics=r(653).MetricsAPI.getInstance()},901:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,(r=t.ValueType||(t.ValueType={}))[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class i{}t.NoopMetric=i;class n extends i{add(e,t){}}t.NoopCounterMetric=n;class s extends i{add(e,t){}}t.NoopUpDownCounterMetric=s;class a extends i{record(e,t){}}t.NoopHistogramMetric=a;class o{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=o;class l extends o{}t.NoopObservableCounterMetric=l;class c extends o{}t.NoopObservableGaugeMetric=c;class u extends o{}t.NoopObservableUpDownCounterMetric=u,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new n,t.NOOP_HISTOGRAM_METRIC=new a,t.NOOP_UP_DOWN_COUNTER_METRIC=new s,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new c,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new u,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let i=r(102);class n{getMeter(e,t,r){return i.NOOP_METER}}t.NoopMeterProvider=n,t.NOOP_METER_PROVIDER=new n},200:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(46),t)},651:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r._globalThis=void 0,r._globalThis="object"==typeof globalThis?globalThis:e.g},46:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0,t.propagation=r(181).PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0,t.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}}},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0,t.trace=r(997).TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let i=r(476);t.NonRecordingSpan=class{constructor(e=i.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let i=r(491),n=r(607),s=r(403),a=r(139),o=i.ContextAPI.getInstance();t.NoopTracer=class{startSpan(e,t,r=o.active()){var i;if(null==t?void 0:t.root)return new s.NonRecordingSpan;let l=r&&(0,n.getSpanContext)(r);return"object"==typeof(i=l)&&"string"==typeof i.spanId&&"string"==typeof i.traceId&&"number"==typeof i.traceFlags&&(0,a.isSpanContextValid)(l)?new s.NonRecordingSpan(l):new s.NonRecordingSpan}startActiveSpan(e,t,r,i){let s,a,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(s=t,l=r):(s=t,a=r,l=i);let c=null!=a?a:o.active(),u=this.startSpan(e,s,c),d=(0,n.setSpan)(c,u);return o.with(d,l,void 0,u)}}},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let i=r(614);t.NoopTracerProvider=class{getTracer(e,t,r){return new i.NoopTracer}}},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let i=new(r(614)).NoopTracer;t.ProxyTracer=class{constructor(e,t,r,i){this._provider=e,this.name=t,this.version=r,this.options=i}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,i){let n=this._getTracer();return Reflect.apply(n.startActiveSpan,n,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):i}}},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let i=r(125),n=new(r(124)).NoopTracerProvider;t.ProxyTracerProvider=class{getTracer(e,t,r){var n;return null!=(n=this.getDelegateTracer(e,t,r))?n:new i.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!=(e=this._delegate)?e:n}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var i;return null==(i=this._delegate)?void 0:i.getTracer(e,t,r)}}},996:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,(r=t.SamplingDecision||(t.SamplingDecision={}))[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let i=r(780),n=r(403),s=r(491),a=(0,i.createContextKey)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(a)||void 0}function l(e,t){return e.setValue(a,t)}t.getSpan=o,t.getActiveSpan=function(){return o(s.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(a)},t.setSpanContext=function(e,t){return l(e,new n.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null==(t=o(e))?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let i=r(564);class n{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),n=r.indexOf("=");if(-1!==n){let s=r.slice(0,n),a=r.slice(n+1,t.length);(0,i.validateKey)(s)&&(0,i.validateValue)(a)&&e.set(s,a)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new n;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=n},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",i=`[a-z]${r}{0,255}`,n=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,s=RegExp(`^(?:${i}|${n})$`),a=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return s.test(e)},t.validateValue=function(e){return a.test(e)&&!o.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let i=r(325);t.createTraceState=function(e){return new i.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let i=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:i.TraceFlags.NONE}},357:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,(r=t.SpanKind||(t.SpanKind={}))[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let i=r(476),n=r(403),s=/^([0-9a-f]{32})$/i,a=/^[0-9a-f]{16}$/i;function o(e){return s.test(e)&&e!==i.INVALID_TRACEID}function l(e){return a.test(e)&&e!==i.INVALID_SPANID}t.isValidTraceId=o,t.isValidSpanId=l,t.isSpanContextValid=function(e){return o(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new n.NonRecordingSpan(e)}},847:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,(r=t.SpanStatusCode||(t.SpanStatusCode={}))[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"},475:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,(r=t.TraceFlags||(t.TraceFlags={}))[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},T={};function E(e){var t=T[e];if(void 0!==t)return t.exports;var r=T[e]={exports:{}},i=!0;try{S[e].call(r.exports,r,r.exports,E),i=!1}finally{i&&delete T[e]}return r.exports}E.ab="/ROOT/node_modules/next/dist/compiled/@opentelemetry/api/";var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.trace=A.propagation=A.metrics=A.diag=A.context=A.INVALID_SPAN_CONTEXT=A.INVALID_TRACEID=A.INVALID_SPANID=A.isValidSpanId=A.isValidTraceId=A.isSpanContextValid=A.createTraceState=A.TraceFlags=A.SpanStatusCode=A.SpanKind=A.SamplingDecision=A.ProxyTracerProvider=A.ProxyTracer=A.defaultTextMapSetter=A.defaultTextMapGetter=A.ValueType=A.createNoopMeter=A.DiagLogLevel=A.DiagConsoleLogger=A.ROOT_CONTEXT=A.createContextKey=A.baggageEntryMetadataFromString=void 0,o=E(369),Object.defineProperty(A,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return o.baggageEntryMetadataFromString}}),l=E(780),Object.defineProperty(A,"createContextKey",{enumerable:!0,get:function(){return l.createContextKey}}),Object.defineProperty(A,"ROOT_CONTEXT",{enumerable:!0,get:function(){return l.ROOT_CONTEXT}}),c=E(972),Object.defineProperty(A,"DiagConsoleLogger",{enumerable:!0,get:function(){return c.DiagConsoleLogger}}),u=E(957),Object.defineProperty(A,"DiagLogLevel",{enumerable:!0,get:function(){return u.DiagLogLevel}}),d=E(102),Object.defineProperty(A,"createNoopMeter",{enumerable:!0,get:function(){return d.createNoopMeter}}),h=E(901),Object.defineProperty(A,"ValueType",{enumerable:!0,get:function(){return h.ValueType}}),f=E(194),Object.defineProperty(A,"defaultTextMapGetter",{enumerable:!0,get:function(){return f.defaultTextMapGetter}}),Object.defineProperty(A,"defaultTextMapSetter",{enumerable:!0,get:function(){return f.defaultTextMapSetter}}),p=E(125),Object.defineProperty(A,"ProxyTracer",{enumerable:!0,get:function(){return p.ProxyTracer}}),m=E(846),Object.defineProperty(A,"ProxyTracerProvider",{enumerable:!0,get:function(){return m.ProxyTracerProvider}}),g=E(996),Object.defineProperty(A,"SamplingDecision",{enumerable:!0,get:function(){return g.SamplingDecision}}),y=E(357),Object.defineProperty(A,"SpanKind",{enumerable:!0,get:function(){return y.SpanKind}}),b=E(847),Object.defineProperty(A,"SpanStatusCode",{enumerable:!0,get:function(){return b.SpanStatusCode}}),w=E(475),Object.defineProperty(A,"TraceFlags",{enumerable:!0,get:function(){return w.TraceFlags}}),v=E(98),Object.defineProperty(A,"createTraceState",{enumerable:!0,get:function(){return v.createTraceState}}),_=E(139),Object.defineProperty(A,"isSpanContextValid",{enumerable:!0,get:function(){return _.isSpanContextValid}}),Object.defineProperty(A,"isValidTraceId",{enumerable:!0,get:function(){return _.isValidTraceId}}),Object.defineProperty(A,"isValidSpanId",{enumerable:!0,get:function(){return _.isValidSpanId}}),x=E(476),Object.defineProperty(A,"INVALID_SPANID",{enumerable:!0,get:function(){return x.INVALID_SPANID}}),Object.defineProperty(A,"INVALID_TRACEID",{enumerable:!0,get:function(){return x.INVALID_TRACEID}}),Object.defineProperty(A,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return x.INVALID_SPAN_CONTEXT}}),r=E(67),Object.defineProperty(A,"context",{enumerable:!0,get:function(){return r.context}}),i=E(506),Object.defineProperty(A,"diag",{enumerable:!0,get:function(){return i.diag}}),n=E(886),Object.defineProperty(A,"metrics",{enumerable:!0,get:function(){return n.metrics}}),s=E(939),Object.defineProperty(A,"propagation",{enumerable:!0,get:function(){return s.propagation}}),a=E(845),Object.defineProperty(A,"trace",{enumerable:!0,get:function(){return a.trace}}),A.default={context:r.context,diag:i.diag,metrics:n.metrics,propagation:s.propagation,trace:a.trace},t.exports=A})()},61916,e=>{"use strict";let t,r;var i=e.i(95169);let n=process.env.NEXT_OTEL_PERFORMANCE_PREFIX;try{t=e.r(70406)}catch(r){t=e.r(17413)}let{context:s,propagation:a,trace:o,SpanStatusCode:l,SpanKind:c,ROOT_CONTEXT:u}=t;class d extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}let h=(e,t)=>{"object"==typeof t&&null!==t&&t instanceof d&&t.bubble?e.setAttribute("next.bubble",!0):(t&&(e.recordException(t),e.setAttribute("error.type",t.name)),e.setStatus({code:l.ERROR,message:null==t?void 0:t.message})),e.end()},f=new Map,p=t.createContextKey("next.rootSpanId"),m=0,g={set(e,t,r){e.push({key:t,value:r})}},y=(r=new class e{getTracerInstance(){return o.getTracer("next.js","0.0.1")}getContext(){return s}getTracePropagationData(){let e=s.active(),t=[];return a.inject(e,t,g),t}getActiveScopeSpan(){return o.getSpan(null==s?void 0:s.active())}withPropagatedContext(e,t,r){let i=s.active();if(o.getSpanContext(i))return t();let n=a.extract(i,e,r);return s.with(n,t)}trace(...e){let[t,r,a]=e,{fn:o,options:l}="function"==typeof r?{fn:r,options:{}}:{fn:a,options:{...r}},c=l.spanName??t;if(!i.NextVanillaSpanAllowlist.has(t)&&"1"!==process.env.NEXT_OTEL_VERBOSE||l.hideSpan)return o();let d=this.getSpanContext((null==l?void 0:l.parentSpan)??this.getActiveScopeSpan());d||(d=(null==s?void 0:s.active())??u);let g=d.getValue(p),y="number"!=typeof g||!f.has(g),b=m++;return l.attributes={"next.span_name":c,"next.span_type":t,...l.attributes},s.with(d.setValue(p,b),()=>this.getTracerInstance().startActiveSpan(c,l,e=>{let r;n&&t&&i.LogSpanAllowList.has(t)&&(r="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0);let s=!1,a=()=>{!s&&(s=!0,f.delete(b),r&&performance.measure(`${n}:next-${(t.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:r,end:performance.now()}))};if(y&&f.set(b,new Map(Object.entries(l.attributes??{}))),o.length>1)try{return o(e,t=>h(e,t))}catch(t){throw h(e,t),t}finally{a()}try{let t=o(e);if(null!==t&&"object"==typeof t&&"then"in t&&"function"==typeof t.then)return t.then(t=>(e.end(),t)).catch(t=>{throw h(e,t),t}).finally(a);return e.end(),a(),t}catch(t){throw h(e,t),a(),t}}))}wrap(...e){let t=this,[r,n,a]=3===e.length?e:[e[0],{},e[1]];return i.NextVanillaSpanAllowlist.has(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof a&&(e=e.apply(this,arguments));let i=arguments.length-1,o=arguments[i];if("function"!=typeof o)return t.trace(r,e,()=>a.apply(this,arguments));{let n=t.getContext().bind(s.active(),o);return t.trace(r,e,(e,t)=>(arguments[i]=function(e){return null==t||t(e),n.apply(this,arguments)},a.apply(this,arguments)))}}:a}startSpan(...e){let[t,r]=e,i=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,i)}getSpanContext(e){return e?o.setSpan(s.active(),e):void 0}getRootSpanAttributes(){let e=s.active().getValue(p);return f.get(e)}setRootSpanAttribute(e,t){let r=s.active().getValue(p),i=f.get(r);i&&!i.has(e)&&i.set(e,t)}withSpan(e,t){let r=o.setSpan(s.active(),e);return s.with(r,t)}},()=>r);e.s(["SpanKind",()=>c,"getTracer",()=>y],61916)},10372,e=>{"use strict";let t={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};t.reactServerComponents,t.actionBrowser,t.reactServerComponents,t.actionBrowser,t.instrument,t.middleware,t.apiNode,t.apiEdge,t.serverSideRendering,t.appPagesBrowser,t.reactServerComponents,t.actionBrowser,t.serverSideRendering,t.appPagesBrowser,t.shared,t.instrument,t.middleware,t.reactServerComponents,t.serverSideRendering,t.appPagesBrowser,t.actionBrowser,e.s(["CACHE_ONE_YEAR",0,31536e3,"HTML_CONTENT_TYPE_HEADER",0,"text/html; charset=utf-8","INFINITE_CACHE",0,0xfffffffe,"NEXT_CACHE_TAGS_HEADER",0,"x-next-cache-tags","NEXT_CACHE_TAG_MAX_ITEMS",0,128,"NEXT_CACHE_TAG_MAX_LENGTH",0,256])},42315,(e,t,r)=>{"use strict";t.exports=e.r(18622)},47540,(e,t,r)=>{"use strict";t.exports=e.r(42315).vendored["react-rsc"].React},43891,e=>{"use strict";class t extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}e.s(["InvariantError",()=>t])},220,e=>{"use strict";var t,r,i=((t={}).APP_PAGE="APP_PAGE",t.APP_ROUTE="APP_ROUTE",t.PAGES="PAGES",t.FETCH="FETCH",t.REDIRECT="REDIRECT",t.IMAGE="IMAGE",t),n=((r={}).APP_PAGE="APP_PAGE",r.APP_ROUTE="APP_ROUTE",r.PAGES="PAGES",r.FETCH="FETCH",r.IMAGE="IMAGE",r);e.s(["CachedRouteKind",()=>i,"IncrementalCacheKind",()=>n])},59756,e=>{"use strict";let t=Symbol.for("NextInternalRequestMeta");function r(e,r){let i=e[t]||{};return"string"==typeof r?i[r]:i}function i(e,i,n){let s=r(e);return s[i]=n,e[t]=s,s}e.s(["NEXT_REQUEST_META",0,t,"addRequestMeta",()=>i,"getRequestMeta",()=>r])},70101,e=>{"use strict";function t(e){let t=new Headers;for(let[r,i]of Object.entries(e))for(let e of Array.isArray(i)?i:[i])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function r(e){var t,r,i,n,s,a=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;l();)if(","===(r=e.charAt(o))){for(i=o,o+=1,l(),n=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=n,a.push(e.substring(t,i)),t=o):o=i+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}function i(e){let t={},i=[];if(e)for(let[n,s]of e.entries())"set-cookie"===n.toLowerCase()?(i.push(...r(s)),t[n]=1===i.length?i[0]:i):t[n]=s;return t}function n(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}e.i(10372),e.s(["fromNodeOutgoingHttpHeaders",()=>t,"splitCookiesString",()=>r,"toNodeOutgoingHttpHeaders",()=>i,"validateURL",()=>n])},97129,14270,41692,e=>{"use strict";function t(e){let t=e.indexOf("#"),r=e.indexOf("?"),i=r>-1&&(t<0||r<t);return i||t>-1?{pathname:e.substring(0,i?r:t),query:i?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}function r(e,r){if("string"!=typeof e)return!1;let{pathname:i}=t(e);return i===r||i.startsWith(r+"/")}function i(e,t){if(!r(e,t))return e;let i=e.slice(t.length);return i.startsWith("/")?i:`/${i}`}e.s(["parsePath",()=>t],97129),e.s(["pathHasPrefix",()=>r],14270),e.s(["removePathPrefix",()=>i],41692)},19481,(e,t,r)=>{"use strict";var i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,o={},l={RequestCookies:()=>m,ResponseCookies:()=>g,parseCookie:()=>d,parseSetCookie:()=>h,stringifyCookie:()=>u};for(var c in l)i(o,c,{get:l[c],enumerable:!0});function u(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),i=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?i:`${i}; ${r.join("; ")}`}function d(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[i,n]=[r.slice(0,e),r.slice(e+1)];try{t.set(i,decodeURIComponent(null!=n?n:"true"))}catch{}}return t}function h(e){if(!e)return;let[[t,r],...i]=d(e),{domain:n,expires:s,httponly:a,maxage:o,path:l,samesite:c,secure:u,partitioned:h,priority:m}=Object.fromEntries(i.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));{var g,y,b={name:t,value:decodeURIComponent(r),domain:n,...s&&{expires:new Date(s)},...a&&{httpOnly:!0},..."string"==typeof o&&{maxAge:Number(o)},path:l,...c&&{sameSite:f.includes(g=(g=c).toLowerCase())?g:void 0},...u&&{secure:!0},...m&&{priority:p.includes(y=(y=m).toLowerCase())?y:void 0},...h&&{partitioned:!0}};let e={};for(let t in b)b[t]&&(e[t]=b[t]);return e}}t.exports=((e,t,r,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of s(t))a.call(e,l)||l===r||i(e,l,{get:()=>t[l],enumerable:!(o=n(t,l))||o.enumerable});return e})(i({},"__esModule",{value:!0}),o);var f=["strict","lax","none"],p=["low","medium","high"],m=class{constructor(e){this._parsed=new Map,this._headers=e;const t=e.get("cookie");if(t)for(const[e,r]of d(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===i).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,i=this._parsed;return i.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(i).map(([e,t])=>u(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>u(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},g=class{constructor(e){var t,r,i;this._parsed=new Map,this._headers=e;const n=null!=(i=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?i:[];for(const e of Array.isArray(n)?n:function(e){if(!e)return[];var t,r,i,n,s,a=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;l();)if(","===(r=e.charAt(o))){for(i=o,o+=1,l(),n=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=n,a.push(e.substring(t,i)),t=o):o=i+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}(n)){const t=h(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===i)}has(e){return this._parsed.has(e)}set(...e){let[t,r,i]=1===e.length?[e[0].name,e[0].value,e[0]]:e,n=this._parsed;return n.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...i})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=u(r);t.append("set-cookie",e)}}(n,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(u).join("; ")}}},87718,48758,e=>{"use strict";var t=e.i(59756),r=e.i(70101);function i(e){return e.replace(/\/$/,"")||"/"}var n=e.i(97129);function s(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:s}=(0,n.parsePath)(e);return`${t}${r}${i}${s}`}function a(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:s}=(0,n.parsePath)(e);return`${r}${t}${i}${s}`}var o=e.i(14270);let l=new WeakMap;function c(e,t){let r;if(!t)return{pathname:e};let i=l.get(t);i||(i=t.map(e=>e.toLowerCase()),l.set(t,i));let n=e.split("/",2);if(!n[1])return{pathname:e};let s=n[1].toLowerCase(),a=i.indexOf(s);return a<0?{pathname:e}:(r=t[a],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}var u=e.i(41692);let d=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function h(e,t){return new URL(String(e).replace(d,"localhost"),t&&String(t).replace(d,"localhost"))}let f=Symbol("NextURLInternal");class p{constructor(e,t,r){let i,n;"object"==typeof t&&"pathname"in t||"string"==typeof t?(i=t,n=r||{}):n=r||t||{},this[f]={url:h(e,i??n.base),options:n,basePath:""},this.analyze()}analyze(){var e,t,r,i,n;let s=function(e,t){let{basePath:r,i18n:i,trailingSlash:n}=t.nextConfig??{},s={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):n};r&&(0,o.pathHasPrefix)(s.pathname,r)&&(s.pathname=(0,u.removePathPrefix)(s.pathname,r),s.basePath=r);let a=s.pathname;if(s.pathname.startsWith("/_next/data/")&&s.pathname.endsWith(".json")){let e=s.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");s.buildId=e[0],a="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(s.pathname=a)}if(i){let e=t.i18nProvider?t.i18nProvider.analyze(s.pathname):c(s.pathname,i.locales);s.locale=e.detectedLocale,s.pathname=e.pathname??s.pathname,!e.detectedLocale&&s.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(a):c(a,i.locales)).detectedLocale&&(s.locale=e.detectedLocale)}return s}(this[f].url.pathname,{nextConfig:this[f].options.nextConfig,parseData:!0,i18nProvider:this[f].options.i18nProvider}),a=function(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}(this[f].url,this[f].options.headers);this[f].domainLocale=this[f].options.i18nProvider?this[f].options.i18nProvider.detectDomainLocale(a):function(e,t,r){if(e){for(let i of(r&&(r=r.toLowerCase()),e))if(t===i.domain?.split(":",1)[0].toLowerCase()||r===i.defaultLocale.toLowerCase()||i.locales?.some(e=>e.toLowerCase()===r))return i}}(null==(t=this[f].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,a);let l=(null==(r=this[f].domainLocale)?void 0:r.defaultLocale)||(null==(n=this[f].options.nextConfig)||null==(i=n.i18n)?void 0:i.defaultLocale);this[f].url.pathname=s.pathname,this[f].defaultLocale=l,this[f].basePath=s.basePath??"",this[f].buildId=s.buildId,this[f].locale=s.locale??l,this[f].trailingSlash=s.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,r,i){if(!t||t===r)return e;let n=e.toLowerCase();return!i&&((0,o.pathHasPrefix)(n,"/api")||(0,o.pathHasPrefix)(n,`/${t.toLowerCase()}`))?e:s(e,`/${t}`)}((e={basePath:this[f].basePath,buildId:this[f].buildId,defaultLocale:this[f].options.forceLocale?void 0:this[f].defaultLocale,locale:this[f].locale,pathname:this[f].url.pathname,trailingSlash:this[f].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=i(t)),e.buildId&&(t=a(s(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=s(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:a(t,"/"):i(t)}formatSearch(){return this[f].url.search}get buildId(){return this[f].buildId}set buildId(e){this[f].buildId=e}get locale(){return this[f].locale??""}set locale(e){var t,r;if(!this[f].locale||!(null==(r=this[f].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[f].locale=e}get defaultLocale(){return this[f].defaultLocale}get domainLocale(){return this[f].domainLocale}get searchParams(){return this[f].url.searchParams}get host(){return this[f].url.host}set host(e){this[f].url.host=e}get hostname(){return this[f].url.hostname}set hostname(e){this[f].url.hostname=e}get port(){return this[f].url.port}set port(e){this[f].url.port=e}get protocol(){return this[f].url.protocol}set protocol(e){this[f].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[f].url=h(e),this.analyze()}get origin(){return this[f].url.origin}get pathname(){return this[f].url.pathname}set pathname(e){this[f].url.pathname=e}get hash(){return this[f].url.hash}set hash(e){this[f].url.hash=e}get search(){return this[f].url.search}set search(e){this[f].url.search=e}get password(){return this[f].url.password}set password(e){this[f].url.password=e}get username(){return this[f].url.username}set username(e){this[f].url.username=e}get basePath(){return this[f].basePath}set basePath(e){this[f].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new p(String(this),this[f].options)}}class m extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class g extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}var y=e.i(19481);let b=Symbol("internal request");class w extends Request{constructor(e,t={}){const i="string"!=typeof e&&"url"in e?e.url:String(e);(0,r.validateURL)(i),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(i,t);const n=new p(i,{headers:(0,r.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[b]={cookies:new y.RequestCookies(this.headers),nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[b].cookies}get nextUrl(){return this[b].nextUrl}get page(){throw new m}get ua(){throw new g}get url(){return this[b].url}}let v=e=>!0;e.s(["isNodeNextRequest",0,v,"isNodeNextResponse",0,e=>!0,"isWebNextRequest",0,e=>!1],48758);let _="ResponseAborted";class x extends Error{constructor(...e){super(...e),this.name=_}}function S(e){let t=new AbortController;return e.once("close",()=>{e.writableFinished||t.abort(new x)}),t}function T(e){let{errored:t,destroyed:r}=e;if(t||r)return AbortSignal.abort(t??new x);let{signal:i}=S(e);return i}class E{static fromBaseNextRequest(e,t){if(v(e))return E.fromNodeNextRequest(e,t);throw Object.defineProperty(Error("Invariant: Unsupported NextRequest type"),"__NEXT_ERROR_CODE",{value:"E345",enumerable:!1,configurable:!0})}static fromNodeNextRequest(e,i){let n,s=null;if("GET"!==e.method&&"HEAD"!==e.method&&e.body&&(s=e.body),e.url.startsWith("http"))n=new URL(e.url);else{let r=(0,t.getRequestMeta)(e,"initURL");n=r&&r.startsWith("http")?new URL(e.url,r):new URL(e.url,"http://n")}return new w(n,{method:e.method,headers:(0,r.fromNodeOutgoingHttpHeaders)(e.headers),duplex:"half",signal:i,...i.aborted?{}:{body:s}})}static fromWebNextRequest(e){let t=null;return"GET"!==e.method&&"HEAD"!==e.method&&(t=e.body),new w(e.url,{method:e.method,headers:(0,r.fromNodeOutgoingHttpHeaders)(e.headers),duplex:"half",signal:e.request.signal,...e.request.signal.aborted?{}:{body:t}})}}e.s(["NextRequestAdapter",()=>E,"ResponseAbortedName",0,_,"createAbortController",()=>S,"signalFromNodeResponse",()=>T],87718)},43486,52362,e=>{"use strict";class t{constructor(){let e,t;this.promise=new Promise((r,i)=>{e=r,t=i}),this.resolve=e,this.reject=t}}e.s(["DetachedPromise",()=>t],43486);var r=e.i(87718),i=e.i(61916),n=e.i(95169);let s=0,a=0,o=0;function l(e){return(null==e?void 0:e.name)==="AbortError"||(null==e?void 0:e.name)===r.ResponseAbortedName}async function c(e,c,u){try{let{errored:l,destroyed:d}=c;if(l||d)return;let h=(0,r.createAbortController)(c),f=function(e,r){let l=!1,c=new t;function u(){c.resolve()}e.on("drain",u),e.once("close",()=>{e.off("drain",u),c.resolve()});let d=new t;return e.once("finish",()=>{d.resolve()}),new WritableStream({write:async r=>{if(!l){if(l=!0,"performance"in globalThis&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){let e=function(e={}){let t=0===s?void 0:{clientComponentLoadStart:s,clientComponentLoadTimes:a,clientComponentLoadCount:o};return e.reset&&(s=0,a=0,o=0),t}();e&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:e.clientComponentLoadStart,end:e.clientComponentLoadStart+e.clientComponentLoadTimes})}e.flushHeaders(),(0,i.getTracer)().trace(n.NextNodeServerSpan.startResponse,{spanName:"start response"},()=>void 0)}try{let i=e.write(r);"flush"in e&&"function"==typeof e.flush&&e.flush(),i||(await c.promise,c=new t)}catch(t){throw e.end(),Object.defineProperty(Error("failed to write chunk to response",{cause:t}),"__NEXT_ERROR_CODE",{value:"E321",enumerable:!1,configurable:!0})}},abort:t=>{e.writableFinished||e.destroy(t)},close:async()=>{if(r&&await r,!e.writableFinished)return e.end(),d.promise}})}(c,u);await e.pipeTo(f,{signal:h.signal})}catch(e){if(l(e))return;throw Object.defineProperty(Error("failed to pipe response",{cause:e}),"__NEXT_ERROR_CODE",{value:"E180",enumerable:!1,configurable:!0})}}e.s(["isAbortError",()=>l,"pipeToNodeResponse",()=>c],52362)},5582,52474,e=>{"use strict";function t(){}e.s(["scheduleOnNextTick",0,e=>{Promise.resolve().then(()=>{process.nextTick(e)})}],5582),e.i(43486),e.i(220),e.i(61916),e.i(95169),new Uint8Array([60,104,116,109,108]),new Uint8Array([60,98,111,100,121]),new Uint8Array([60,47,104,101,97,100,62]),new Uint8Array([60,47,98,111,100,121,62]),new Uint8Array([60,47,104,116,109,108,62]),new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62]),new Uint8Array([60,109,101,116,97,32,110,97,109,101,61,34,194,171,110,120,116,45,105,99,111,110,194,187,34]);let r=new TextEncoder;function i(e){return new ReadableStream({start(t){t.enqueue(r.encode(e)),t.close()}})}function n(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}async function s(e,t){let r=new TextDecoder("utf-8",{fatal:!0}),i="";for await(let n of e){if(null==t?void 0:t.aborted)return i;i+=r.decode(n,{stream:!0})}return i+r.decode()}var a=e.i(52362),o=e.i(43891);class l{static #e=this.EMPTY=new l(null,{metadata:{},contentType:null});static fromStatic(e,t){return new l(e,{metadata:{},contentType:t})}constructor(e,{contentType:t,waitUntil:r,metadata:i}){this.response=e,this.contentType=t,this.metadata=i,this.waitUntil=r}assignMetadata(e){Object.assign(this.metadata,e)}get isNull(){return null===this.response}get isDynamic(){return"string"!=typeof this.response}toUnchunkedString(e=!1){if(null===this.response)return"";if("string"!=typeof this.response){if(!e)throw Object.defineProperty(new o.InvariantError("dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E732",enumerable:!1,configurable:!0});return s(this.readable)}return this.response}get readable(){return null===this.response?new ReadableStream({start(e){e.close()}}):"string"==typeof this.response?i(this.response):Buffer.isBuffer(this.response)?n(this.response):Array.isArray(this.response)?function(...e){if(0===e.length)return new ReadableStream({start(e){e.close()}});if(1===e.length)return e[0];let{readable:r,writable:i}=new TransformStream,n=e[0].pipeTo(i,{preventClose:!0}),s=1;for(;s<e.length-1;s++){let t=e[s];n=n.then(()=>t.pipeTo(i,{preventClose:!0}))}let a=e[s];return(n=n.then(()=>a.pipeTo(i))).catch(t),r}(...this.response):this.response}coerce(){return null===this.response?[]:"string"==typeof this.response?[i(this.response)]:Array.isArray(this.response)?this.response:Buffer.isBuffer(this.response)?[n(this.response)]:[this.response]}unshift(e){this.response=this.coerce(),this.response.unshift(e)}push(e){this.response=this.coerce(),this.response.push(e)}async pipeTo(e){try{await this.readable.pipeTo(e,{preventClose:!0}),this.waitUntil&&await this.waitUntil,await e.close()}catch(t){if((0,a.isAbortError)(t))return void await e.abort(t);throw t}}async pipeToNodeResponse(e){await (0,a.pipeToNodeResponse)(this.readable,e,this.waitUntil)}}e.i(74017),e.i(10372),e.s([],52474)},96250,e=>{"use strict";let t;var r,i=e.i(95169),n=e.i(61916),s=e.i(10372),a=e.i(47540);class o extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest="DYNAMIC_SERVER_USAGE"}}class l extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}var c=e.i(32319);e.i(56704);class u extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest="HANGING_PROMISE_REJECTION"}}let d=new WeakMap;function h(e,t,r){if(e.aborted)return Promise.reject(new u(t,r));{let i=new Promise((i,n)=>{let s=n.bind(null,new u(t,r)),a=d.get(e);if(a)a.push(s);else{let t=[s];d.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return i.catch(f),i}}function f(){}e.i(5582);var p=e.i(43891);let m="function"==typeof a.default.unstable_postpone;function g(e,t,r){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new l(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":var i,n,s;return i=e.route,n=r,s=t.dynamicTracking,void(function(){if(!m)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})}(),s&&s.dynamicAccesses.push({stack:s.isDebugDynamicAccesses?Error().stack:void 0,expression:n}),a.default.unstable_postpone(y(i,n)));case"prerender-legacy":t.revalidate=0;let c=Object.defineProperty(new o(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=c.stack,c}}}function y(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}if(!1===((r=y("%%%","^^^")).includes("needs to bail out of prerendering at this point because it used")&&r.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)`),RegExp(`\\n\\s+at __next_metadata_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_viewport_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_outlet_boundary__[\\n\\s]`);let b=()=>{};function w(e){if(!e.body)return[e,e];let[r,i]=e.body.tee(),n=new Response(r,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(n,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),t&&n.body&&t.register(n,new WeakRef(n.body));let s=new Response(i,{status:e.status,statusText:e.statusText,headers:e.headers});return Object.defineProperty(s,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),[n,s]}globalThis.FinalizationRegistry&&(t=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&t.cancel("Response object has been garbage collected").then(b)}));let v=new Set(["traceparent","tracestate"]);e.i(52474);var _=e.i(220);let x=Symbol.for("next-patch");function S(e,t){e.shouldTrackFetchMetrics&&(e.fetchMetrics??=[],e.fetchMetrics.push({...t,end:performance.timeOrigin+performance.now(),idx:e.nextFetchId||0}))}async function T(e,t,r,i,n,s){let a=await e.arrayBuffer(),o={headers:Object.fromEntries(e.headers.entries()),body:Buffer.from(a).toString("base64"),status:e.status,url:e.url};return r&&await i.set(t,{kind:_.CachedRouteKind.FETCH,data:o,revalidate:n},r),await s(),new Response(a,{headers:e.headers,status:e.status,statusText:e.statusText})}async function E(e,t,r,i,n,s,a,o,l){let[c,u]=w(t),d=c.arrayBuffer().then(async e=>{let t=Buffer.from(e),o={headers:Object.fromEntries(c.headers.entries()),body:t.toString("base64"),status:c.status,url:c.url};null==s||s.set(r,o),i&&await n.set(r,{kind:_.CachedRouteKind.FETCH,data:o,revalidate:a},i)}).catch(e=>console.warn("Failed to set fetch cache",o,e)).finally(l),h=`cache-set-${r}`,f=e.pendingRevalidates??={},p=Promise.resolve();return h in f&&(p=f[h]),f[h]=p.then(()=>d).finally(()=>{(null==f?void 0:f[h])&&delete f[h]}),u}function A(e){var t;let r;if(!0===globalThis[x])return;let o=(t=globalThis.fetch,r=a.cache(e=>[]),function(e,i){let n,s;if(i&&i.signal)return t(e,i);if("string"!=typeof e||i){let r,a="string"==typeof e||e instanceof URL?new Request(e,i):e;if("GET"!==a.method&&"HEAD"!==a.method||a.keepalive)return t(e,i);r=Array.from(a.headers.entries()).filter(([e])=>!v.has(e.toLowerCase())),s=JSON.stringify([a.method,r,a.mode,a.redirect,a.credentials,a.referrer,a.referrerPolicy,a.integrity]),n=a.url}else s='["GET",[],null,"follow",null,null,null,null]',n=e;let a=r(n);for(let e=0,t=a.length;e<t;e+=1){let[t,r]=a[e];if(t===s)return r.then(()=>{let t=a[e][2];if(!t)throw Object.defineProperty(new p.InvariantError("No cached response"),"__NEXT_ERROR_CODE",{value:"E579",enumerable:!1,configurable:!0});let[r,i]=w(t);return a[e][2]=i,r})}let o=t(e,i),l=[s,o,null];return a.push(l),o.then(e=>{let[t,r]=w(e);return l[2]=r,t})});globalThis.fetch=function(e,{workAsyncStorage:t,workUnitAsyncStorage:r}){let a=async function(a,o){var l,u;let d;try{(d=new URL(a instanceof Request?a.url:a)).username="",d.password=""}catch{d=void 0}let f=(null==d?void 0:d.href)??"",p=(null==o||null==(l=o.method)?void 0:l.toUpperCase())||"GET",m=(null==o||null==(u=o.next)?void 0:u.internal)===!0,y="1"===process.env.NEXT_OTEL_FETCH_DISABLED,b=m?void 0:performance.timeOrigin+performance.now(),v=t.getStore(),x=r.getStore(),A=x?(0,c.getCacheSignal)(x):null;A&&A.beginRead();let P=(0,n.getTracer)().trace(m?i.NextNodeServerSpan.internalFetch:i.AppRenderSpan.fetch,{hideSpan:y,kind:n.SpanKind.CLIENT,spanName:["fetch",p,f].filter(Boolean).join(" "),attributes:{"http.url":f,"http.method":p,"net.peer.name":null==d?void 0:d.hostname,"net.peer.port":(null==d?void 0:d.port)||void 0}},async()=>{var t;let r,i,n,l,c,u;if(m||!v||v.isDraftMode)return e(a,o);let d=a&&"object"==typeof a&&"string"==typeof a.method,p=e=>(null==o?void 0:o[e])||(d?a[e]:null),y=e=>{var t,r,i;return void 0!==(null==o||null==(t=o.next)?void 0:t[e])?null==o||null==(r=o.next)?void 0:r[e]:d?null==(i=a.next)?void 0:i[e]:void 0},P=y("revalidate"),k=P,N=function(e,t){let r=[],i=[];for(let n=0;n<e.length;n++){let a=e[n];if("string"!=typeof a?i.push({tag:a,reason:"invalid type, must be a string"}):a.length>s.NEXT_CACHE_TAG_MAX_LENGTH?i.push({tag:a,reason:`exceeded max length of ${s.NEXT_CACHE_TAG_MAX_LENGTH}`}):r.push(a),r.length>s.NEXT_CACHE_TAG_MAX_ITEMS){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(n).join(", "));break}}if(i.length>0)for(let{tag:e,reason:r}of(console.warn(`Warning: invalid tags passed to ${t}: `),i))console.log(`tag: "${e}" ${r}`);return r}(y("tags")||[],`fetch ${a.toString()}`);if(x)switch(x.type){case"prerender":case"prerender-runtime":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":r=x}if(r&&Array.isArray(N)){let e=r.tags??(r.tags=[]);for(let t of N)e.includes(t)||e.push(t)}let R=null==x?void 0:x.implicitTags,O=v.fetchCache;x&&"unstable-cache"===x.type&&(O="force-no-store");let q=!!v.isUnstableNoStore,I=p("cache"),$="";"string"==typeof I&&void 0!==k&&("force-cache"===I&&0===k||"no-store"===I&&(k>0||!1===k))&&(i=`Specified "cache: ${I}" and "revalidate: ${k}", only one should be specified.`,I=void 0,k=void 0);let j="no-cache"===I||"no-store"===I||"force-no-store"===O||"only-no-store"===O,L=!O&&!I&&!k&&v.forceDynamic;"force-cache"===I&&void 0===k?k=!1:(j||L)&&(k=0),("no-cache"===I||"no-store"===I)&&($=`cache: ${I}`),u=function(e,t){try{let r;if(!1===e)r=s.INFINITE_CACHE;else if("number"==typeof e&&!isNaN(e)&&e>-1)r=e;else if(void 0!==e)throw Object.defineProperty(Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or false`),"__NEXT_ERROR_CODE",{value:"E179",enumerable:!1,configurable:!0});return r}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}(k,v.route);let D=p("headers"),M="function"==typeof(null==D?void 0:D.get)?D:new Headers(D||{}),U=M.get("authorization")||M.get("cookie"),B=!["get","head"].includes((null==(t=p("method"))?void 0:t.toLowerCase())||"get"),K=void 0==O&&(void 0==I||"default"===I)&&void 0==k,H=!!((U||B)&&(null==r?void 0:r.revalidate)===0),Q=!1;if(!H&&K&&(v.isBuildTimePrerendering?Q=!0:H=!0),K&&void 0!==x)switch(x.type){case"prerender":case"prerender-runtime":case"prerender-client":return A&&(A.endRead(),A=null),h(x.renderSignal,v.route,"fetch()")}switch(O){case"force-no-store":$="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===I||void 0!==u&&u>0)throw Object.defineProperty(Error(`cache: 'force-cache' used on fetch for ${f} with 'export const fetchCache = 'only-no-store'`),"__NEXT_ERROR_CODE",{value:"E448",enumerable:!1,configurable:!0});$="fetchCache = only-no-store";break;case"only-cache":if("no-store"===I)throw Object.defineProperty(Error(`cache: 'no-store' used on fetch for ${f} with 'export const fetchCache = 'only-cache'`),"__NEXT_ERROR_CODE",{value:"E521",enumerable:!1,configurable:!0});break;case"force-cache":(void 0===k||0===k)&&($="fetchCache = force-cache",u=s.INFINITE_CACHE)}if(void 0===u?"default-cache"!==O||q?"default-no-store"===O?(u=0,$="fetchCache = default-no-store"):q?(u=0,$="noStore call"):H?(u=0,$="auto no cache"):($="auto cache",u=r?r.revalidate:s.INFINITE_CACHE):(u=s.INFINITE_CACHE,$="fetchCache = default-cache"):$||($=`revalidate: ${u}`),!(v.forceStatic&&0===u)&&!H&&r&&u<r.revalidate){if(0===u){if(x)switch(x.type){case"prerender":case"prerender-client":case"prerender-runtime":return A&&(A.endRead(),A=null),h(x.renderSignal,v.route,"fetch()")}g(v,x,`revalidate: 0 fetch ${a} ${v.route}`)}r&&P===u&&(r.revalidate=u)}let F="number"==typeof u&&u>0,{incrementalCache:V}=v,W=!1;if(x)switch(x.type){case"request":case"cache":case"private-cache":W=x.isHmrRefresh??!1,l=x.serverComponentsHmrCache}if(V&&(F||l))try{n=await V.generateCacheKey(f,d?a:o)}catch(e){console.error("Failed to generate cache key for",a)}let z=v.nextFetchId??1;v.nextFetchId=z+1;let J=()=>{},Z=async(t,r)=>{let c=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(d){let e=a,t={body:e._ogBody||e.body};for(let r of c)t[r]=e[r];a=new Request(e.url,t)}else if(o){let{_ogBody:e,body:r,signal:i,...n}=o;o={...n,body:e||r,signal:t?void 0:i}}let h={...o,next:{...null==o?void 0:o.next,fetchType:"origin",fetchIdx:z}};return e(a,h).then(async e=>{if(!t&&b&&S(v,{start:b,url:f,cacheReason:r||$,cacheStatus:0===u||r?"skip":"miss",cacheWarning:i,status:e.status,method:h.method||"GET"}),200===e.status&&V&&n&&(F||l)){let t=u>=s.INFINITE_CACHE?s.CACHE_ONE_YEAR:u,r=F?{fetchCache:!0,fetchUrl:f,fetchIdx:z,tags:N,isImplicitBuildTimeCache:Q}:void 0;switch(null==x?void 0:x.type){case"prerender":case"prerender-client":case"prerender-runtime":return T(e,n,r,V,t,J);case"request":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":case void 0:return E(v,e,n,r,V,l,t,a,J)}}return await J(),e}).catch(e=>{throw J(),e})},G=!1,X=!1;if(n&&V){let e;if(W&&l&&(e=l.get(n),X=!0),F&&!e){J=await V.lock(n);let t=v.isOnDemandRevalidate?null:await V.get(n,{kind:_.IncrementalCacheKind.FETCH,revalidate:u,fetchUrl:f,fetchIdx:z,tags:N,softTags:null==R?void 0:R.tags});if(K&&x)switch(x.type){case"prerender":case"prerender-client":case"prerender-runtime":await (C||(C=new Promise(e=>{setTimeout(()=>{C=null,e()},0)})),C)}if(t?await J():c="cache-control: no-cache (hard refresh)",(null==t?void 0:t.value)&&t.value.kind===_.CachedRouteKind.FETCH)if(v.isStaticGeneration&&t.isStale)G=!0;else{if(t.isStale&&(v.pendingRevalidates??={},!v.pendingRevalidates[n])){let e=Z(!0).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{v.pendingRevalidates??={},delete v.pendingRevalidates[n||""]});e.catch(console.error),v.pendingRevalidates[n]=e}e=t.value.data}}if(e){b&&S(v,{start:b,url:f,cacheReason:$,cacheStatus:X?"hmr":"hit",cacheWarning:i,status:e.status||200,method:(null==o?void 0:o.method)||"GET"});let t=new Response(Buffer.from(e.body,"base64"),{headers:e.headers,status:e.status});return Object.defineProperty(t,"url",{value:e.url}),t}}if(v.isStaticGeneration&&o&&"object"==typeof o){let{cache:e}=o;if("no-store"===e){if(x)switch(x.type){case"prerender":case"prerender-client":case"prerender-runtime":return A&&(A.endRead(),A=null),h(x.renderSignal,v.route,"fetch()")}g(v,x,`no-store fetch ${a} ${v.route}`)}let t="next"in o,{next:i={}}=o;if("number"==typeof i.revalidate&&r&&i.revalidate<r.revalidate){if(0===i.revalidate){if(x)switch(x.type){case"prerender":case"prerender-client":case"prerender-runtime":return h(x.renderSignal,v.route,"fetch()")}g(v,x,`revalidate: 0 fetch ${a} ${v.route}`)}v.forceStatic&&0===i.revalidate||(r.revalidate=i.revalidate)}t&&delete o.next}if(!n||!G)return Z(!1,c);{let e=n;v.pendingRevalidates??={};let t=v.pendingRevalidates[e];if(t){let e=await t;return new Response(e.body,{headers:e.headers,status:e.status,statusText:e.statusText})}let r=Z(!0,c).then(w);return(t=r.then(async e=>{let t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{var t;(null==(t=v.pendingRevalidates)?void 0:t[e])&&delete v.pendingRevalidates[e]})).catch(()=>{}),v.pendingRevalidates[e]=t,r.then(e=>e[1])}});if(A)try{return await P}finally{A&&A.endRead()}return P};return a.__nextPatched=!0,a.__nextGetStaticStore=()=>t,a._nextOriginalFetch=e,globalThis[x]=!0,Object.defineProperty(a,"name",{value:"fetch",writable:!1}),a}(o,e)}let C=null;e.s(["patchFetch",()=>A],96250)},69741,e=>{"use strict";function t(e){var t;return(t=e.split("/").reduce((e,t,r,i)=>t?"("===t[0]&&t.endsWith(")")||"@"===t[0]||("page"===t||"route"===t)&&r===i.length-1?e:`${e}/${t}`:e,"")).startsWith("/")?t:`/${t}`}e.s(["normalizeAppPath",()=>t],69741)},74677,e=>{"use strict";var t=e.i(43891),r=e.i(69741),i=e.i(14270);e.i(41692);var n=e.i(56704);let s=Symbol.for("next.server.manifests"),a=globalThis;function o({page:e,clientReferenceManifest:o,serverActionsManifest:l}){let c=a[s];if(c)c.clientReferenceManifestsPerRoute.set((0,r.normalizeAppPath)(e),o),c.serverActionsManifest=l;else{let c,u=new Map([[(0,r.normalizeAppPath)(e),o]]),d=(c=new Map,new Proxy({},{get(e,r){let i=n.workAsyncStorage.getStore();switch(r){case"moduleLoading":case"entryCSSFiles":case"entryJSFiles":{if(!i)throw Object.defineProperty(new t.InvariantError(`Cannot access "${r}" without a work store.`),"__NEXT_ERROR_CODE",{value:"E952",enumerable:!1,configurable:!0});let e=u.get(i.route);if(!e)throw Object.defineProperty(new t.InvariantError(`The client reference manifest for route "${i.route}" does not exist.`),"__NEXT_ERROR_CODE",{value:"E951",enumerable:!1,configurable:!0});return e[r]}case"clientModules":case"rscModuleMapping":case"edgeRscModuleMapping":case"ssrModuleMapping":case"edgeSSRModuleMapping":{let e=c.get(r);!e&&(e=new Proxy({},{get(e,t){let i=n.workAsyncStorage.getStore();if(i){let e=u.get(i.route);if(null==e?void 0:e[r][t])return e[r][t]}else for(let e of u.values()){let i=e[r][t];if(void 0!==i)return i}}}),c.set(r,e));return e}default:throw Object.defineProperty(new t.InvariantError(`This is a proxied client reference manifest. The property "${String(r)}" is not handled.`),"__NEXT_ERROR_CODE",{value:"E953",enumerable:!1,configurable:!0})}}}));a[s]={clientReferenceManifestsPerRoute:u,proxiedClientReferenceManifest:d,serverActionsManifest:l,serverModuleMap:new Proxy({},{get:(e,r)=>{var o,l,c;let u,d=null==(l=function(){let e=a[s];if(!e)throw Object.defineProperty(new t.InvariantError("The manifests singleton was not initialized."),"__NEXT_ERROR_CODE",{value:"E950",enumerable:!1,configurable:!0});return e}().serverActionsManifest.node)||null==(o=l[r])?void 0:o.workers;if(!d)return;let h=n.workAsyncStorage.getStore();if(!(u=h?d[c=h.page,(0,i.pathHasPrefix)(c,"app")?c:"app"+c]:Object.values(d).at(0)))return;let{moduleId:f,async:p}=u;return{id:f,name:r,chunks:[],async:p}}})}}}e.s(["setManifestsSingleton",()=>o])},93118,(e,t,r)=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/cookie/");var e,r,i,n,s={};s.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var n={},s=t.split(i),a=(r||{}).decode||e,o=0;o<s.length;o++){var l=s[o],c=l.indexOf("=");if(!(c<0)){var u=l.substr(0,c).trim(),d=l.substr(++c,l.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==n[u]&&(n[u]=function(e,t){try{return t(e)}catch(t){return e}}(d,a))}}return n},s.serialize=function(e,t,i){var s=i||{},a=s.encode||r;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var o=a(t);if(o&&!n.test(o))throw TypeError("argument val is invalid");var l=e+"="+o;if(null!=s.maxAge){var c=s.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(c)}if(s.domain){if(!n.test(s.domain))throw TypeError("option domain is invalid");l+="; Domain="+s.domain}if(s.path){if(!n.test(s.path))throw TypeError("option path is invalid");l+="; Path="+s.path}if(s.expires){if("function"!=typeof s.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(l+="; HttpOnly"),s.secure&&(l+="; Secure"),s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l},e=decodeURIComponent,r=encodeURIComponent,i=/; */,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,t.exports=s})()},16795,e=>{"use strict";class t{static get(e,t,r){let i=Reflect.get(e,t,r);return"function"==typeof i?i.bind(e):i}static set(e,t,r,i){return Reflect.set(e,t,r,i)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}class r extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new r}}class i extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(r,i,n){if("symbol"==typeof i)return t.get(r,i,n);let s=i.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===s);if(void 0!==a)return t.get(r,a,n)},set(r,i,n,s){if("symbol"==typeof i)return t.set(r,i,n,s);let a=i.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===a);return t.set(r,o??i,n,s)},has(r,i){if("symbol"==typeof i)return t.has(r,i);let n=i.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==s&&t.has(r,s)},deleteProperty(r,i){if("symbol"==typeof i)return t.deleteProperty(r,i);let n=i.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===s||t.deleteProperty(r,s)}})}static seal(e){return new Proxy(e,{get(e,i,n){switch(i){case"append":case"delete":case"set":return r.callable;default:return t.get(e,i,n)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new i(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,i]of this.entries())e.call(t,i,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}e.i(10372),e.i(61916),e.i(95169),Symbol("__next_preview_data");let n=Symbol("__prerender_bypass");var s,a,o=e.i(59756),l=((s={})[s.SeeOther=303]="SeeOther",s[s.TemporaryRedirect=307]="TemporaryRedirect",s[s.PermanentRedirect=308]="PermanentRedirect",s);class c{constructor(e,t,r){this.method=e,this.url=t,this.body=r}get cookies(){var t;return this._cookies?this._cookies:this._cookies=(t=this.headers,function(){let{cookie:r}=t;if(!r)return{};let{parse:i}=e.r(93118);return i(Array.isArray(r)?r.join("; "):r)})()}}class u{constructor(e){this.destination=e}redirect(e,t){return this.setHeader("Location",e),this.statusCode=t,t===l.PermanentRedirect&&this.setHeader("Refresh",`0;url=${e}`),this}}class d extends c{static #e=a=o.NEXT_REQUEST_META;constructor(e){var t;super(e.method.toUpperCase(),e.url,e),this._req=e,this.headers=this._req.headers,this.fetchMetrics=null==(t=this._req)?void 0:t.fetchMetrics,this[a]=this._req[o.NEXT_REQUEST_META]||{},this.streaming=!1}get originalRequest(){return this._req[o.NEXT_REQUEST_META]=this[o.NEXT_REQUEST_META],this._req.url=this.url,this._req.cookies=this.cookies,this._req}set originalRequest(e){this._req=e}stream(){if(this.streaming)throw Object.defineProperty(Error("Invariant: NodeNextRequest.stream() can only be called once"),"__NEXT_ERROR_CODE",{value:"E467",enumerable:!1,configurable:!0});return this.streaming=!0,new ReadableStream({start:e=>{this._req.on("data",t=>{e.enqueue(new Uint8Array(t))}),this._req.on("end",()=>{e.close()}),this._req.on("error",t=>{e.error(t)})}})}}class h extends u{get originalResponse(){return n in this&&(this._res[n]=this[n]),this._res}constructor(e){super(e),this._res=e,this.textBody=void 0}get sent(){return this._res.finished||this._res.headersSent}get statusCode(){return this._res.statusCode}set statusCode(e){this._res.statusCode=e}get statusMessage(){return this._res.statusMessage}set statusMessage(e){this._res.statusMessage=e}setHeader(e,t){return this._res.setHeader(e,t),this}removeHeader(e){return this._res.removeHeader(e),this}getHeaderValues(e){let t=this._res.getHeader(e);if(void 0!==t)return(Array.isArray(t)?t:[t]).map(e=>e.toString())}hasHeader(e){return this._res.hasHeader(e)}getHeader(e){let t=this.getHeaderValues(e);return Array.isArray(t)?t.join(","):void 0}getHeaders(){return this._res.getHeaders()}appendHeader(e,t){let r=this.getHeaderValues(e)??[];return r.includes(t)||this._res.setHeader(e,[...r,t]),this}body(e){return this.textBody=e,this}send(){this._res.end(this.textBody)}onClose(e){this.originalResponse.on("close",e)}}e.s(["NodeNextRequest",()=>d,"NodeNextResponse",()=>h],16795)},47587,e=>{"use strict";function t(e){return e.isOnDemandRevalidate?"on-demand":e.isStaticGeneration?"stale":void 0}e.s(["getRevalidateReason",()=>t])},66012,e=>{"use strict";var t=e.i(48758),r=e.i(52362),i=e.i(70101);async function n(e,n,s,a){if((0,t.isNodeNextResponse)(n)){var o;n.statusCode=s.status,n.statusMessage=s.statusText;let t=["set-cookie","www-authenticate","proxy-authenticate","vary"];null==(o=s.headers)||o.forEach((e,r)=>{if("x-middleware-set-cookie"!==r.toLowerCase())if("set-cookie"===r.toLowerCase())for(let t of(0,i.splitCookiesString)(e))n.appendHeader(r,t);else{let i=void 0!==n.getHeader(r);(t.includes(r.toLowerCase())||!i)&&n.appendHeader(r,e)}});let{originalResponse:l}=n;s.body&&"HEAD"!==e.method?await (0,r.pipeToNodeResponse)(s.body,l,a):l.end()}}e.s(["sendResponse",()=>n])},26937,e=>{"use strict";var t=e.i(10372);function r({revalidate:e,expire:r}){let i="number"==typeof e&&void 0!==r&&e<r?`, stale-while-revalidate=${r-e}`:"";return 0===e?"private, no-cache, no-store, max-age=0, must-revalidate":"number"==typeof e?`s-maxage=${e}${i}`:`s-maxage=${t.CACHE_ONE_YEAR}${i}`}e.s(["getCacheControlHeader",()=>r])},47114,(e,t,r)=>{"use strict";function i(e,t,r){if(e){for(let i of(r&&(r=r.toLowerCase()),e))if(t===i.domain?.split(":",1)[0].toLowerCase()||r===i.defaultLocale.toLowerCase()||i.locales?.some(e=>e.toLowerCase()===r))return i}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"detectDomainLocale",{enumerable:!0,get:function(){return i}})},49084,(e,t,r)=>{"use strict";function i(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removeTrailingSlash",{enumerable:!0,get:function(){return i}})},55664,(e,t,r)=>{"use strict";function i(e){let t=e.indexOf("#"),r=e.indexOf("?"),i=r>-1&&(t<0||r<t);return i||t>-1?{pathname:e.substring(0,i?r:t),query:i?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parsePath",{enumerable:!0,get:function(){return i}})},34292,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathPrefix",{enumerable:!0,get:function(){return n}});let i=e.r(55664);function n(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:s}=(0,i.parsePath)(e);return`${t}${r}${n}${s}`}},87622,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathSuffix",{enumerable:!0,get:function(){return n}});let i=e.r(55664);function n(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:s}=(0,i.parsePath)(e);return`${r}${t}${n}${s}`}},98389,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"pathHasPrefix",{enumerable:!0,get:function(){return n}});let i=e.r(55664);function n(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,i.parsePath)(e);return r===t||r.startsWith(t+"/")}},95414,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addLocale",{enumerable:!0,get:function(){return s}});let i=e.r(34292),n=e.r(98389);function s(e,t,r,s){if(!t||t===r)return e;let a=e.toLowerCase();return!s&&((0,n.pathHasPrefix)(a,"/api")||(0,n.pathHasPrefix)(a,`/${t.toLowerCase()}`))?e:(0,i.addPathPrefix)(e,`/${t}`)}},25627,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let i=e.r(49084),n=e.r(34292),s=e.r(87622),a=e.r(95414);function o(e){let t=(0,a.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,i.removeTrailingSlash)(t)),e.buildId&&(t=(0,s.addPathSuffix)((0,n.addPathPrefix)(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=(0,n.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,s.addPathSuffix)(t,"/"):(0,i.removeTrailingSlash)(t)}},64512,(e,t,r)=>{"use strict";function i(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getHostname",{enumerable:!0,get:function(){return i}})},13545,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"normalizeLocalePath",{enumerable:!0,get:function(){return n}});let i=new WeakMap;function n(e,t){let r;if(!t)return{pathname:e};let n=i.get(t);n||(n=t.map(e=>e.toLowerCase()),i.set(t,n));let s=e.split("/",2);if(!s[1])return{pathname:e};let a=s[1].toLowerCase(),o=n.indexOf(a);return o<0?{pathname:e}:(r=t[o],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}},50955,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removePathPrefix",{enumerable:!0,get:function(){return n}});let i=e.r(98389);function n(e,t){if(!(0,i.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:`/${r}`}},60622,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getNextPathnameInfo",{enumerable:!0,get:function(){return a}});let i=e.r(13545),n=e.r(50955),s=e.r(98389);function a(e,t){let{basePath:r,i18n:a,trailingSlash:o}=t.nextConfig??{},l={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):o};r&&(0,s.pathHasPrefix)(l.pathname,r)&&(l.pathname=(0,n.removePathPrefix)(l.pathname,r),l.basePath=r);let c=l.pathname;if(l.pathname.startsWith("/_next/data/")&&l.pathname.endsWith(".json")){let e=l.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");l.buildId=e[0],c="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(l.pathname=c)}if(a){let e=t.i18nProvider?t.i18nProvider.analyze(l.pathname):(0,i.normalizeLocalePath)(l.pathname,a.locales);l.locale=e.detectedLocale,l.pathname=e.pathname??l.pathname,!e.detectedLocale&&l.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(c):(0,i.normalizeLocalePath)(c,a.locales)).detectedLocale&&(l.locale=e.detectedLocale)}return l}},99536,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NextURL",{enumerable:!0,get:function(){return u}});let i=e.r(47114),n=e.r(25627),s=e.r(64512),a=e.r(60622),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let c=Symbol("NextURLInternal");class u{constructor(e,t,r){let i,n;"object"==typeof t&&"pathname"in t||"string"==typeof t?(i=t,n=r||{}):n=r||t||{},this[c]={url:l(e,i??n.base),options:n,basePath:""},this.analyze()}analyze(){var e,t,r,n,o;let l=(0,a.getNextPathnameInfo)(this[c].url.pathname,{nextConfig:this[c].options.nextConfig,parseData:!0,i18nProvider:this[c].options.i18nProvider}),u=(0,s.getHostname)(this[c].url,this[c].options.headers);this[c].domainLocale=this[c].options.i18nProvider?this[c].options.i18nProvider.detectDomainLocale(u):(0,i.detectDomainLocale)(null==(t=this[c].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,u);let d=(null==(r=this[c].domainLocale)?void 0:r.defaultLocale)||(null==(o=this[c].options.nextConfig)||null==(n=o.i18n)?void 0:n.defaultLocale);this[c].url.pathname=l.pathname,this[c].defaultLocale=d,this[c].basePath=l.basePath??"",this[c].buildId=l.buildId,this[c].locale=l.locale??d,this[c].trailingSlash=l.trailingSlash}formatPathname(){return(0,n.formatNextPathnameInfo)({basePath:this[c].basePath,buildId:this[c].buildId,defaultLocale:this[c].options.forceLocale?void 0:this[c].defaultLocale,locale:this[c].locale,pathname:this[c].url.pathname,trailingSlash:this[c].trailingSlash})}formatSearch(){return this[c].url.search}get buildId(){return this[c].buildId}set buildId(e){this[c].buildId=e}get locale(){return this[c].locale??""}set locale(e){var t,r;if(!this[c].locale||!(null==(r=this[c].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[c].locale=e}get defaultLocale(){return this[c].defaultLocale}get domainLocale(){return this[c].domainLocale}get searchParams(){return this[c].url.searchParams}get host(){return this[c].url.host}set host(e){this[c].url.host=e}get hostname(){return this[c].url.hostname}set hostname(e){this[c].url.hostname=e}get port(){return this[c].url.port}set port(e){this[c].url.port=e}get protocol(){return this[c].url.protocol}set protocol(e){this[c].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[c].url=l(e),this.analyze()}get origin(){return this[c].url.origin}get pathname(){return this[c].url.pathname}set pathname(e){this[c].url.pathname=e}get hash(){return this[c].url.hash}set hash(e){this[c].url.hash=e}get search(){return this[c].url.search}set search(e){this[c].url.search=e}get password(){return this[c].url.password}set password(e){this[c].url.password=e}get username(){return this[c].url.username}set username(e){this[c].url.username=e}get basePath(){return this[c].basePath}set basePath(e){this[c].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new u(String(this),this[c].options)}}},91401,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={ACTION_SUFFIX:function(){return g},APP_DIR_ALIAS:function(){return D},CACHE_ONE_YEAR:function(){return P},DOT_NEXT_ALIAS:function(){return j},ESLINT_DEFAULT_DIRS:function(){return en},GSP_NO_RETURNED_VALUE:function(){return X},GSSP_COMPONENT_MEMBER_ERROR:function(){return et},GSSP_NO_RETURNED_VALUE:function(){return Y},HTML_CONTENT_TYPE_HEADER:function(){return a},INFINITE_CACHE:function(){return k},INSTRUMENTATION_HOOK_FILENAME:function(){return I},JSON_CONTENT_TYPE_HEADER:function(){return o},MATCHED_PATH_HEADER:function(){return u},MIDDLEWARE_FILENAME:function(){return N},MIDDLEWARE_LOCATION_REGEXP:function(){return R},NEXT_BODY_SUFFIX:function(){return w},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return C},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return _},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return x},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return A},NEXT_CACHE_TAGS_HEADER:function(){return v},NEXT_CACHE_TAG_MAX_ITEMS:function(){return T},NEXT_CACHE_TAG_MAX_LENGTH:function(){return E},NEXT_DATA_SUFFIX:function(){return y},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return c},NEXT_META_SUFFIX:function(){return b},NEXT_QUERY_PARAM_PREFIX:function(){return l},NEXT_RESUME_HEADER:function(){return S},NON_STANDARD_NODE_ENV:function(){return er},PAGES_DIR_ALIAS:function(){return $},PRERENDER_REVALIDATE_HEADER:function(){return d},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return h},PROXY_FILENAME:function(){return O},PROXY_LOCATION_REGEXP:function(){return q},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return V},ROOT_DIR_ALIAS:function(){return L},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return F},RSC_ACTION_ENCRYPTION_ALIAS:function(){return Q},RSC_ACTION_PROXY_ALIAS:function(){return B},RSC_ACTION_VALIDATE_ALIAS:function(){return U},RSC_CACHE_WRAPPER_ALIAS:function(){return K},RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS:function(){return H},RSC_MOD_REF_PROXY_ALIAS:function(){return M},RSC_SEGMENTS_DIR_SUFFIX:function(){return f},RSC_SEGMENT_SUFFIX:function(){return p},RSC_SUFFIX:function(){return m},SERVER_PROPS_EXPORT_ERROR:function(){return G},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return z},SERVER_PROPS_SSG_CONFLICT:function(){return J},SERVER_RUNTIME:function(){return es},SSG_FALLBACK_EXPORT_ERROR:function(){return ei},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return W},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return Z},TEXT_PLAIN_CONTENT_TYPE_HEADER:function(){return s},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return ee},WEBPACK_LAYERS:function(){return el},WEBPACK_RESOURCE_QUERIES:function(){return ec},WEB_SOCKET_MAX_RECONNECTIONS:function(){return ea}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s="text/plain",a="text/html; charset=utf-8",o="application/json; charset=utf-8",l="nxtP",c="nxtI",u="x-matched-path",d="x-prerender-revalidate",h="x-prerender-revalidate-if-generated",f=".segments",p=".segment.rsc",m=".rsc",g=".action",y=".json",b=".meta",w=".body",v="x-next-cache-tags",_="x-next-revalidated-tags",x="x-next-revalidate-tag-token",S="next-resume",T=128,E=256,A=1024,C="_N_T_",P=31536e3,k=0xfffffffe,N="middleware",R=`(?:src/)?${N}`,O="proxy",q=`(?:src/)?${O}`,I="instrumentation",$="private-next-pages",j="private-dot-next",L="private-next-root-dir",D="private-next-app-dir",M="private-next-rsc-mod-ref-proxy",U="private-next-rsc-action-validate",B="private-next-rsc-server-reference",K="private-next-rsc-cache-wrapper",H="private-next-rsc-track-dynamic-import",Q="private-next-rsc-action-encryption",F="private-next-rsc-action-client-wrapper",V="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",W="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",z="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",J="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",Z="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",G="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",X="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",Y="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",ee="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",et="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",er='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',ei="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",en=["app","pages","components","lib","src"],es={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},ea=12,eo={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"},el={...eo,GROUP:{builtinReact:[eo.reactServerComponents,eo.actionBrowser],serverOnly:[eo.reactServerComponents,eo.actionBrowser,eo.instrument,eo.middleware],neutralTarget:[eo.apiNode,eo.apiEdge],clientOnly:[eo.serverSideRendering,eo.appPagesBrowser],bundled:[eo.reactServerComponents,eo.actionBrowser,eo.serverSideRendering,eo.appPagesBrowser,eo.shared,eo.instrument,eo.middleware],appPages:[eo.reactServerComponents,eo.serverSideRendering,eo.appPagesBrowser,eo.actionBrowser]}},ec={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},80333,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={fromNodeOutgoingHttpHeaders:function(){return a},normalizeNextQueryParam:function(){return u},splitCookiesString:function(){return o},toNodeOutgoingHttpHeaders:function(){return l},validateURL:function(){return c}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(91401);function a(e){let t=new Headers;for(let[r,i]of Object.entries(e))for(let e of Array.isArray(i)?i:[i])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function o(e){var t,r,i,n,s,a=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;l();)if(","===(r=e.charAt(o))){for(i=o,o+=1,l(),n=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=n,a.push(e.substring(t,i)),t=o):o=i+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}function l(e){let t={},r=[];if(e)for(let[i,n]of e.entries())"set-cookie"===i.toLowerCase()?(r.push(...o(n)),t[i]=1===r.length?r[0]:r):t[i]=n;return t}function c(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function u(e){for(let t of[s.NEXT_QUERY_PARAM_PREFIX,s.NEXT_INTERCEPTION_MARKER_PREFIX])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}},47389,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={PageSignatureError:function(){return s},RemovedPageError:function(){return a},RemovedUAError:function(){return o}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});class s extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class a extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class o extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},472,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={RequestCookies:function(){return s.RequestCookies},ResponseCookies:function(){return s.ResponseCookies},stringifyCookie:function(){return s.stringifyCookie}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(19481)},29666,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={INTERNALS:function(){return c},NextRequest:function(){return u}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(99536),a=e.r(80333),o=e.r(47389),l=e.r(472),c=Symbol("internal request");class u extends Request{constructor(e,t={}){const r="string"!=typeof e&&"url"in e?e.url:String(e);(0,a.validateURL)(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);const i=new s.NextURL(r,{headers:(0,a.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[c]={cookies:new l.RequestCookies(this.headers),nextUrl:i,url:i.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[c].cookies}get nextUrl(){return this[c].nextUrl}get page(){throw new o.RemovedPageError}get ua(){throw new o.RemovedUAError}get url(){return this[c].url}}},30759,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReflectAdapter",{enumerable:!0,get:function(){return i}});class i{static get(e,t,r){let i=Reflect.get(e,t,r);return"function"==typeof i?i.bind(e):i}static set(e,t,r,i){return Reflect.set(e,t,r,i)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},46633,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NextResponse",{enumerable:!0,get:function(){return d}});let i=e.r(472),n=e.r(99536),s=e.r(80333),a=e.r(30759),o=e.r(472),l=Symbol("internal response"),c=new Set([301,302,303,307,308]);function u(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[i,n]of e.request.headers)t.set("x-middleware-request-"+i,n),r.push(i);t.set("x-middleware-override-headers",r.join(","))}}class d extends Response{constructor(e,t={}){super(e,t);const r=this.headers,c=new Proxy(new o.ResponseCookies(r),{get(e,n,s){switch(n){case"delete":case"set":return(...s)=>{let a=Reflect.apply(e[n],e,s),l=new Headers(r);return a instanceof o.ResponseCookies&&r.set("x-middleware-set-cookie",a.getAll().map(e=>(0,i.stringifyCookie)(e)).join(",")),u(t,l),a};default:return a.ReflectAdapter.get(e,n,s)}}});this[l]={cookies:c,url:t.url?new n.NextURL(t.url,{headers:(0,s.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[l].cookies}static json(e,t){let r=Response.json(e,t);return new d(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!c.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let i="object"==typeof t?t:{},n=new Headers(null==i?void 0:i.headers);return n.set("Location",(0,s.validateURL)(e)),new d(null,{...i,headers:n,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,s.validateURL)(e)),u(t,r),new d(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),u(e,t),new d(null,{...e,headers:t})}}},87963,(e,t,r)=>{"use strict";function i(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageResponse",{enumerable:!0,get:function(){return i}})},99299,(e,t,r)=>{var i={226:function(t,r){!function(i,n){"use strict";var s="function",a="undefined",o="object",l="string",c="major",u="model",d="name",h="type",f="vendor",p="version",m="architecture",g="console",y="mobile",b="tablet",w="smarttv",v="wearable",_="embedded",x="Amazon",S="Apple",T="ASUS",E="BlackBerry",A="Browser",C="Chrome",P="Firefox",k="Google",N="Huawei",R="Microsoft",O="Motorola",q="Opera",I="Samsung",$="Sharp",j="Sony",L="Xiaomi",D="Zebra",M="Facebook",U="Chromium OS",B="Mac OS",K=function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},H=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},Q=function(e,t){return typeof e===l&&-1!==F(t).indexOf(F(e))},F=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},W=function(e,t){for(var r,i,n,a,l,c,u=0;u<t.length&&!l;){var d=t[u],h=t[u+1];for(r=i=0;r<d.length&&!l&&d[r];)if(l=d[r++].exec(e))for(n=0;n<h.length;n++)c=l[++i],typeof(a=h[n])===o&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,c):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=c?c.replace(a[1],a[2]):void 0:this[a[0]]=c?a[1].call(this,c,a[2]):void 0:4===a.length&&(this[a[0]]=c?a[3].call(this,c.replace(a[1],a[2])):void 0):this[a]=c||void 0;u+=2}},z=function(e,t){for(var r in t)if(typeof t[r]===o&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(Q(t[r][i],e))return"?"===r?void 0:r}else if(Q(t[r],e))return"?"===r?void 0:r;return e},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,q+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[d,q]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UC"+A]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+A],p],[/\bfocus\/([\w\.]+)/i],[p,[d,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,q+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,q+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI "+A]],[/fxios\/([-\w\.]+)/i],[p,[d,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+A]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+A],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,M],p],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,C+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android "+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,p],[/(cobalt)\/([\w\.]+)/i],[d,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,F]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",F]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,F]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[f,I],[h,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[f,I],[h,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[f,S],[h,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[f,S],[h,b]],[/(macintosh);/i],[u,[f,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[f,$],[h,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[f,N],[h,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[f,N],[h,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[f,L],[h,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[f,L],[h,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[f,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[f,"Vivo"],[h,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[f,"Realme"],[h,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[f,O],[h,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[f,O],[h,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[f,"LG"],[h,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[f,"LG"],[h,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[f,"Lenovo"],[h,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[f,"Nokia"],[h,y]],[/(pixel c)\b/i],[u,[f,k],[h,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[f,k],[h,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[f,j],[h,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[f,j],[h,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[f,"OnePlus"],[h,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[f,x],[h,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[f,x],[h,y]],[/(playbook);[-\w\),; ]+(rim)/i],[u,f,[h,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[f,E],[h,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[f,T],[h,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[f,T],[h,y]],[/(nexus 9)/i],[u,[f,"HTC"],[h,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[u,/_/g," "],[h,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[f,"Acer"],[h,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[f,"Meizu"],[h,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,u,[h,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,u,[h,b]],[/(surface duo)/i],[u,[f,R],[h,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[f,"Fairphone"],[h,y]],[/(u304aa)/i],[u,[f,"AT&T"],[h,y]],[/\bsie-(\w*)/i],[u,[f,"Siemens"],[h,y]],[/\b(rct\w+) b/i],[u,[f,"RCA"],[h,b]],[/\b(venue[\d ]{2,7}) b/i],[u,[f,"Dell"],[h,b]],[/\b(q(?:mv|ta)\w+) b/i],[u,[f,"Verizon"],[h,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[f,"Barnes & Noble"],[h,b]],[/\b(tm\d{3}\w+) b/i],[u,[f,"NuVision"],[h,b]],[/\b(k88) b/i],[u,[f,"ZTE"],[h,b]],[/\b(nx\d{3}j) b/i],[u,[f,"ZTE"],[h,y]],[/\b(gen\d{3}) b.+49h/i],[u,[f,"Swiss"],[h,y]],[/\b(zur\d{3}) b/i],[u,[f,"Swiss"],[h,b]],[/\b((zeki)?tb.*\b) b/i],[u,[f,"Zeki"],[h,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],u,[h,b]],[/\b(ns-?\w{0,9}) b/i],[u,[f,"Insignia"],[h,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[f,"NextBook"],[h,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],u,[h,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],u,[h,y]],[/\b(ph-1) /i],[u,[f,"Essential"],[h,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[f,"Envizen"],[h,b]],[/\b(trio[-\w\. ]+) b/i],[u,[f,"MachSpeed"],[h,b]],[/\btu_(1491) b/i],[u,[f,"Rotor"],[h,b]],[/(shield[\w ]+) b/i],[u,[f,"Nvidia"],[h,b]],[/(sprint) (\w+)/i],[f,u,[h,y]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[f,R],[h,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[f,D],[h,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[f,D],[h,y]],[/smart-tv.+(samsung)/i],[f,[h,w]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[f,I],[h,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,"LG"],[h,w]],[/(apple) ?tv/i],[f,[u,S+" TV"],[h,w]],[/crkey/i],[[u,C+"cast"],[f,k],[h,w]],[/droid.+aft(\w)( bui|\))/i],[u,[f,x],[h,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[f,$],[h,w]],[/(bravia[\w ]+)( bui|\))/i],[u,[f,j],[h,w]],[/(mitv-\w{5}) bui/i],[u,[f,L],[h,w]],[/Hbbtv.*(technisat) (.*);/i],[f,u,[h,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,V],[u,V],[h,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,u,[h,g]],[/droid.+; (shield) bui/i],[u,[f,"Nvidia"],[h,g]],[/(playstation [345portablevi]+)/i],[u,[f,j],[h,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[f,R],[h,g]],[/((pebble))app/i],[f,u,[h,v]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[f,S],[h,v]],[/droid.+; (glass) \d/i],[u,[f,k],[h,v]],[/droid.+; (wt63?0{2,3})\)/i],[u,[f,D],[h,v]],[/(quest( 2| pro)?)/i],[u,[f,M],[h,v]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[h,_]],[/(aeobc)\b/i],[u,[f,x],[h,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[h,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[h,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,y]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[p,z,J]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[p,z,J]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,B],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[d,C+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,U],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,p]]},G=function(e,t){if(typeof e===o&&(t=e,e=void 0),!(this instanceof G))return new G(e,t).getResult();var r=typeof i!==a&&i.navigator?i.navigator:void 0,n=e||(r&&r.userAgent?r.userAgent:""),g=r&&r.userAgentData?r.userAgentData:void 0,w=t?K(Z,t):Z,v=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[d]=void 0,t[p]=void 0,W.call(t,n,w.browser),t[c]=typeof(e=t[p])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,v&&r&&r.brave&&typeof r.brave.isBrave==s&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[m]=void 0,W.call(e,n,w.cpu),e},this.getDevice=function(){var e={};return e[f]=void 0,e[u]=void 0,e[h]=void 0,W.call(e,n,w.device),v&&!e[h]&&g&&g.mobile&&(e[h]=y),v&&"Macintosh"==e[u]&&r&&typeof r.standalone!==a&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[u]="iPad",e[h]=b),e},this.getEngine=function(){var e={};return e[d]=void 0,e[p]=void 0,W.call(e,n,w.engine),e},this.getOS=function(){var e={};return e[d]=void 0,e[p]=void 0,W.call(e,n,w.os),v&&!e[d]&&g&&"Unknown"!=g.platform&&(e[d]=g.platform.replace(/chrome os/i,U).replace(/macos/i,B)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===l&&e.length>350?V(e,350):e,this},this.setUA(n),this};if(G.VERSION="1.0.35",G.BROWSER=H([d,p,c]),G.CPU=H([m]),G.DEVICE=H([u,f,h,g,y,w,b,v,_]),G.ENGINE=G.OS=H([d,p]),typeof r!==a)t.exports&&(r=t.exports=G),r.UAParser=G;else if(typeof define===s&&define.amd)e.r,void 0!==G&&e.v(G);else typeof i!==a&&(i.UAParser=G);var X=typeof i!==a&&(i.jQuery||i.Zepto);if(X&&!X.ua){var Y=new G;X.ua=Y.getResult(),X.ua.get=function(){return Y.getUA()},X.ua.set=function(e){Y.setUA(e);var t=Y.getResult();for(var r in t)X.ua[r]=t[r]}}}(this)}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}},a=!0;try{i[e].call(r.exports,r,r.exports,s),a=!1}finally{a&&delete n[e]}return r.exports}s.ab="/ROOT/node_modules/next/dist/compiled/ua-parser-js/",t.exports=s(226)},4386,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,n={isBot:function(){return o},userAgent:function(){return c},userAgentFromString:function(){return l}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let a=(i=e.r(99299))&&i.__esModule?i:{default:i};function o(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function l(e){return{...(0,a.default)(e),isBot:void 0!==e&&o(e)}}function c({headers:e}){return l(e.get("user-agent")||void 0)}},79187,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"URLPattern",{enumerable:!0,get:function(){return i}});let i="undefined"==typeof URLPattern?void 0:URLPattern},53309,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"after",{enumerable:!0,get:function(){return n}});let i=e.r(56704);function n(e){let t=i.workAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:r}=t;return r.after(e)}},81053,(e,t,r)=>{"use strict";var i,n;Object.defineProperty(r,"__esModule",{value:!0}),i=e.r(53309),n=r,Object.keys(i).forEach(function(e){"default"===e||Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}})})},65252,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={DynamicServerError:function(){return a},isDynamicServerError:function(){return o}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s="DYNAMIC_SERVER_USAGE";class a extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest=s}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===s}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},97573,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={StaticGenBailoutError:function(){return a},isStaticGenBailoutError:function(){return o}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s="NEXT_STATIC_GEN_BAILOUT";class a extends Error{constructor(...e){super(...e),this.code=s}}function o(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===s}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},4642,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={isHangingPromiseRejectionError:function(){return s},makeDevtoolsIOAwarePromise:function(){return d},makeHangingPromise:function(){return c}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===a}let a="HANGING_PROMISE_REJECTION";class o extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest=a}}let l=new WeakMap;function c(e,t,r){if(e.aborted)return Promise.reject(new o(t,r));{let i=new Promise((i,n)=>{let s=n.bind(null,new o(t,r)),a=l.get(e);if(a)a.push(s);else{let t=[s];l.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return i.catch(u),i}}function u(){}function d(e,t,r){return t.stagedRendering?t.stagedRendering.delayUntilStage(r,void 0,e):new Promise(t=>{setTimeout(()=>{t(e)},0)})}},96306,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={METADATA_BOUNDARY_NAME:function(){return s},OUTLET_BOUNDARY_NAME:function(){return o},ROOT_LAYOUT_BOUNDARY_NAME:function(){return l},VIEWPORT_BOUNDARY_NAME:function(){return a}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s="__next_metadata_boundary__",a="__next_viewport_boundary__",o="__next_outlet_boundary__",l="__next_root_layout_boundary__"},38244,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={atLeastOneTask:function(){return o},scheduleImmediate:function(){return a},scheduleOnNextTick:function(){return s},waitAtLeastOneReactRenderTask:function(){return l}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},a=e=>{setImmediate(e)};function o(){return new Promise(e=>a(e))}function l(){return new Promise(e=>setImmediate(e))}},31584,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={BailoutToCSRError:function(){return a},isBailoutToCSRError:function(){return o}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s="BAILOUT_TO_CLIENT_SIDE_RENDERING";class a extends Error{constructor(e){super(`Bail out to client-side rendering: ${e}`),this.reason=e,this.digest=s}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===s}},76414,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"InvariantError",{enumerable:!0,get:function(){return i}});class i extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}},68665,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,n,s={Postpone:function(){return C},PreludeState:function(){return X},abortAndThrowOnSynchronousRequestDataAccess:function(){return A},abortOnSynchronousPlatformIOAccess:function(){return E},accessedDynamicData:function(){return $},annotateDynamicAccess:function(){return U},consumeDynamicAccess:function(){return j},createDynamicTrackingState:function(){return b},createDynamicValidationState:function(){return w},createHangingInputAbortSignal:function(){return M},createRenderInBrowserAbortSignal:function(){return D},delayUntilRuntimeStage:function(){return er},formatDynamicAPIAccesses:function(){return L},getFirstDynamicReason:function(){return v},getStaticShellDisallowedDynamicReasons:function(){return et},isDynamicPostpone:function(){return N},isPrerenderInterruptedError:function(){return I},logDisallowedDynamicError:function(){return Y},markCurrentScopeAsDynamic:function(){return _},postponeWithTracking:function(){return P},throwIfDisallowedDynamic:function(){return ee},throwToInterruptStaticGeneration:function(){return x},trackAllowedDynamicAccess:function(){return z},trackDynamicDataInDynamicRender:function(){return S},trackDynamicHoleInRuntimeShell:function(){return J},trackDynamicHoleInStaticShell:function(){return Z},useDynamicRouteParams:function(){return B},useDynamicSearchParams:function(){return K}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let o=(i=e.r(47540))&&i.__esModule?i:{default:i},l=e.r(65252),c=e.r(97573),u=e.r(32319),d=e.r(56704),h=e.r(4642),f=e.r(96306),p=e.r(38244),m=e.r(31584),g=e.r(76414),y="function"==typeof o.default.unstable_postpone;function b(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function w(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,dynamicMetadata:null,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function v(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function _(e,t,r){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new c.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":return P(e.route,r,t.dynamicTracking);case"prerender-legacy":t.revalidate=0;let i=Object.defineProperty(new l.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=i.stack,i}}}function x(e,t,r){let i=Object.defineProperty(new l.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=i.stack,i}function S(e){switch(e.type){case"cache":case"unstable-cache":case"private-cache":return}}function T(e,t,r){let i=q(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(i);let n=r.dynamicTracking;n&&n.dynamicAccesses.push({stack:n.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function E(e,t,r,i){let n=i.dynamicTracking;T(e,t,i),n&&null===n.syncDynamicErrorWithStack&&(n.syncDynamicErrorWithStack=r)}function A(e,t,r,i){if(!1===i.controller.signal.aborted){T(e,t,i);let n=i.dynamicTracking;n&&null===n.syncDynamicErrorWithStack&&(n.syncDynamicErrorWithStack=r)}throw q(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}function C({reason:e,route:t}){let r=u.workUnitAsyncStorage.getStore();P(t,e,r&&"prerender-ppr"===r.type?r.dynamicTracking:null)}function P(e,t,r){(function(){if(!y)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),o.default.unstable_postpone(k(e,t))}function k(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function N(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&R(e.message)}function R(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===R(k("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let O="NEXT_PRERENDER_INTERRUPTED";function q(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=O,t}function I(e){return"object"==typeof e&&null!==e&&e.digest===O&&"name"in e&&"message"in e&&e instanceof Error}function $(e){return e.length>0}function j(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function L(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function D(){let e=new AbortController;return e.abort(Object.defineProperty(new m.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),e.signal}function M(e){switch(e.type){case"prerender":case"prerender-runtime":let t=new AbortController;if(e.cacheSignal)e.cacheSignal.inputReady().then(()=>{t.abort()});else{let r=(0,u.getRuntimeStagePromise)(e);r?r.then(()=>(0,p.scheduleOnNextTick)(()=>t.abort())):(0,p.scheduleOnNextTick)(()=>t.abort())}return t.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function U(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function B(e){let t=d.workAsyncStorage.getStore(),r=u.workUnitAsyncStorage.getStore();if(t&&r)switch(r.type){case"prerender-client":case"prerender":{let i=r.fallbackRouteParams;i&&i.size>0&&o.default.use((0,h.makeHangingPromise)(r.renderSignal,t.route,e));break}case"prerender-ppr":{let i=r.fallbackRouteParams;if(i&&i.size>0)return P(t.route,e,r.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called during a runtime prerender. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}function K(e){let t=d.workAsyncStorage.getStore(),r=u.workUnitAsyncStorage.getStore();if(t)switch(!r&&(0,u.throwForMissingRequestStore)(e),r.type){case"prerender-client":o.default.use((0,h.makeHangingPromise)(r.renderSignal,t.route,e));break;case"prerender-legacy":case"prerender-ppr":if(t.forceStatic)return;throw Object.defineProperty(new m.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called from a Server Component. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E795",enumerable:!1,configurable:!0});case"cache":case"unstable-cache":case"private-cache":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0});case"request":return}}let H=/\n\s+at Suspense \(<anonymous>\)/,Q=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${f.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),F=RegExp(`\\n\\s+at ${f.METADATA_BOUNDARY_NAME}[\\n\\s]`),V=RegExp(`\\n\\s+at ${f.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),W=RegExp(`\\n\\s+at ${f.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function z(e,t,r,i){if(!W.test(t)){if(F.test(t)){r.hasDynamicMetadata=!0;return}if(V.test(t)){r.hasDynamicViewport=!0;return}if(Q.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(H.test(t)){r.hasAllowedDynamic=!0;return}else{if(i.syncDynamicErrorWithStack)return void r.dynamicErrors.push(i.syncDynamicErrorWithStack);let n=G(`Route "${e.route}": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,t);return void r.dynamicErrors.push(n)}}}function J(e,t,r,i){if(!W.test(t)){if(F.test(t)){r.dynamicMetadata=G(`Route "${e.route}": Uncached data or \`connection()\` was accessed inside \`generateMetadata\`. Except for this instance, the page would have been entirely prerenderable which may have been the intended behavior. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`,t);return}if(V.test(t)){let i=G(`Route "${e.route}": Uncached data or \`connection()\` was accessed inside \`generateViewport\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`,t);r.dynamicErrors.push(i);return}if(Q.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(H.test(t)){r.hasAllowedDynamic=!0;return}else{if(i.syncDynamicErrorWithStack)return void r.dynamicErrors.push(i.syncDynamicErrorWithStack);let n=G(`Route "${e.route}": Uncached data or \`connection()\` was accessed outside of \`<Suspense>\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,t);return void r.dynamicErrors.push(n)}}}function Z(e,t,r,i){if(!W.test(t)){if(F.test(t)){r.dynamicMetadata=G(`Route "${e.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed inside \`generateMetadata\` or you have file-based metadata such as icons that depend on dynamic params segments. Except for this instance, the page would have been entirely prerenderable which may have been the intended behavior. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`,t);return}if(V.test(t)){let i=G(`Route "${e.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed inside \`generateViewport\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`,t);r.dynamicErrors.push(i);return}if(Q.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(H.test(t)){r.hasAllowedDynamic=!0;return}else{if(i.syncDynamicErrorWithStack)return void r.dynamicErrors.push(i.syncDynamicErrorWithStack);let n=G(`Route "${e.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed outside of \`<Suspense>\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,t);return void r.dynamicErrors.push(n)}}}function G(e,t){let r=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r.stack=r.name+": "+e+t,r}var X=((n={})[n.Full=0]="Full",n[n.Empty=1]="Empty",n[n.Errored=2]="Errored",n);function Y(e,t){console.error(t),e.dev||(e.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function ee(e,t,r,i){if(i.syncDynamicErrorWithStack)throw Y(e,i.syncDynamicErrorWithStack),new c.StaticGenBailoutError;if(0!==t){if(r.hasSuspenseAboveBody)return;let i=r.dynamicErrors;if(i.length>0){for(let t=0;t<i.length;t++)Y(e,i[t]);throw new c.StaticGenBailoutError}if(r.hasDynamicViewport)throw console.error(`Route "${e.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new c.StaticGenBailoutError;if(1===t)throw console.error(`Route "${e.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new c.StaticGenBailoutError}else if(!1===r.hasAllowedDynamic&&r.hasDynamicMetadata)throw console.error(`Route "${e.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new c.StaticGenBailoutError}function et(e,t,r){if(r.hasSuspenseAboveBody)return[];if(0!==t){let i=r.dynamicErrors;if(i.length>0)return i;if(1===t)return[Object.defineProperty(new g.InvariantError(`Route "${e.route}" did not produce a static shell and Next.js was unable to determine a reason.`),"__NEXT_ERROR_CODE",{value:"E936",enumerable:!1,configurable:!0})]}else if(!1===r.hasAllowedDynamic&&0===r.dynamicErrors.length&&r.dynamicMetadata)return[r.dynamicMetadata];return[]}function er(e,t){return e.runtimeStagePromise?e.runtimeStagePromise.then(()=>t):t}},43824,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={isRequestAPICallableInsideAfter:function(){return c},throwForSearchParamsAccessInUseCache:function(){return l},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return o}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(97573),a=e.r(24725);function o(e,t){throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function l(e,t){let r=Object.defineProperty(Error(`Route ${e.route} used \`searchParams\` inside "use cache". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \`searchParams\` outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E842",enumerable:!1,configurable:!0});throw Error.captureStackTrace(r,t),e.invalidDynamicUsageError??=r,r}function c(){let e=a.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}},8211,(e,t,r)=>{"use strict";function i(){let e,t,r=new Promise((r,i)=>{e=r,t=i});return{resolve:e,reject:t,promise:r}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createPromiseWithResolvers",{enumerable:!0,get:function(){return i}})},18185,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,n={RenderStage:function(){return l},StagedRenderingController:function(){return c}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let a=e.r(76414),o=e.r(8211);var l=((i={})[i.Before=1]="Before",i[i.Static=2]="Static",i[i.Runtime=3]="Runtime",i[i.Dynamic=4]="Dynamic",i[i.Abandoned=5]="Abandoned",i);class c{constructor(e=null,t){this.abortSignal=e,this.hasRuntimePrefetch=t,this.currentStage=1,this.staticInterruptReason=null,this.runtimeInterruptReason=null,this.staticStageEndTime=1/0,this.runtimeStageEndTime=1/0,this.runtimeStageListeners=[],this.dynamicStageListeners=[],this.runtimeStagePromise=(0,o.createPromiseWithResolvers)(),this.dynamicStagePromise=(0,o.createPromiseWithResolvers)(),this.mayAbandon=!1,e&&(e.addEventListener("abort",()=>{let{reason:t}=e;this.currentStage<3&&(this.runtimeStagePromise.promise.catch(u),this.runtimeStagePromise.reject(t)),(this.currentStage<4||5===this.currentStage)&&(this.dynamicStagePromise.promise.catch(u),this.dynamicStagePromise.reject(t))},{once:!0}),this.mayAbandon=!0)}onStage(e,t){if(this.currentStage>=e)t();else if(3===e)this.runtimeStageListeners.push(t);else if(4===e)this.dynamicStageListeners.push(t);else throw Object.defineProperty(new a.InvariantError(`Invalid render stage: ${e}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}canSyncInterrupt(){if(1===this.currentStage)return!1;let e=this.hasRuntimePrefetch?4:3;return this.currentStage<e}syncInterruptCurrentStageWithReason(e){if(1!==this.currentStage){if(this.mayAbandon)return this.abandonRenderImpl();switch(this.currentStage){case 2:this.staticInterruptReason=e,this.advanceStage(4);return;case 3:this.hasRuntimePrefetch&&(this.runtimeInterruptReason=e,this.advanceStage(4));return}}}getStaticInterruptReason(){return this.staticInterruptReason}getRuntimeInterruptReason(){return this.runtimeInterruptReason}getStaticStageEndTime(){return this.staticStageEndTime}getRuntimeStageEndTime(){return this.runtimeStageEndTime}abandonRender(){if(!this.mayAbandon)throw Object.defineProperty(new a.InvariantError("`abandonRender` called on a stage controller that cannot be abandoned."),"__NEXT_ERROR_CODE",{value:"E938",enumerable:!1,configurable:!0});this.abandonRenderImpl()}abandonRenderImpl(){let{currentStage:e}=this;switch(e){case 2:this.currentStage=5,this.resolveRuntimeStage();return;case 3:this.currentStage=5;return}}advanceStage(e){if(e<=this.currentStage)return;let t=this.currentStage;if(this.currentStage=e,t<3&&e>=3&&(this.staticStageEndTime=performance.now()+performance.timeOrigin,this.resolveRuntimeStage()),t<4&&e>=4){this.runtimeStageEndTime=performance.now()+performance.timeOrigin,this.resolveDynamicStage();return}}resolveRuntimeStage(){let e=this.runtimeStageListeners;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.runtimeStagePromise.resolve()}resolveDynamicStage(){let e=this.dynamicStageListeners;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.dynamicStagePromise.resolve()}getStagePromise(e){switch(e){case 3:return this.runtimeStagePromise.promise;case 4:return this.dynamicStagePromise.promise;default:throw Object.defineProperty(new a.InvariantError(`Invalid render stage: ${e}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}}waitForStage(e){return this.getStagePromise(e)}delayUntilStage(e,t,r){var i,n,s;let a,o=(i=this.getStagePromise(e),n=t,s=r,a=new Promise((e,t)=>{i.then(e.bind(null,s),t)}),void 0!==n&&(a.displayName=n),a);return this.abortSignal&&o.catch(u),o}}function u(){}},75674,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"connection",{enumerable:!0,get:function(){return c}});let i=e.r(56704),n=e.r(32319),s=e.r(68665),a=e.r(97573),o=e.r(4642),l=e.r(43824);function c(){let e=i.workAsyncStorage.getStore(),t=n.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside \`after()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but \`after()\` executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E827",enumerable:!1,configurable:!0});if(e.forceStatic)return Promise.resolve(void 0);if(e.dynamicShouldError)throw Object.defineProperty(new a.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E847",enumerable:!1,configurable:!0});if(t)switch(t.type){case"cache":{let t=Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual request, but caches must be able to be produced before a request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E841",enumerable:!1,configurable:!0});throw Error.captureStackTrace(t,c),e.invalidDynamicUsageError??=t,t}case"private-cache":{let t=Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside "use cache: private". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual navigation request, but caches must be able to be produced before a navigation request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E837",enumerable:!1,configurable:!0});throw Error.captureStackTrace(t,c),e.invalidDynamicUsageError??=t,t}case"unstable-cache":throw Object.defineProperty(Error(`Route ${e.route} used \`connection()\` inside a function cached with \`unstable_cache()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E840",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-runtime":return(0,o.makeHangingPromise)(t.renderSignal,e.route,"`connection()`");case"prerender-ppr":return(0,s.postponeWithTracking)(e.route,"connection",t.dynamicTracking);case"prerender-legacy":return(0,s.throwToInterruptStaticGeneration)("connection",e,t);case"request":return(0,s.trackDynamicDataInDynamicRender)(t),Promise.resolve(void 0)}}(0,n.throwForMissingRequestStore)("connection")}e.r(18185)},89171,(e,t,r)=>{let i={NextRequest:e.r(29666).NextRequest,NextResponse:e.r(46633).NextResponse,ImageResponse:e.r(87963).ImageResponse,userAgentFromString:e.r(4386).userAgentFromString,userAgent:e.r(4386).userAgent,URLPattern:e.r(79187).URLPattern,after:e.r(81053).after,connection:e.r(75674).connection};t.exports=i,r.NextRequest=i.NextRequest,r.NextResponse=i.NextResponse,r.ImageResponse=i.ImageResponse,r.userAgentFromString=i.userAgentFromString,r.userAgent=i.userAgent,r.URLPattern=i.URLPattern,r.after=i.after,r.connection=i.connection},17374,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={ActionDidNotRevalidate:function(){return s},ActionDidRevalidateDynamicOnly:function(){return o},ActionDidRevalidateStaticAndDynamic:function(){return a}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=0,a=1,o=2},30240,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={MutableRequestCookiesAdapter:function(){return p},ReadonlyRequestCookiesError:function(){return c},RequestCookiesAdapter:function(){return u},appendMutableCookies:function(){return f},areCookiesMutableInCurrentPhase:function(){return g},createCookiesWithMutableAccessCheck:function(){return m},getModifiedCookieValues:function(){return h},responseCookiesToRequestCookies:function(){return b}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(472),a=e.r(30759),o=e.r(56704),l=e.r(17374);class c extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new c}}class u{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return c.callable;default:return a.ReflectAdapter.get(e,t,r)}}})}}let d=Symbol.for("next.mutated.cookies");function h(e){let t=e[d];return t&&Array.isArray(t)&&0!==t.length?t:[]}function f(e,t){let r=h(t);if(0===r.length)return!1;let i=new s.ResponseCookies(e),n=i.getAll();for(let e of r)i.set(e);for(let e of n)i.set(e);return!0}class p{static wrap(e,t){let r=new s.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let i=[],n=new Set,c=()=>{let e=o.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=l.ActionDidRevalidateStaticAndDynamic),i=r.getAll().filter(e=>n.has(e.name)),t){let e=[];for(let t of i){let r=new s.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},u=new Proxy(r,{get(e,t,r){switch(t){case d:return i;case"delete":return function(...t){n.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),u}finally{c()}};case"set":return function(...t){n.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),u}finally{c()}};default:return a.ReflectAdapter.get(e,t,r)}}});return u}}function m(e){let t=new Proxy(e.mutableCookies,{get(r,i,n){switch(i){case"delete":return function(...i){return y(e,"cookies().delete"),r.delete(...i),t};case"set":return function(...i){return y(e,"cookies().set"),r.set(...i),t};default:return a.ReflectAdapter.get(r,i,n)}}});return t}function g(e){return"action"===e.phase}function y(e,t){if(!g(e))throw new c}function b(e){let t=new s.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}},13884,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return l}});let i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(void 0);if(r&&r.has(e))return r.get(e);var i={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}(e.r(47540));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}let s={current:null},a="function"==typeof i.cache?i.cache:e=>e,o=console.warn;function l(e){return function(...t){o(e(...t))}}a(e=>{try{o(s.current)}finally{s.current=null}})},7460,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"cookies",{enumerable:!0,get:function(){return f}});let i=e.r(30240),n=e.r(472),s=e.r(56704),a=e.r(32319),o=e.r(68665),l=e.r(97573),c=e.r(4642),u=e.r(13884),d=e.r(43824),h=e.r(76414);function f(){let e="cookies",t=s.workAsyncStorage.getStore(),r=a.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,d.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`cookies()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E843",enumerable:!1,configurable:!0});if(t.forceStatic)return m(i.RequestCookiesAdapter.seal(new n.RequestCookies(new Headers({}))));if(t.dynamicShouldError)throw Object.defineProperty(new l.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E849",enumerable:!1,configurable:!0});if(r)switch(r.type){case"cache":let s=Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E831",enumerable:!1,configurable:!0});throw Error.captureStackTrace(s,f),t.invalidDynamicUsageError??=s,s;case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E846",enumerable:!1,configurable:!0});case"prerender":var u=t,g=r;let a=p.get(g);if(a)return a;let y=(0,c.makeHangingPromise)(g.renderSignal,u.route,"`cookies()`");return p.set(g,y),y;case"prerender-client":let b="`cookies`";throw Object.defineProperty(new h.InvariantError(`${b} must not be used within a Client Component. Next.js should be preventing ${b} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,o.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,o.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,o.delayUntilRuntimeStage)(r,m(r.cookies));case"private-cache":return m(r.cookies);case"request":return(0,o.trackDynamicDataInDynamicRender)(r),m((0,i.areCookiesMutableInCurrentPhase)(r)?r.userspaceMutableCookies:r.cookies)}}(0,a.throwForMissingRequestStore)(e)}e.r(18185);let p=new WeakMap;function m(e){let t=p.get(e);if(t)return t;let r=Promise.resolve(e);return p.set(e,r),r}(0,u.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E830",enumerable:!1,configurable:!0})})},36052,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={HeadersAdapter:function(){return o},ReadonlyHeadersError:function(){return a}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(30759);class a extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new a}}class o extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,i){if("symbol"==typeof r)return s.ReflectAdapter.get(t,r,i);let n=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===n);if(void 0!==a)return s.ReflectAdapter.get(t,a,i)},set(t,r,i,n){if("symbol"==typeof r)return s.ReflectAdapter.set(t,r,i,n);let a=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===a);return s.ReflectAdapter.set(t,o??r,i,n)},has(t,r){if("symbol"==typeof r)return s.ReflectAdapter.has(t,r);let i=r.toLowerCase(),n=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0!==n&&s.ReflectAdapter.has(t,n)},deleteProperty(t,r){if("symbol"==typeof r)return s.ReflectAdapter.deleteProperty(t,r);let i=r.toLowerCase(),n=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0===n||s.ReflectAdapter.deleteProperty(t,n)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return a.callable;default:return s.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new o(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,i]of this.entries())e.call(t,i,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},19971,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"headers",{enumerable:!0,get:function(){return h}});let i=e.r(36052),n=e.r(56704),s=e.r(32319),a=e.r(68665),o=e.r(97573),l=e.r(4642),c=e.r(13884),u=e.r(43824),d=e.r(76414);function h(){let e="headers",t=n.workAsyncStorage.getStore(),r=s.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,u.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`headers()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E839",enumerable:!1,configurable:!0});if(t.forceStatic)return p(i.HeadersAdapter.seal(new Headers({})));if(r)switch(r.type){case"cache":{let e=Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E833",enumerable:!1,configurable:!0});throw Error.captureStackTrace(e,h),t.invalidDynamicUsageError??=e,e}case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E838",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E828",enumerable:!1,configurable:!0});if(r)switch(r.type){case"prerender":var c=t,m=r;let n=f.get(m);if(n)return n;let s=(0,l.makeHangingPromise)(m.renderSignal,c.route,"`headers()`");return f.set(m,s),s;case"prerender-client":let g="`headers`";throw Object.defineProperty(new d.InvariantError(`${g} must not be used within a client component. Next.js should be preventing ${g} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,a.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,a.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,a.delayUntilRuntimeStage)(r,p(r.headers));case"private-cache":return p(r.headers);case"request":return(0,a.trackDynamicDataInDynamicRender)(r),p(r.headers)}}(0,s.throwForMissingRequestStore)(e)}e.r(18185);let f=new WeakMap;function p(e){let t=f.get(e);if(t)return t;let r=Promise.resolve(e);return f.set(e,r),r}(0,c.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E836",enumerable:!1,configurable:!0})})},21423,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"draftMode",{enumerable:!0,get:function(){return u}});let i=e.r(32319),n=e.r(56704),s=e.r(68665),a=e.r(13884),o=e.r(97573),l=e.r(65252),c=e.r(76414);function u(){let e=n.workAsyncStorage.getStore(),t=i.workUnitAsyncStorage.getStore();switch((!e||!t)&&(0,i.throwForMissingRequestStore)("draftMode"),t.type){case"prerender-runtime":return(0,s.delayUntilRuntimeStage)(t,d(t.draftMode,e));case"request":return d(t.draftMode,e);case"cache":case"private-cache":case"unstable-cache":let r=(0,i.getDraftModeProviderForCacheScope)(e,t);if(r)return d(r,e);case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return d(null,e);default:return t}}function d(e,t){let r=f.get(e??h);return r||Promise.resolve(new p(e))}e.r(30759);let h={},f=new WeakMap;class p{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){m("draftMode().enable()",this.enable),null!==this._provider&&this._provider.enable()}disable(){m("draftMode().disable()",this.disable),null!==this._provider&&this._provider.disable()}}function m(e,t){let r=n.workAsyncStorage.getStore(),a=i.workUnitAsyncStorage.getStore();if(r){if((null==a?void 0:a.phase)==="after")throw Object.defineProperty(Error(`Route ${r.route} used "${e}" inside \`after()\`. The enabled status of \`draftMode()\` can be read inside \`after()\` but you cannot enable or disable \`draftMode()\`. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E845",enumerable:!1,configurable:!0});if(r.dynamicShouldError)throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${r.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(a)switch(a.type){case"cache":case"private-cache":{let i=Object.defineProperty(Error(`Route ${r.route} used "${e}" inside "use cache". The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E829",enumerable:!1,configurable:!0});throw Error.captureStackTrace(i,t),r.invalidDynamicUsageError??=i,i}case"unstable-cache":throw Object.defineProperty(Error(`Route ${r.route} used "${e}" inside a function cached with \`unstable_cache()\`. The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E844",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":{let t=Object.defineProperty(Error(`Route ${r.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});return(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r.route,e,t,a)}case"prerender-client":let i="`draftMode`";throw Object.defineProperty(new c.InvariantError(`${i} must not be used within a Client Component. Next.js should be preventing ${i} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,s.postponeWithTracking)(r.route,e,a.dynamicTracking);case"prerender-legacy":a.revalidate=0;let n=Object.defineProperty(new l.DynamicServerError(`Route ${r.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.dynamicUsageDescription=e,r.dynamicUsageStack=n.stack,n;case"request":(0,s.trackDynamicDataInDynamicRender)(a)}}}(0,a.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E835",enumerable:!1,configurable:!0})})},93458,(e,t,r)=>{t.exports.cookies=e.r(7460).cookies,t.exports.headers=e.r(19971).headers,t.exports.draftMode=e.r(21423).draftMode},8595,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReadonlyURLSearchParams",{enumerable:!0,get:function(){return n}});class i extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class n extends URLSearchParams{append(){throw new i}delete(){throw new i}set(){throw new i}sort(){throw new i}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},50723,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedirectStatusCode",{enumerable:!0,get:function(){return n}});var i,n=((i={})[i.SeeOther=303]="SeeOther",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},19334,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,n={REDIRECT_ERROR_CODE:function(){return o},RedirectType:function(){return l},isRedirectError:function(){return c}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let a=e.r(50723),o="NEXT_REDIRECT";var l=((i={}).push="push",i.replace="replace",i);function c(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,i]=t,n=t.slice(2,-2).join(";"),s=Number(t.at(-2));return r===o&&("replace"===i||"push"===i)&&"string"==typeof n&&!isNaN(s)&&s in a.RedirectStatusCode}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},22349,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return f},getRedirectTypeFromError:function(){return h},getURLFromRedirectError:function(){return d},permanentRedirect:function(){return u},redirect:function(){return c}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(50723),a=e.r(19334),o=e.r(20635).actionAsyncStorage;function l(e,t,r=s.RedirectStatusCode.TemporaryRedirect){let i=Object.defineProperty(Error(a.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i.digest=`${a.REDIRECT_ERROR_CODE};${t};${e};${r};`,i}function c(e,t){throw l(e,t??=o?.getStore()?.isAction?a.RedirectType.push:a.RedirectType.replace,s.RedirectStatusCode.TemporaryRedirect)}function u(e,t=a.RedirectType.replace){throw l(e,t,s.RedirectStatusCode.PermanentRedirect)}function d(e){return(0,a.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function h(e){if(!(0,a.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function f(e){if(!(0,a.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},12053,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={HTTPAccessErrorStatus:function(){return s},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return o},getAccessFallbackErrorTypeByStatus:function(){return u},getAccessFallbackHTTPStatus:function(){return c},isHTTPAccessFallbackError:function(){return l}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},a=new Set(Object.values(s)),o="NEXT_HTTP_ERROR_FALLBACK";function l(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===o&&a.has(Number(r))}function c(e){return Number(e.digest.split(";")[1])}function u(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},2507,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"notFound",{enumerable:!0,get:function(){return s}});let i=e.r(12053),n=`${i.HTTP_ERROR_FALLBACK_ERROR_CODE};404`;function s(){let e=Object.defineProperty(Error(n),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=n,e}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},47658,(e,t,r)=>{"use strict";function i(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"forbidden",{enumerable:!0,get:function(){return i}}),e.r(12053).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},35458,(e,t,r)=>{"use strict";function i(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unauthorized",{enumerable:!0,get:function(){return i}}),e.r(12053).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},67539,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isPostpone",{enumerable:!0,get:function(){return n}});let i=Symbol.for("react.postpone");function n(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}},62782,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isNextRouterError",{enumerable:!0,get:function(){return s}});let i=e.r(12053),n=e.r(19334);function s(e){return(0,n.isRedirectError)(e)||(0,i.isHTTPAccessFallbackError)(e)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},17387,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,a.isNextRouterError)(t)||(0,s.isBailoutToCSRError)(t)||(0,l.isDynamicServerError)(t)||(0,o.isDynamicPostpone)(t)||(0,n.isPostpone)(t)||(0,i.isHangingPromiseRejectionError)(t)||(0,o.isPrerenderInterruptedError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let i=e.r(4642),n=e.r(67539),s=e.r(31584),a=e.r(62782),o=e.r(68665),l=e.r(65252);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},9811,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return i}});let i=e.r(17387).unstable_rethrow;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},79509,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={ReadonlyURLSearchParams:function(){return s.ReadonlyURLSearchParams},RedirectType:function(){return o.RedirectType},forbidden:function(){return c.forbidden},notFound:function(){return l.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect},unauthorized:function(){return u.unauthorized},unstable_isUnrecognizedActionError:function(){return h},unstable_rethrow:function(){return d.unstable_rethrow}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(8595),a=e.r(22349),o=e.r(19334),l=e.r(2507),c=e.r(47658),u=e.r(35458),d=e.r(9811);function h(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},27553,e=>{"use strict";let t,r,i,n,s,a;var o=function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},l=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};function c(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}}}}class u{constructor(e,t,r){if(rl.add(this),rc.set(this,{}),ru.set(this,void 0),rd.set(this,void 0),o(this,rd,r,"f"),o(this,ru,e,"f"),!t)return;const{name:i}=e;for(const[e,r]of Object.entries(t))e.startsWith(i)&&r&&(l(this,rc,"f")[e]=r)}get value(){return Object.keys(l(this,rc,"f")).sort((e,t)=>parseInt(e.split(".").pop()||"0")-parseInt(t.split(".").pop()||"0")).map(e=>l(this,rc,"f")[e]).join("")}chunk(e,t){let r=l(this,rl,"m",rf).call(this);for(let i of l(this,rl,"m",rh).call(this,{name:l(this,ru,"f").name,value:e,options:{...l(this,ru,"f").options,...t}}))r[i.name]=i;return Object.values(r)}clean(){return Object.values(l(this,rl,"m",rf).call(this))}}rc=new WeakMap,ru=new WeakMap,rd=new WeakMap,rl=new WeakSet,rh=function(e){let t=Math.ceil(e.value.length/3936);if(1===t)return l(this,rc,"f")[e.name]=e.value,[e];let r=[];for(let i=0;i<t;i++){let t=`${e.name}.${i}`,n=e.value.substr(3936*i,3936);r.push({...e,name:t,value:n}),l(this,rc,"f")[t]=n}return l(this,rd,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:e.value.length,chunks:r.map(e=>e.value.length+160)}),r},rf=function(){let e={};for(let t in l(this,rc,"f"))delete l(this,rc,"f")?.[t],e[t]={name:t,value:"",options:{...l(this,ru,"f").options,maxAge:0}};return e};class d extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);const r=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${r}`}}class h extends d{}h.kind="signIn";class f extends d{}f.type="AdapterError";class p extends d{}p.type="AccessDenied";class m extends d{}m.type="CallbackRouteError";class g extends d{}g.type="ErrorPageLoop";class y extends d{}y.type="EventError";class b extends d{}b.type="InvalidCallbackUrl";class w extends h{constructor(){super(...arguments),this.code="credentials"}}w.type="CredentialsSignin";class v extends d{}v.type="InvalidEndpoints";class _ extends d{}_.type="InvalidCheck";class x extends d{}x.type="JWTSessionError";class S extends d{}S.type="MissingAdapter";class T extends d{}T.type="MissingAdapterMethods";class E extends d{}E.type="MissingAuthorize";class A extends d{}A.type="MissingSecret";class C extends h{}C.type="OAuthAccountNotLinked";class P extends h{}P.type="OAuthCallbackError";class k extends d{}k.type="OAuthProfileParseError";class N extends d{}N.type="SessionTokenError";class R extends d{}R.type="SignOutError";class O extends d{}O.type="UnknownAction";class q extends d{}q.type="UnsupportedStrategy";class I extends d{}I.type="InvalidProvider";class $ extends d{}$.type="UntrustedHost";class j extends d{}j.type="Verification";class L extends h{}L.type="MissingCSRF";let D=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class M extends d{}M.type="DuplicateConditionalUI";class U extends d{}U.type="MissingWebAuthnAutocomplete";class B extends d{}B.type="WebAuthnVerificationError";class K extends h{}K.type="AccountNotLinked";class H extends d{}H.type="ExperimentalFeatureNotEnabled";let Q=!1;function F(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}let V=!1,W=!1,z=!1,J=["createVerificationToken","useVerificationToken","getUserByEmail"],Z=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],G=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"];var X=e.i(54799);"function"!=typeof X.hkdf||process.versions.electron||(t=async(...e)=>new Promise((t,r)=>{X.hkdf(...e,(e,i)=>{e?r(e):t(new Uint8Array(i))})}));let Y=async(e,r,i,n,s)=>(t||((e,t,r,i,n)=>{let s=parseInt(e.substr(3),10)>>3||20,a=(0,X.createHmac)(e,r.byteLength?r:new Uint8Array(s)).update(t).digest(),o=Math.ceil(n/s),l=new Uint8Array(s*o+i.byteLength+1),c=0,u=0;for(let t=1;t<=o;t++)l.set(i,u),l[u+i.byteLength]=t,l.set((0,X.createHmac)(e,a).update(l.subarray(c,u+i.byteLength+1)).digest(),u),c=u,u+=s;return l.slice(0,n)}))(e,r,i,n,s);function ee(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function et(e,t,r,i,n){return Y(function(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}(e),function(e){let t=ee(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}(t),ee(r,"salt"),function(e){let t=ee(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}(i),function(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}(n,e))}let er=new TextEncoder,ei=new TextDecoder;function en(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let i of e)t.set(i,r),r+=i.length;return t}function es(e,t,r){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function ea(e){let t=Math.floor(e/0x100000000),r=new Uint8Array(8);return es(r,t,0),es(r,e%0x100000000,4),r}function eo(e){let t=new Uint8Array(4);return es(t,e),t}function el(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>127)throw TypeError("non-ASCII string encountered in encode()");t[r]=i}return t}function ec(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof e?e:ei.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=ei.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/");try{var r=t;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(r);let e=atob(r),i=new Uint8Array(e.length);for(let t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function eu(e){let t=e;return("string"==typeof t&&(t=er.encode(t)),Uint8Array.prototype.toBase64)?t.toBase64({alphabet:"base64url",omitPadding:!0}):(function(e){if(Uint8Array.prototype.toBase64)return e.toBase64();let t=[];for(let r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join(""))})(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}e.s(["decode",()=>ec,"encode",()=>eu],63370);let ed=Symbol();class eh extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class ef extends eh{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:t}}),this.claim=r,this.reason=i,this.payload=t}}class ep extends eh{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:t}}),this.claim=r,this.reason=i,this.payload=t}}class em extends eh{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class eg extends eh{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class ey extends eh{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(e="decryption operation failed",t){super(e,t)}}class eb extends eh{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class ew extends eh{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class ev extends eh{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class e_ extends eh{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}function ex(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new eg(`Unsupported JWE Algorithm: ${e}`)}}function eS(e,t){if(t.length<<3!==ex(e))throw new eb("Invalid Initialization Vector length")}function eT(e,t){let r=e.byteLength<<3;if(r!==t)throw new eb(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)}let eE=(e,t="algorithm.name")=>TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`);function eA(e,t,r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if("AES-GCM"!==e.algorithm.name)throw eE("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw eE(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if("AES-KW"!==e.algorithm.name)throw eE("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw eE(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":break;default:throw eE("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if("PBKDF2"!==e.algorithm.name)throw eE("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if("RSA-OAEP"!==e.algorithm.name)throw eE("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(parseInt(e.algorithm.hash.name.slice(4),10)!==r)throw eE(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}if(r&&!e.usages.includes(r))throw TypeError(`CryptoKey does not support this operation, its usages must include ${r}.`)}function eC(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let eP=(e,...t)=>eC("Key must be ",e,...t),ek=(e,t,...r)=>eC(`Key for the ${e} algorithm must be `,t,...r);function eN(e){if(!eR(e))throw Error("CryptoKey instance expected")}let eR=e=>{if(e?.[Symbol.toStringTag]==="CryptoKey")return!0;try{return e instanceof CryptoKey}catch{return!1}},eO=e=>e?.[Symbol.toStringTag]==="KeyObject",eq=e=>eR(e)||eO(e);async function eI(e,t,r,i,n){if(!(r instanceof Uint8Array))throw TypeError(eP(r,"Uint8Array"));let s=parseInt(e.slice(1,4),10),a=await crypto.subtle.importKey("raw",r.subarray(s>>3),"AES-CBC",!1,["encrypt"]),o=await crypto.subtle.importKey("raw",r.subarray(0,s>>3),{hash:`SHA-${s<<1}`,name:"HMAC"},!1,["sign"]),l=new Uint8Array(await crypto.subtle.encrypt({iv:i,name:"AES-CBC"},a,t)),c=en(n,i,l,ea(n.length<<3));return{ciphertext:l,tag:new Uint8Array((await crypto.subtle.sign("HMAC",o,c)).slice(0,s>>3)),iv:i}}async function e$(e,t,r,i,n){let s;r instanceof Uint8Array?s=await crypto.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(eA(r,e,"encrypt"),s=r);let a=new Uint8Array(await crypto.subtle.encrypt({additionalData:n,iv:i,name:"AES-GCM",tagLength:128},s,t)),o=a.slice(-16);return{ciphertext:a.slice(0,-16),tag:o,iv:i}}async function ej(e,t,r,i,n){if(!eR(r)&&!(r instanceof Uint8Array))throw TypeError(eP(r,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(i)eS(e,i);else i=crypto.getRandomValues(new Uint8Array(ex(e)>>3));switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&eT(r,parseInt(e.slice(-3),10)),eI(e,t,r,i,n);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&eT(r,parseInt(e.slice(1,4),10)),e$(e,t,r,i,n);default:throw new eg("Unsupported JWE Content Encryption Algorithm")}}function eL(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function eD(e,t,r){return e instanceof Uint8Array?crypto.subtle.importKey("raw",e,"AES-KW",!0,[r]):(eA(e,t,r),e)}async function eM(e,t,r){let i=await eD(t,e,"wrapKey");eL(i,e);let n=await crypto.subtle.importKey("raw",r,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",n,i,"AES-KW"))}async function eU(e,t,r){let i=await eD(t,e,"unwrapKey");eL(i,e);let n=await crypto.subtle.unwrapKey("raw",r,i,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",n))}async function eB(e,t){let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(r,t))}function eK(e){return en(eo(e.length),e)}async function eH(e,t,r){let i=t>>3,n=Math.ceil(i/32),s=new Uint8Array(32*n);for(let t=1;t<=n;t++){let i=new Uint8Array(4+e.length+r.length);i.set(eo(t),0),i.set(e,4),i.set(r,4+e.length);let n=await eB("sha256",i);s.set(n,(t-1)*32)}return s.slice(0,i)}async function eQ(e,t,r,i,n=new Uint8Array,s=new Uint8Array){var a;eA(e,"ECDH"),eA(t,"ECDH","deriveBits");let o=en(eK(el(r)),eK(n),eK(s),eo(i),new Uint8Array);return eH(new Uint8Array(await crypto.subtle.deriveBits({name:e.algorithm.name,public:e},t,"X25519"===(a=e).algorithm.name?256:Math.ceil(parseInt(a.algorithm.namedCurve.slice(-3),10)/8)<<3)),i,o)}function eF(e){switch(e.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return"X25519"===e.algorithm.name}}async function eV(e,t,r,i){if(!(e instanceof Uint8Array)||e.length<8)throw new eb("PBES2 Salt Input must be 8 or more octets");let n=en(el(t),Uint8Array.of(0),e),s=parseInt(t.slice(13,16),10),a={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:n},o=await (i instanceof Uint8Array?crypto.subtle.importKey("raw",i,"PBKDF2",!1,["deriveBits"]):(eA(i,t,"deriveBits"),i));return new Uint8Array(await crypto.subtle.deriveBits(a,o,s))}async function eW(e,t,r,i=2048,n=crypto.getRandomValues(new Uint8Array(16))){let s=await eV(n,e,i,t);return{encryptedKey:await eM(e.slice(-6),s,r),p2c:i,p2s:eu(n)}}async function ez(e,t,r,i,n){let s=await eV(n,e,i,t);return eU(e.slice(-6),s,r)}function eJ(e,t){if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}}let eZ=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new eg(`alg ${e} is not supported either by JOSE or your javascript runtime`)}};async function eG(e,t,r){return eA(t,e,"encrypt"),eJ(e,t),new Uint8Array(await crypto.subtle.encrypt(eZ(e),t,r))}async function eX(e,t,r){return eA(t,e,"decrypt"),eJ(e,t),new Uint8Array(await crypto.subtle.decrypt(eZ(e),t,r))}function eY(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let e0=e=>eY(e)&&"string"==typeof e.kty;async function e1(e){if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(e){let t,r;switch(e.kty){case"AKP":switch(e.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":t={name:e.alg},r=e.priv?["sign"]:["verify"];break;default:throw new eg('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new eg('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new eg('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new eg('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new eg('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),i={...e};return"AKP"!==i.kty&&delete i.alg,delete i.use,crypto.subtle.importKey("jwk",i,t,e.ext??(!e.d&&!e.priv),e.key_ops??r)}let e2=async(e,t,i,n=!1)=>{let s=(r||=new WeakMap).get(e);if(s?.[i])return s[i];let a=await e1({...t,alg:i});return n&&Object.freeze(e),s?s[i]=a:r.set(e,{[i]:a}),a};async function e5(e,t){if(e instanceof Uint8Array||eR(e))return e;if(eO(e)){if("secret"===e.type)return e.export();if("toCryptoKey"in e&&"function"==typeof e.toCryptoKey)try{return((e,t)=>{let i,n=(r||=new WeakMap).get(e);if(n?.[t])return n[t];let s="public"===e.type,a=!!s;if("x25519"===e.asymmetricKeyType){switch(t){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}i=e.toCryptoKey(e.asymmetricKeyType,a,s?[]:["deriveBits"])}if("ed25519"===e.asymmetricKeyType){if("EdDSA"!==t&&"Ed25519"!==t)throw TypeError("given KeyObject instance cannot be used for this algorithm");i=e.toCryptoKey(e.asymmetricKeyType,a,[s?"verify":"sign"])}switch(e.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(t!==e.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");i=e.toCryptoKey(e.asymmetricKeyType,a,[s?"verify":"sign"])}if("rsa"===e.asymmetricKeyType){let r;switch(t){case"RSA-OAEP":r="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":r="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":r="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":r="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(t.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:r},a,s?["encrypt"]:["decrypt"]);i=e.toCryptoKey({name:t.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:r},a,[s?"verify":"sign"])}if("ec"===e.asymmetricKeyType){let r=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(e.asymmetricKeyDetails?.namedCurve);if(!r)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===t&&"P-256"===r&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:r},a,[s?"verify":"sign"])),"ES384"===t&&"P-384"===r&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:r},a,[s?"verify":"sign"])),"ES512"===t&&"P-521"===r&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:r},a,[s?"verify":"sign"])),t.startsWith("ECDH-ES")&&(i=e.toCryptoKey({name:"ECDH",namedCurve:r},a,s?[]:["deriveBits"]))}if(!i)throw TypeError("given KeyObject instance cannot be used for this algorithm");return n?n[t]=i:r.set(e,{[t]:i}),i})(e,t)}catch(e){if(e instanceof TypeError)throw e}let i=e.export({format:"jwk"});return e2(e,i,t)}if(e0(e))return e.k?ec(e.k):e2(e,e,t,!0);throw Error("unreachable")}function e4(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new eg(`Unsupported JWE Algorithm: ${e}`)}}let e6=e=>crypto.getRandomValues(new Uint8Array(e4(e)>>3));async function e3(e){if(eO(e))if("secret"!==e.type)return e.export({format:"jwk"});else e=e.export();if(e instanceof Uint8Array)return{kty:"oct",k:eu(e)};if(!eR(e))throw TypeError(eP(e,"CryptoKey","KeyObject","Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:i,use:n,...s}=await crypto.subtle.exportKey("jwk",e);return"AKP"===s.kty&&(s.alg=i),s}async function e9(e){return e3(e)}async function e8(e,t){if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let r={name:"HMAC",hash:"SHA-256"},i=await crypto.subtle.generateKey(r,!1,["sign"]),n=new Uint8Array(await crypto.subtle.sign(r,i,e)),s=new Uint8Array(await crypto.subtle.sign(r,i,t)),a=0,o=-1;for(;++o<32;)a|=n[o]^s[o];return 0===a}async function e7(e,t,r,i,n,s){let a,o;if(!(t instanceof Uint8Array))throw TypeError(eP(t,"Uint8Array"));let l=parseInt(e.slice(1,4),10),c=await crypto.subtle.importKey("raw",t.subarray(l>>3),"AES-CBC",!1,["decrypt"]),u=await crypto.subtle.importKey("raw",t.subarray(0,l>>3),{hash:`SHA-${l<<1}`,name:"HMAC"},!1,["sign"]),d=en(s,i,r,ea(s.length<<3)),h=new Uint8Array((await crypto.subtle.sign("HMAC",u,d)).slice(0,l>>3));try{a=await e8(n,h)}catch{}if(!a)throw new ey;try{o=new Uint8Array(await crypto.subtle.decrypt({iv:i,name:"AES-CBC"},c,r))}catch{}if(!o)throw new ey;return o}async function te(e,t,r,i,n,s){let a;t instanceof Uint8Array?a=await crypto.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(eA(t,e,"decrypt"),a=t);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:s,iv:i,name:"AES-GCM",tagLength:128},a,en(r,n)))}catch{throw new ey}}async function tt(e,t,r,i,n,s){if(!eR(t)&&!(t instanceof Uint8Array))throw TypeError(eP(t,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!i)throw new eb("JWE Initialization Vector missing");if(!n)throw new eb("JWE Authentication Tag missing");switch(eS(e,i),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&eT(t,parseInt(e.slice(-3),10)),e7(e,t,r,i,n,s);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&eT(t,parseInt(e.slice(1,4),10)),te(e,t,r,i,n,s);default:throw new eg("Unsupported JWE Content Encryption Algorithm")}}async function tr(e,t,r,i){let n=e.slice(0,7),s=await ej(n,r,t,i,new Uint8Array);return{encryptedKey:s.ciphertext,iv:eu(s.iv),tag:eu(s.tag)}}async function ti(e,t,r,i,n){return tt(e.slice(0,7),t,r,i,n,new Uint8Array)}async function tn(e,t,r,i,n={}){let s,a,o;switch(e){case"dir":o=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let l;if(eN(r),!eF(r))throw new eg("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:c,apv:u}=n;l=n.epk?await e5(n.epk,e):(await crypto.subtle.generateKey(r.algorithm,!0,["deriveBits"])).privateKey;let{x:d,y:h,crv:f,kty:p}=await e9(l),m=await eQ(r,l,"ECDH-ES"===e?t:e,"ECDH-ES"===e?e4(t):parseInt(e.slice(-5,-2),10),c,u);if(a={epk:{x:d,crv:f,kty:p}},"EC"===p&&(a.epk.y=h),c&&(a.apu=eu(c)),u&&(a.apv=eu(u)),"ECDH-ES"===e){o=m;break}o=i||e6(t);let g=e.slice(-6);s=await eM(g,m,o);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o=i||e6(t),eN(r),s=await eG(e,r,o);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{o=i||e6(t);let{p2c:l,p2s:c}=n;({encryptedKey:s,...a}=await eW(e,r,o,l,c));break}case"A128KW":case"A192KW":case"A256KW":o=i||e6(t),s=await eM(e,r,o);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{o=i||e6(t);let{iv:l}=n;({encryptedKey:s,...a}=await tr(e,r,o,l));break}default:throw new eg('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:o,encryptedKey:s,parameters:a}}function ts(...e){let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0}function ta(e,t,r,i,n){let s;if(void 0!==n.crit&&i?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let a of(s=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,i.crit)){if(!s.has(a))throw new eg(`Extension Header Parameter "${a}" is not recognized`);if(void 0===n[a])throw new e(`Extension Header Parameter "${a}" is missing`);if(s.get(a)&&void 0===i[a])throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(i.crit)}let to=e=>e?.[Symbol.toStringTag],tl=(e,t,r)=>{if(void 0!==t.use){let e;switch(r){case"sign":case"verify":e="sig";break;case"encrypt":case"decrypt":e="enc"}if(t.use!==e)throw TypeError(`Invalid key for this operation, its "use" must be "${e}" when present`)}if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let i;switch(!0){case"sign"===r||"verify"===r:case"dir"===e:case e.includes("CBC-HS"):i=r;break;case e.startsWith("PBES2"):i="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):i=!e.includes("GCM")&&e.endsWith("KW")?"encrypt"===r?"wrapKey":"unwrapKey":r;break;case"encrypt"===r&&e.startsWith("RSA"):i="wrapKey";break;case"decrypt"===r:i=e.startsWith("RSA")?"unwrapKey":"deriveBits"}if(i&&t.key_ops?.includes?.(i)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${i}" when present`)}return!0};function tc(e,t,r){switch(e.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":((e,t,r)=>{if(!(t instanceof Uint8Array)){if(e0(t)){if("oct"===t.kty&&"string"==typeof t.k&&tl(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!eq(t))throw TypeError(ek(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==t.type)throw TypeError(`${to(t)} instances for symmetric algorithms must be of type "secret"`)}})(e,t,r);break;default:((e,t,r)=>{if(e0(t))switch(r){case"decrypt":case"sign":if("oct"!==t.kty&&("AKP"===t.kty&&"string"==typeof t.priv||"string"==typeof t.d)&&tl(e,t,r))return;throw TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":if("oct"!==t.kty&&void 0===t.d&&void 0===t.priv&&tl(e,t,r))return;throw TypeError("JSON Web Key for this operation must be a public JWK")}if(!eq(t))throw TypeError(ek(e,t,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===t.type)throw TypeError(`${to(t)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===t.type)switch(r){case"sign":throw TypeError(`${to(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${to(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===t.type)switch(r){case"verify":throw TypeError(`${to(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${to(t)} instances for asymmetric algorithm encryption must be of type "public"`)}})(e,t,r)}}class tu{#t;#r;#i;#n;#s;#a;#o;#l;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#t=e}setKeyManagementParameters(e){if(this.#l)throw TypeError("setKeyManagementParameters can only be called once");return this.#l=e,this}setProtectedHeader(e){if(this.#r)throw TypeError("setProtectedHeader can only be called once");return this.#r=e,this}setSharedUnprotectedHeader(e){if(this.#i)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#i=e,this}setUnprotectedHeader(e){if(this.#n)throw TypeError("setUnprotectedHeader can only be called once");return this.#n=e,this}setAdditionalAuthenticatedData(e){return this.#s=e,this}setContentEncryptionKey(e){if(this.#a)throw TypeError("setContentEncryptionKey can only be called once");return this.#a=e,this}setInitializationVector(e){if(this.#o)throw TypeError("setInitializationVector can only be called once");return this.#o=e,this}async encrypt(e,t){let r,i,n,s,a,o;if(!this.#r&&!this.#n&&!this.#i)throw new eb("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!ts(this.#r,this.#n,this.#i))throw new eb("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let l={...this.#r,...this.#n,...this.#i};if(ta(eb,new Map,t?.crit,this.#r,l),void 0!==l.zip)throw new eg('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:c,enc:u}=l;if("string"!=typeof c||!c)throw new eb('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof u||!u)throw new eb('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#a&&("dir"===c||"ECDH-ES"===c))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${c}`);tc("dir"===c?u:c,e,"encrypt");{let n,s=await e5(e,c);({cek:i,encryptedKey:r,parameters:n}=await tn(c,u,s,this.#a,this.#l)),n&&(t&&ed in t?this.#n?this.#n={...this.#n,...n}:this.setUnprotectedHeader(n):this.#r?this.#r={...this.#r,...n}:this.setProtectedHeader(n))}if(this.#r?a=el(s=eu(JSON.stringify(this.#r))):(s="",a=new Uint8Array),this.#s){let e=el(o=eu(this.#s));n=en(a,el("."),e)}else n=a;let{ciphertext:d,tag:h,iv:f}=await ej(u,this.#t,i,this.#o,n),p={ciphertext:eu(d)};return f&&(p.iv=eu(f)),h&&(p.tag=eu(h)),r&&(p.encrypted_key=eu(r)),o&&(p.aad=o),this.#r&&(p.protected=s),this.#i&&(p.unprotected=this.#i),this.#n&&(p.header=this.#n),p}}class td{#c;constructor(e){this.#c=new tu(e)}setContentEncryptionKey(e){return this.#c.setContentEncryptionKey(e),this}setInitializationVector(e){return this.#c.setInitializationVector(e),this}setProtectedHeader(e){return this.#c.setProtectedHeader(e),this}setKeyManagementParameters(e){return this.#c.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this.#c.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let th=e=>Math.floor(e.getTime()/1e3),tf=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function tp(e){let t,r=tf.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let i=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(i);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*i);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*i);break;case"day":case"days":case"d":t=Math.round(86400*i);break;case"week":case"weeks":case"w":t=Math.round(604800*i);break;default:t=Math.round(0x1e187e0*i)}return"-"===r[1]||"ago"===r[4]?-t:t}function tm(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}let tg=e=>e.includes("/")?e.toLowerCase():`application/${e.toLowerCase()}`;class ty{#u;constructor(e){if(!eY(e))throw TypeError("JWT Claims Set MUST be an object");this.#u=structuredClone(e)}data(){return er.encode(JSON.stringify(this.#u))}get iss(){return this.#u.iss}set iss(e){this.#u.iss=e}get sub(){return this.#u.sub}set sub(e){this.#u.sub=e}get aud(){return this.#u.aud}set aud(e){this.#u.aud=e}set jti(e){this.#u.jti=e}set nbf(e){"number"==typeof e?this.#u.nbf=tm("setNotBefore",e):e instanceof Date?this.#u.nbf=tm("setNotBefore",th(e)):this.#u.nbf=th(new Date)+tp(e)}set exp(e){"number"==typeof e?this.#u.exp=tm("setExpirationTime",e):e instanceof Date?this.#u.exp=tm("setExpirationTime",th(e)):this.#u.exp=th(new Date)+tp(e)}set iat(e){void 0===e?this.#u.iat=th(new Date):e instanceof Date?this.#u.iat=tm("setIssuedAt",th(e)):"string"==typeof e?this.#u.iat=tm("setIssuedAt",th(new Date)+tp(e)):this.#u.iat=tm("setIssuedAt",e)}}class tb{#a;#o;#l;#r;#d;#h;#f;#p;constructor(e={}){this.#p=new ty(e)}setIssuer(e){return this.#p.iss=e,this}setSubject(e){return this.#p.sub=e,this}setAudience(e){return this.#p.aud=e,this}setJti(e){return this.#p.jti=e,this}setNotBefore(e){return this.#p.nbf=e,this}setExpirationTime(e){return this.#p.exp=e,this}setIssuedAt(e){return this.#p.iat=e,this}setProtectedHeader(e){if(this.#r)throw TypeError("setProtectedHeader can only be called once");return this.#r=e,this}setKeyManagementParameters(e){if(this.#l)throw TypeError("setKeyManagementParameters can only be called once");return this.#l=e,this}setContentEncryptionKey(e){if(this.#a)throw TypeError("setContentEncryptionKey can only be called once");return this.#a=e,this}setInitializationVector(e){if(this.#o)throw TypeError("setInitializationVector can only be called once");return this.#o=e,this}replicateIssuerAsHeader(){return this.#d=!0,this}replicateSubjectAsHeader(){return this.#h=!0,this}replicateAudienceAsHeader(){return this.#f=!0,this}async encrypt(e,t){let r=new td(this.#p.data());return this.#r&&(this.#d||this.#h||this.#f)&&(this.#r={...this.#r,iss:this.#d?this.#p.iss:void 0,sub:this.#h?this.#p.sub:void 0,aud:this.#f?this.#p.aud:void 0}),r.setProtectedHeader(this.#r),this.#o&&r.setInitializationVector(this.#o),this.#a&&r.setContentEncryptionKey(this.#a),this.#l&&r.setKeyManagementParameters(this.#l),r.encrypt(e,t)}}var tw=e.i(63370),tw=tw;let tv=(e,t)=>{if("string"!=typeof e||!e)throw new ev(`${t} missing or invalid`)};async function t_(e,t){let r,i;if(e0(e))r=e;else if(eq(e))r=await e9(e);else throw TypeError(eP(e,"CryptoKey","KeyObject","JSON Web Key"));if("sha256"!==(t??="sha256")&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(r.kty){case"AKP":tv(r.alg,'"alg" (Algorithm) Parameter'),tv(r.pub,'"pub" (Public key) Parameter'),i={alg:r.alg,kty:r.kty,pub:r.pub};break;case"EC":tv(r.crv,'"crv" (Curve) Parameter'),tv(r.x,'"x" (X Coordinate) Parameter'),tv(r.y,'"y" (Y Coordinate) Parameter'),i={crv:r.crv,kty:r.kty,x:r.x,y:r.y};break;case"OKP":tv(r.crv,'"crv" (Subtype of Key Pair) Parameter'),tv(r.x,'"x" (Public Key) Parameter'),i={crv:r.crv,kty:r.kty,x:r.x};break;case"RSA":tv(r.e,'"e" (Exponent) Parameter'),tv(r.n,'"n" (Modulus) Parameter'),i={e:r.e,kty:r.kty,n:r.n};break;case"oct":tv(r.k,'"k" (Key Value) Parameter'),i={k:r.k,kty:r.kty};break;default:throw new eg('"kty" (Key Type) Parameter missing or unsupported')}let n=el(JSON.stringify(i));return eu(await eB(t,n))}async function tx(e,t,r){let i;if(!eY(e))throw TypeError("JWK must be an object");switch(t??=e.alg,i??=r?.extractable??e.ext,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return ec(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new eg('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return e1({...e,alg:t,ext:i});case"AKP":if("string"!=typeof e.alg||!e.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==t&&t!==e.alg)throw TypeError("JWK alg and alg option value mismatch");return e1({...e,ext:i});case"EC":case"OKP":return e1({...e,alg:t,ext:i});default:throw new eg('Unsupported "kty" (Key Type) Parameter value')}}async function tS(e,t,r,i,n){switch(e){case"dir":if(void 0!==r)throw new eb("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new eb("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let n,s;if(!eY(i.epk))throw new eb('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(eN(t),!eF(t))throw new eg("ECDH with the provided key is not allowed or not supported by your javascript runtime");let a=await tx(i.epk,e);if(eN(a),void 0!==i.apu){if("string"!=typeof i.apu)throw new eb('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{n=ec(i.apu)}catch{throw new eb("Failed to base64url decode the apu")}}if(void 0!==i.apv){if("string"!=typeof i.apv)throw new eb('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{s=ec(i.apv)}catch{throw new eb("Failed to base64url decode the apv")}}let o=await eQ(a,t,"ECDH-ES"===e?i.enc:e,"ECDH-ES"===e?e4(i.enc):parseInt(e.slice(-5,-2),10),n,s);if("ECDH-ES"===e)return o;if(void 0===r)throw new eb("JWE Encrypted Key missing");return eU(e.slice(-6),o,r)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new eb("JWE Encrypted Key missing");return eN(t),eX(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let s;if(void 0===r)throw new eb("JWE Encrypted Key missing");if("number"!=typeof i.p2c)throw new eb('JOSE Header "p2c" (PBES2 Count) missing or invalid');let a=n?.maxPBES2Count||1e4;if(i.p2c>a)throw new eb('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof i.p2s)throw new eb('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{s=ec(i.p2s)}catch{throw new eb("Failed to base64url decode the p2s")}return ez(e,t,r,i.p2c,s)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new eb("JWE Encrypted Key missing");return eU(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let n,s;if(void 0===r)throw new eb("JWE Encrypted Key missing");if("string"!=typeof i.iv)throw new eb('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof i.tag)throw new eb('JOSE Header "tag" (Authentication Tag) missing or invalid');try{n=ec(i.iv)}catch{throw new eb("Failed to base64url decode the iv")}try{s=ec(i.tag)}catch{throw new eb("Failed to base64url decode the tag")}return ti(e,t,r,n,s)}default:throw new eg('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function tT(e,t){if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}async function tE(e,t,r){let i,n,s,a,o,l,c;if(!eY(e))throw new eb("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new eb("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new eb("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new eb("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new eb("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new eb("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new eb("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new eb("JWE AAD incorrect type");if(void 0!==e.header&&!eY(e.header))throw new eb("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!eY(e.unprotected))throw new eb("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=ec(e.protected);i=JSON.parse(ei.decode(t))}catch{throw new eb("JWE Protected Header is invalid")}if(!ts(i,e.header,e.unprotected))throw new eb("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let u={...i,...e.header,...e.unprotected};if(ta(eb,new Map,r?.crit,i,u),void 0!==u.zip)throw new eg('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:d,enc:h}=u;if("string"!=typeof d||!d)throw new eb("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof h||!h)throw new eb("missing JWE Encryption Algorithm (enc) in JWE Header");let f=r&&tT("keyManagementAlgorithms",r.keyManagementAlgorithms),p=r&&tT("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(f&&!f.has(d)||!f&&d.startsWith("PBES2"))throw new em('"alg" (Algorithm) Header Parameter value not allowed');if(p&&!p.has(h))throw new em('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{n=ec(e.encrypted_key)}catch{throw new eb("Failed to base64url decode the encrypted_key")}let m=!1;"function"==typeof t&&(t=await t(i,e),m=!0),tc("dir"===d?h:d,t,"decrypt");let g=await e5(t,d);try{s=await tS(d,g,n,u,r)}catch(e){if(e instanceof TypeError||e instanceof eb||e instanceof eg)throw e;s=e6(h)}if(void 0!==e.iv)try{a=ec(e.iv)}catch{throw new eb("Failed to base64url decode the iv")}if(void 0!==e.tag)try{o=ec(e.tag)}catch{throw new eb("Failed to base64url decode the tag")}let y=void 0!==e.protected?el(e.protected):new Uint8Array;l=void 0!==e.aad?en(y,el("."),el(e.aad)):y;try{c=ec(e.ciphertext)}catch{throw new eb("Failed to base64url decode the ciphertext")}let b={plaintext:await tt(h,s,c,a,o,l)};if(void 0!==e.protected&&(b.protectedHeader=i),void 0!==e.aad)try{b.additionalAuthenticatedData=ec(e.aad)}catch{throw new eb("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(b.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(b.unprotectedHeader=e.header),m)?{...b,key:g}:b}async function tA(e,t,r){if(e instanceof Uint8Array&&(e=ei.decode(e)),"string"!=typeof e)throw new eb("Compact JWE must be a string or Uint8Array");let{0:i,1:n,2:s,3:a,4:o,length:l}=e.split(".");if(5!==l)throw new eb("Invalid Compact JWE");let c=await tE({ciphertext:a,iv:s||void 0,protected:i,tag:o||void 0,encrypted_key:n||void 0},t,r),u={plaintext:c.plaintext,protectedHeader:c.protectedHeader};return"function"==typeof t?{...u,key:c.key}:u}async function tC(e,t,r){let i=await tA(e,t,r),n=function(e,t,r={}){var i,n;let s,a;try{s=JSON.parse(ei.decode(t))}catch{}if(!eY(s))throw new ew("JWT Claims Set must be a top-level JSON object");let{typ:o}=r;if(o&&("string"!=typeof e.typ||tg(e.typ)!==tg(o)))throw new ef('unexpected "typ" JWT header value',s,"typ","check_failed");let{requiredClaims:l=[],issuer:c,subject:u,audience:d,maxTokenAge:h}=r,f=[...l];for(let e of(void 0!==h&&f.push("iat"),void 0!==d&&f.push("aud"),void 0!==u&&f.push("sub"),void 0!==c&&f.push("iss"),new Set(f.reverse())))if(!(e in s))throw new ef(`missing required "${e}" claim`,s,e,"missing");if(c&&!(Array.isArray(c)?c:[c]).includes(s.iss))throw new ef('unexpected "iss" claim value',s,"iss","check_failed");if(u&&s.sub!==u)throw new ef('unexpected "sub" claim value',s,"sub","check_failed");if(d&&(i=s.aud,n="string"==typeof d?[d]:d,"string"==typeof i?!n.includes(i):!(Array.isArray(i)&&n.some(Set.prototype.has.bind(new Set(i))))))throw new ef('unexpected "aud" claim value',s,"aud","check_failed");switch(typeof r.clockTolerance){case"string":a=tp(r.clockTolerance);break;case"number":a=r.clockTolerance;break;case"undefined":a=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:p}=r,m=th(p||new Date);if((void 0!==s.iat||h)&&"number"!=typeof s.iat)throw new ef('"iat" claim must be a number',s,"iat","invalid");if(void 0!==s.nbf){if("number"!=typeof s.nbf)throw new ef('"nbf" claim must be a number',s,"nbf","invalid");if(s.nbf>m+a)throw new ef('"nbf" claim timestamp check failed',s,"nbf","check_failed")}if(void 0!==s.exp){if("number"!=typeof s.exp)throw new ef('"exp" claim must be a number',s,"exp","invalid");if(s.exp<=m-a)throw new ep('"exp" claim timestamp check failed',s,"exp","check_failed")}if(h){let e=m-s.iat;if(e-a>("number"==typeof h?h:tp(h)))throw new ep('"iat" claim timestamp check failed (too far in the past)',s,"iat","check_failed");if(e<0-a)throw new ef('"iat" claim timestamp check failed (it should be in the past)',s,"iat","check_failed")}return s}(i.protectedHeader,i.plaintext,r),{protectedHeader:s}=i;if(void 0!==s.iss&&s.iss!==n.iss)throw new ef('replicated "iss" claim header parameter mismatch',n,"iss","mismatch");if(void 0!==s.sub&&s.sub!==n.sub)throw new ef('replicated "sub" claim header parameter mismatch',n,"sub","mismatch");if(void 0!==s.aud&&JSON.stringify(s.aud)!==JSON.stringify(n.aud))throw new ef('replicated "aud" claim header parameter mismatch',n,"aud","mismatch");let a={payload:n,protectedHeader:s};return"function"==typeof t?{...a,key:i.key}:a}let tP=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,tk=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,tN=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,tR=/^[\u0020-\u003A\u003D-\u007E]*$/,tO=Object.prototype.toString,tq=((a=function(){}).prototype=Object.create(null),a);function tI(e,t){let r=new tq,i=e.length;if(i<2)return r;let n=t?.decode||tD,s=0;do{let t=e.indexOf("=",s);if(-1===t)break;let a=e.indexOf(";",s),o=-1===a?i:a;if(t>o){s=e.lastIndexOf(";",t-1)+1;continue}let l=t$(e,s,t),c=tj(e,t,l),u=e.slice(l,c);if(void 0===r[u]){let i=t$(e,t+1,o),s=tj(e,o,i),a=n(e.slice(i,s));r[u]=a}s=o+1}while(s<i)return r}function t$(e,t,r){do{let r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r)return r}function tj(e,t,r){for(;t>r;){let r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function tL(e,t,r){let i=r?.encode||encodeURIComponent;if(!tP.test(e))throw TypeError(`argument name is invalid: ${e}`);let n=i(t);if(!tk.test(n))throw TypeError(`argument val is invalid: ${t}`);let s=e+"="+n;if(!r)return s;if(void 0!==r.maxAge){if(!Number.isInteger(r.maxAge))throw TypeError(`option maxAge is invalid: ${r.maxAge}`);s+="; Max-Age="+r.maxAge}if(r.domain){if(!tN.test(r.domain))throw TypeError(`option domain is invalid: ${r.domain}`);s+="; Domain="+r.domain}if(r.path){if(!tR.test(r.path))throw TypeError(`option path is invalid: ${r.path}`);s+="; Path="+r.path}if(r.expires){var a;if(a=r.expires,"[object Date]"!==tO.call(a)||!Number.isFinite(r.expires.valueOf()))throw TypeError(`option expires is invalid: ${r.expires}`);s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.priority)switch("string"==typeof r.priority?r.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${r.sameSite}`)}return s}function tD(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}e.s(["parse",()=>tI,"serialize",()=>tL],45571);var tM=e.i(45571);let{parse:tU}=tM,tB="A256CBC-HS512";async function tK(e){let{token:t={},secret:r,maxAge:i=2592e3,salt:n}=e,s=Array.isArray(r)?r:[r],a=await tQ(tB,s[0],n),o=await t_({kty:"oct",k:tw.encode(a)},`sha${a.byteLength<<3}`);return await new tb(t).setProtectedHeader({alg:"dir",enc:tB,kid:o}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+i).setJti(crypto.randomUUID()).encrypt(a)}async function tH(e){let{token:t,secret:r,salt:i}=e,n=Array.isArray(r)?r:[r];if(!t)return null;let{payload:s}=await tC(t,async({kid:e,enc:t})=>{for(let r of n){let n=await tQ(t,r,i);if(void 0===e||e===await t_({kty:"oct",k:tw.encode(n)},`sha${n.byteLength<<3}`))return n}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[tB,"A256GCM"]});return s}async function tQ(e,t,r){let i;switch(e){case"A256CBC-HS512":i=64;break;case"A256GCM":i=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await et("sha256",t,r,`Auth.js Generated Encryption Key (${r})`,i)}async function tF({options:e,paramValue:t,cookieValue:r}){let{url:i,callbacks:n}=e,s=i.origin;return t?s=await n.redirect({url:t,baseUrl:i.origin}):r&&(s=await n.redirect({url:r,baseUrl:i.origin})),{callbackUrl:s,callbackUrlCookie:s!==r?s:void 0}}let tV="\x1b[31m",tW="\x1b[0m",tz={error(e){let t=e instanceof d?e.type:e.name;if(console.error(`${tV}[auth][error]${tW} ${t}: ${e.message}`),e.cause&&"object"==typeof e.cause&&"err"in e.cause&&e.cause.err instanceof Error){let{err:t,...r}=e.cause;console.error(`${tV}[auth][cause]${tW}:`,t.stack),r&&console.error(`${tV}[auth][details]${tW}:`,JSON.stringify(r,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){console.warn(`\x1b[33m[auth][warn][${e}]${tW}`,"Read more: https://warnings.authjs.dev")},debug(e,t){console.log(`\x1b[90m[auth][debug]:${tW} ${e}`,JSON.stringify(t,null,2))}};function tJ(e){let t={...tz};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}let tZ=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"],{parse:tG,serialize:tX}=tM;async function tY(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return t?.includes("application/json")?await e.json():t?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}async function t0(e,t){try{if("GET"!==e.method&&"POST"!==e.method)throw new O("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let r=new URL(e.url),{action:i,providerId:n}=function(e,t){let r=e.match(RegExp(`^${t}(.+)`));if(null===r)throw new O(`Cannot parse action at ${e}`);let i=r.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==i.length&&2!==i.length)throw new O(`Cannot parse action at ${e}`);let[n,s]=i;if(!tZ.includes(n)||s&&!["signin","callback","webauthn-options"].includes(n))throw new O(`Cannot parse action at ${e}`);return{action:n,providerId:"undefined"==s?void 0:s}}(r.pathname,t.basePath);return{url:r,action:i,providerId:n,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await tY(e):void 0,cookies:tG(e.headers.get("cookie")??"")??{},error:r.searchParams.get("error")??void 0,query:Object.fromEntries(r.searchParams)}}catch(i){let r=tJ(t);r.error(i),r.debug("request",e)}}function t1(e){let t=new Headers(e.headers);e.cookies?.forEach(e=>{let{name:r,value:i,options:n}=e,s=tX(r,i,n);t.has("Set-Cookie")?t.append("Set-Cookie",s):t.set("Set-Cookie",s)});let r=e.body;"application/json"===t.get("content-type")?r=JSON.stringify(e.body):"application/x-www-form-urlencoded"===t.get("content-type")&&(r=new URLSearchParams(e.body).toString());let i=new Response(r,{headers:t,status:e.redirect?302:e.status??200});return e.redirect&&i.headers.set("Location",e.redirect),i}async function t2(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("").toString()}function t5(e){return Array.from(crypto.getRandomValues(new Uint8Array(e))).reduce((e,t)=>e+("0"+t.toString(16)).slice(-2),"")}async function t4({options:e,cookieValue:t,isPost:r,bodyValue:i}){if(t){let[n,s]=t.split("|");if(s===await t2(`${n}${e.secret}`))return{csrfTokenVerified:r&&n===i,csrfToken:n}}let n=t5(32),s=await t2(`${n}${e.secret}`);return{cookie:`${n}|${s}`,csrfToken:n}}function t6(e,t){if(!t)throw new L(`CSRF token was missing during an action ${e}`)}function t3(e){return null!==e&&"object"==typeof e}function t9(e,...t){if(!t.length)return e;let r=t.shift();if(t3(e)&&t3(r))for(let t in r)t3(r[t])?(t3(e[t])||(e[t]=Array.isArray(r[t])?[]:{}),t9(e[t],r[t])):void 0!==r[t]&&(e[t]=r[t]);return t9(e,...t)}let t8=Symbol("skip-csrf-check"),t7=Symbol("return-type-raw"),re=Symbol("custom-fetch"),rt=Symbol("conform-internal"),rr=e=>rn({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),ri=e=>rn({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function rn(e){let t={};for(let[r,i]of Object.entries(e))void 0!==i&&(t[r]=i);return t}function rs(e,t){if(!e&&t)return;if("string"==typeof e)return{url:new URL(e)};let r=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[t,i]of Object.entries(e.params))"claims"===t&&(i=JSON.stringify(i)),r.searchParams.set(t,String(i));return{url:r,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}let ra={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>({user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}),jwt:({token:e})=>e};async function ro({authOptions:e,providerId:t,action:r,url:i,cookies:n,callbackUrl:s,csrfToken:a,csrfDisabled:o,isPost:l}){var u,d;let h=tJ(e),{providers:p,provider:m}=function(e){let{providerId:t,config:r}=e,i=new URL(r.basePath??"/auth",e.url.origin),n=r.providers.map(e=>{let t="function"==typeof e?e():e,{options:n,...s}=t,a=n?.id??s.id,o=t9(s,n,{signinUrl:`${i}/signin/${a}`,callbackUrl:`${i}/callback/${a}`});if("oauth"===t.type||"oidc"===t.type){var l;let e,t,i,s;o.redirectProxyUrl??(o.redirectProxyUrl=n?.redirectProxyUrl??r.redirectProxyUrl);let a=((l=o).issuer&&(l.wellKnown??(l.wellKnown=`${l.issuer}/.well-known/openid-configuration`)),(e=rs(l.authorization,l.issuer))&&!e.url?.searchParams.has("scope")&&e.url.searchParams.set("scope","openid profile email"),t=rs(l.token,l.issuer),i=rs(l.userinfo,l.issuer),s=l.checks??["pkce"],l.redirectProxyUrl&&(s.includes("state")||s.push("state"),l.redirectProxyUrl=`${l.redirectProxyUrl}/callback/${l.id}`),{...l,authorization:e,token:t,checks:s,userinfo:i,profile:l.profile??rr,account:l.account??ri});return a.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete a.redirectProxyUrl,a[re]??(a[re]=n?.[re]),a}return o}),s=n.find(({id:e})=>e===t);if(t&&!s){let e=n.map(e=>e.id).join(", ");throw Error(`Provider with id "${t}" not found. Available providers: [${e}].`)}return{providers:n,provider:s}}({url:i,providerId:t,config:e}),g=!1;if((m?.type==="oauth"||m?.type==="oidc")&&m.redirectProxyUrl)try{g=new URL(m.redirectProxyUrl).origin===i.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${m.redirectProxyUrl}`)}let b={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:i,action:r,provider:m,cookies:t9(c(e.useSecureCookies??"https:"===i.protocol),e.cookies),providers:p,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??2592e3,encode:tK,decode:tH,...e.jwt},events:(u=e.events??{},d=h,Object.keys(u).reduce((e,t)=>(e[t]=async(...e)=>{try{let r=u[t];return await r(...e)}catch(e){d.error(new y(e))}},e),{})),adapter:function(e,t){if(e)return Object.keys(e).reduce((r,i)=>(r[i]=async(...r)=>{try{t.debug(`adapter_${i}`,{args:r});let n=e[i];return await n(...r)}catch(r){let e=new f(r);throw t.error(e),e}},r),{})}(e.adapter,h),callbacks:{...ra,...e.callbacks},logger:h,callbackUrl:i.origin,isOnRedirectProxy:g,experimental:{...e.experimental}},w=[];if(o)b.csrfTokenVerified=!0;else{let{csrfToken:e,cookie:t,csrfTokenVerified:r}=await t4({options:b,cookieValue:n?.[b.cookies.csrfToken.name],isPost:l,bodyValue:a});b.csrfToken=e,b.csrfTokenVerified=r,t&&w.push({name:b.cookies.csrfToken.name,value:t,options:b.cookies.csrfToken.options})}let{callbackUrl:v,callbackUrlCookie:_}=await tF({options:b,cookieValue:n?.[b.cookies.callbackUrl.name],paramValue:s});return b.callbackUrl=v,_&&w.push({name:b.cookies.callbackUrl.name,value:_,options:b.cookies.callbackUrl.options}),{options:b,cookies:w}}var rl,rc,ru,rd,rh,rf,rp,rm,rg,ry,rb,rw,rv,r_,rx,rS,rT={},rE=[],rA=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,rC=Array.isArray;function rP(e,t){for(var r in t)e[r]=t[r];return e}function rk(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function rN(e,t,r,i,n){var s={type:e,props:t,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==n?++rg:n,__i:-1,__u:0};return null==n&&null!=rm.vnode&&rm.vnode(s),s}function rR(e){return e.children}function rO(e,t){this.props=e,this.context=t}function rq(e,t){if(null==t)return e.__?rq(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?rq(e):null}function rI(e){(!e.__d&&(e.__d=!0)&&ry.push(e)&&!r$.__r++||rb!==rm.debounceRendering)&&((rb=rm.debounceRendering)||rw)(r$)}function r$(){var e,t,r,i,n,s,a,o;for(ry.sort(rv);e=ry.shift();)e.__d&&(t=ry.length,i=void 0,s=(n=(r=e).__v).__e,a=[],o=[],r.__P&&((i=rP({},n)).__v=n.__v+1,rm.vnode&&rm.vnode(i),rU(r.__P,i,n,r.__n,r.__P.namespaceURI,32&n.__u?[s]:null,a,null==s?rq(n):s,!!(32&n.__u),o),i.__v=n.__v,i.__.__k[i.__i]=i,function(e,t,r){t.__d=void 0;for(var i=0;i<r.length;i++)rB(r[i],r[++i],r[++i]);rm.__c&&rm.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){rm.__e(e,t.__v)}})}(a,i,o),i.__e!=s&&function e(t){var r,i;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(i=t.__k[r])&&null!=i.__e){t.__e=t.__c.base=i.__e;break}return e(t)}}(i)),ry.length>t&&ry.sort(rv));r$.__r=0}function rj(e,t,r,i,n,s,a,o,l,c,u){var d,h,f,p,m,g=i&&i.__k||rE,y=t.length;for(r.__d=l,function(e,t,r){var i,n,s,a,o,l=t.length,c=r.length,u=c,d=0;for(e.__k=[],i=0;i<l;i++)null!=(n=t[i])&&"boolean"!=typeof n&&"function"!=typeof n?(a=i+d,(n=e.__k[i]="string"==typeof n||"number"==typeof n||"bigint"==typeof n||n.constructor==String?rN(null,n,null,null,null):rC(n)?rN(rR,{children:n},null,null,null):void 0===n.constructor&&n.__b>0?rN(n.type,n.props,n.key,n.ref?n.ref:null,n.__v):n).__=e,n.__b=e.__b+1,s=null,-1!==(o=n.__i=function(e,t,r,i){var n=e.key,s=e.type,a=r-1,o=r+1,l=t[r];if(null===l||l&&n==l.key&&s===l.type&&0==(131072&l.__u))return r;if(i>+(null!=l&&0==(131072&l.__u)))for(;a>=0||o<t.length;){if(a>=0){if((l=t[a])&&0==(131072&l.__u)&&n==l.key&&s===l.type)return a;a--}if(o<t.length){if((l=t[o])&&0==(131072&l.__u)&&n==l.key&&s===l.type)return o;o++}}return -1}(n,r,a,u))&&(u--,(s=r[o])&&(s.__u|=131072)),null==s||null===s.__v?(-1==o&&d--,"function"!=typeof n.type&&(n.__u|=65536)):o!==a&&(o==a-1?d--:o==a+1?d++:(o>a?d--:d++,n.__u|=65536))):n=e.__k[i]=null;if(u)for(i=0;i<c;i++)null!=(s=r[i])&&0==(131072&s.__u)&&(s.__e==e.__d&&(e.__d=rq(s)),function e(t,r,i){var n,s;if(rm.unmount&&rm.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||rB(n,null,r)),null!=(n=t.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){rm.__e(e,r)}n.base=n.__P=null}if(n=t.__k)for(s=0;s<n.length;s++)n[s]&&e(n[s],r,i||"function"!=typeof t.type);i||rk(t.__e),t.__c=t.__=t.__e=t.__d=void 0}(s,s))}(r,t,g),l=r.__d,d=0;d<y;d++)null!=(f=r.__k[d])&&(h=-1===f.__i?rT:g[f.__i]||rT,f.__i=d,rU(e,f,h,n,s,a,o,l,c,u),p=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&rB(h.ref,null,f),u.push(f.ref,f.__c||p,f)),null==m&&null!=p&&(m=p),65536&f.__u||h.__k===f.__k?l=function e(t,r,i){var n,s;if("function"==typeof t.type){for(n=t.__k,s=0;n&&s<n.length;s++)n[s]&&(n[s].__=t,r=e(n[s],r,i));return r}t.__e!=r&&(r&&t.type&&!i.contains(r)&&(r=rq(t)),i.insertBefore(t.__e,r||null),r=t.__e);do r=r&&r.nextSibling;while(null!=r&&8===r.nodeType)return r}(f,l,e):"function"==typeof f.type&&void 0!==f.__d?l=f.__d:p&&(l=p.nextSibling),f.__d=void 0,f.__u&=-196609);r.__d=l,r.__e=m}function rL(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||rA.test(t)?r:r+"px"}function rD(e,t,r,i,n){var s;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)r&&t in r||rL(e.style,t,"");if(r)for(t in r)i&&r[t]===i[t]||rL(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?i?r.u=i.u:(r.u=r_,e.addEventListener(t,s?rS:rx,s)):e.removeEventListener(t,s?rS:rx,s);else{if("http://www.w3.org/2000/svg"==n)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function rM(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.t)t.t=r_++;else if(t.t<r.u)return;return r(rm.event?rm.event(t):t)}}}function rU(e,t,r,i,n,s,a,o,l,c){var u,d,h,f,p,m,g,y,b,w,v,_,x,S,T,E,A=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(l=!!(32&r.__u),s=[o=t.__e=r.__e]),(u=rm.__b)&&u(t);e:if("function"==typeof A)try{if(y=t.props,b="prototype"in A&&A.prototype.render,w=(u=A.contextType)&&i[u.__c],v=u?w?w.props.value:u.__:i,r.__c?g=(d=t.__c=r.__c).__=d.__E:(b?t.__c=d=new A(y,v):(t.__c=d=new rO(y,v),d.constructor=A,d.render=rK),w&&w.sub(d),d.props=y,d.state||(d.state={}),d.context=v,d.__n=i,h=d.__d=!0,d.__h=[],d._sb=[]),b&&null==d.__s&&(d.__s=d.state),b&&null!=A.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=rP({},d.__s)),rP(d.__s,A.getDerivedStateFromProps(y,d.__s))),f=d.props,p=d.state,d.__v=t,h)b&&null==A.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),b&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(b&&null==A.getDerivedStateFromProps&&y!==f&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(y,v),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(y,d.__s,v)||t.__v===r.__v)){for(t.__v!==r.__v&&(d.props=y,d.state=d.__s,d.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(e){e&&(e.__=t)}),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[],d.__h.length&&a.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(y,d.__s,v),b&&null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(f,p,m)})}if(d.context=v,d.props=y,d.__P=e,d.__e=!1,x=rm.__r,S=0,b){for(d.state=d.__s,d.__d=!1,x&&x(t),u=d.render(d.props,d.state,d.context),T=0;T<d._sb.length;T++)d.__h.push(d._sb[T]);d._sb=[]}else do d.__d=!1,x&&x(t),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++S<25)d.state=d.__s,null!=d.getChildContext&&(i=rP(rP({},i),d.getChildContext())),b&&!h&&null!=d.getSnapshotBeforeUpdate&&(m=d.getSnapshotBeforeUpdate(f,p)),rj(e,rC(E=null!=u&&u.type===rR&&null==u.key?u.props.children:u)?E:[E],t,r,i,n,s,a,o,l,c),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),g&&(d.__E=d.__=null)}catch(e){if(t.__v=null,l||null!=s){for(t.__u|=l?160:128;o&&8===o.nodeType&&o.nextSibling;)o=o.nextSibling;s[s.indexOf(o)]=null,t.__e=o}else t.__e=r.__e,t.__k=r.__k;rm.__e(e,t,r)}else null==s&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,i,n,s,a,o,l){var c,u,d,h,f,p,m,g=r.props,y=t.props,b=t.type;if("svg"===b?n="http://www.w3.org/2000/svg":"math"===b?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),null!=s){for(c=0;c<s.length;c++)if((f=s[c])&&"setAttribute"in f==!!b&&(b?f.localName===b:3===f.nodeType)){e=f,s[c]=null;break}}if(null==e){if(null===b)return document.createTextNode(y);e=document.createElementNS(n,b,y.is&&y),o&&(rm.__m&&rm.__m(t,s),o=!1),s=null}if(null===b)g===y||o&&e.data===y||(e.data=y);else{if(s=s&&rp.call(e.childNodes),g=r.props||rT,!o&&null!=s)for(g={},c=0;c<e.attributes.length;c++)g[(f=e.attributes[c]).name]=f.value;for(c in g)if(f=g[c],"children"==c);else if("dangerouslySetInnerHTML"==c)d=f;else if(!(c in y)){if("value"==c&&"defaultValue"in y||"checked"==c&&"defaultChecked"in y)continue;rD(e,c,null,f,n)}for(c in y)f=y[c],"children"==c?h=f:"dangerouslySetInnerHTML"==c?u=f:"value"==c?p=f:"checked"==c?m=f:o&&"function"!=typeof f||g[c]===f||rD(e,c,f,g[c],n);if(u)o||d&&(u.__html===d.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(d&&(e.innerHTML=""),rj(e,rC(h)?h:[h],t,r,i,"foreignObject"===b?"http://www.w3.org/1999/xhtml":n,s,a,s?s[0]:r.__k&&rq(r,0),o,l),null!=s)for(c=s.length;c--;)rk(s[c]);o||(c="value","progress"===b&&null==p?e.removeAttribute("value"):void 0===p||p===e[c]&&("progress"!==b||p)&&("option"!==b||p===g[c])||rD(e,c,p,g[c],n),c="checked",void 0!==m&&m!==e[c]&&rD(e,c,m,g[c],n))}return e}(r.__e,t,r,i,n,s,a,l,c);(u=rm.diffed)&&u(t)}function rB(e,t,r){try{if("function"==typeof e){var i="function"==typeof e.__u;i&&e.__u(),i&&null==t||(e.__u=e(t))}else e.current=t}catch(e){rm.__e(e,r)}}function rK(e,t,r){return this.constructor(e,r)}rp=rE.slice,rm={__e:function(e,t,r,i){for(var n,s,a;t=t.__;)if((n=t.__c)&&!n.__)try{if((s=n.constructor)&&null!=s.getDerivedStateFromError&&(n.setState(s.getDerivedStateFromError(e)),a=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e,i||{}),a=n.__d),a)return n.__E=n}catch(t){e=t}throw e}},rg=0,rO.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=rP({},this.state),"function"==typeof e&&(e=e(rP({},r),this.props)),e&&rP(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),rI(this))},rO.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rI(this))},rO.prototype.render=rR,ry=[],rw="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,rv=function(e,t){return e.__v.__b-t.__v.__b},r$.__r=0,r_=0,rx=rM(!1),rS=rM(!0);var rH=/[\s\n\\/='"\0<>]/,rQ=/^(xlink|xmlns|xml)([A-Z])/,rF=/^accessK|^auto[A-Z]|^cell|^ch|^col|cont|cross|dateT|encT|form[A-Z]|frame|hrefL|inputM|maxL|minL|noV|playsI|popoverT|readO|rowS|src[A-Z]|tabI|useM|item[A-Z]/,rV=/^ac|^ali|arabic|basel|cap|clipPath$|clipRule$|color|dominant|enable|fill|flood|font|glyph[^R]|horiz|image|letter|lighting|marker[^WUH]|overline|panose|pointe|paint|rendering|shape|stop|strikethrough|stroke|text[^L]|transform|underline|unicode|units|^v[^i]|^w|^xH/,rW=new Set(["draggable","spellcheck"]),rz=/["&<]/;function rJ(e){if(0===e.length||!1===rz.test(e))return e;for(var t=0,r=0,i="",n="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;default:continue}r!==t&&(i+=e.slice(t,r)),i+=n,t=r+1}return r!==t&&(i+=e.slice(t,r)),i}var rZ={},rG=new Set(["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","fill-opacity","flex","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flood-opacity","font-weight","grid-column","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"]),rX=/[A-Z]/g;function rY(){this.__d=!0}function r0(e,t,r){if(!e.s){if(r instanceof r6){if(!r.s)return void(r.o=r0.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(r0.bind(null,e,t),r0.bind(null,e,2));e.s=t,e.v=r;let i=e.o;i&&i(e)}}var r1,r2,r5,r4,r6=function(){function e(){}return e.prototype.then=function(t,r){var i=new e,n=this.s;if(n){var s=1&n?t:r;if(s){try{r0(i,1,s(this.v))}catch(e){r0(i,2,e)}return i}return this}return this.o=function(e){try{var n=e.v;1&e.s?r0(i,1,t?t(n):n):r?r0(i,1,r(n)):r0(i,2,n)}catch(e){r0(i,2,e)}},i},e}(),r3={},r9=[],r8=Array.isArray,r7=Object.assign;function ie(e,t){var r,i=e.type,n=!0;return e.__c?(n=!1,(r=e.__c).state=r.__s):r=new i(e.props,t),e.__c=r,r.__v=e,r.props=e.props,r.context=t,r.__d=!0,null==r.state&&(r.state=r3),null==r.__s&&(r.__s=r.state),i.getDerivedStateFromProps?r.state=r7({},r.state,i.getDerivedStateFromProps(r.props,r.state)):n&&r.componentWillMount?(r.componentWillMount(),r.state=r.__s!==r.state?r.__s:r.state):!n&&r.componentWillUpdate&&r.componentWillUpdate(),r5&&r5(e),r.render(r.props,r.state,t)}var it=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),ir=0;function ii(e,t,r,i,n,s){t||(t={});var a,o,l=t;"ref"in t&&(a=t.ref,delete t.ref);var c={type:e,props:l,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ir,__i:-1,__u:0,__source:n,__self:s};if("function"==typeof e&&(a=e.defaultProps))for(o in a)void 0===l[o]&&(l[o]=a[o]);return rm.vnode&&rm.vnode(c),c}async function is(e,t){let r=window.SimpleWebAuthnBrowser;async function i(r){let i=new URL(`${e}/webauthn-options/${t}`);r&&i.searchParams.append("action",r),s().forEach(e=>{i.searchParams.append(e.name,e.value)});let n=await fetch(i);return n.ok?n.json():void console.error("Failed to fetch options",n)}function n(){let e=`#${t}-form`,r=document.querySelector(e);if(!r)throw Error(`Form '${e}' not found`);return r}function s(){return Array.from(n().querySelectorAll("input[data-form-field]"))}async function a(e,t){let r=n();if(e){let t=document.createElement("input");t.type="hidden",t.name="action",t.value=e,r.appendChild(t)}if(t){let e=document.createElement("input");e.type="hidden",e.name="data",e.value=JSON.stringify(t),r.appendChild(e)}return r.submit()}async function o(e,t){let i=await r.startAuthentication(e,t);return await a("authenticate",i)}async function l(e){s().forEach(e=>{if(e.required&&!e.value)throw Error(`Missing required field: ${e.name}`)});let t=await r.startRegistration(e);return await a("register",t)}async function c(){if(!r.browserSupportsWebAuthnAutofill())return;let e=await i("authenticate");if(!e)return void console.error("Failed to fetch option for autofill authentication");try{await o(e.options,!0)}catch(e){console.error(e)}}(async function(){let e=n();if(!r.browserSupportsWebAuthn()){e.style.display="none";return}e&&e.addEventListener("submit",async e=>{e.preventDefault();let t=await i(void 0);if(!t)return void console.error("Failed to fetch options for form submission");if("authenticate"===t.action)try{await o(t.options,!1)}catch(e){console.error(e)}else if("register"===t.action)try{await l(t.options)}catch(e){console.error(e)}})})(),c()}let ia={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},io=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
  --provider-bg: #fff;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #fff
  );
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
  --provider-bg: #161b22;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #000
  );
}

.__next-auth-theme-dark img[src$="42-school.svg"],
  .__next-auth-theme-dark img[src$="apple.svg"],
  .__next-auth-theme-dark img[src$="boxyhq-saml.svg"],
  .__next-auth-theme-dark img[src$="eveonline.svg"],
  .__next-auth-theme-dark img[src$="github.svg"],
  .__next-auth-theme-dark img[src$="mailchimp.svg"],
  .__next-auth-theme-dark img[src$="medium.svg"],
  .__next-auth-theme-dark img[src$="okta.svg"],
  .__next-auth-theme-dark img[src$="patreon.svg"],
  .__next-auth-theme-dark img[src$="ping-id.svg"],
  .__next-auth-theme-dark img[src$="roblox.svg"],
  .__next-auth-theme-dark img[src$="threads.svg"],
  .__next-auth-theme-dark img[src$="wikimedia.svg"] {
    filter: invert(1);
  }

.__next-auth-theme-dark #submitButton {
    background-color: var(--provider-bg, var(--color-info));
  }

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
    --provider-bg: #161b22;
    --provider-bg-hover: color-mix(
      in srgb,
      var(--provider-brand-color) 30%,
      #000
    );
  }
    .__next-auth-theme-auto img[src$="42-school.svg"],
    .__next-auth-theme-auto img[src$="apple.svg"],
    .__next-auth-theme-auto img[src$="boxyhq-saml.svg"],
    .__next-auth-theme-auto img[src$="eveonline.svg"],
    .__next-auth-theme-auto img[src$="github.svg"],
    .__next-auth-theme-auto img[src$="mailchimp.svg"],
    .__next-auth-theme-auto img[src$="medium.svg"],
    .__next-auth-theme-auto img[src$="okta.svg"],
    .__next-auth-theme-auto img[src$="patreon.svg"],
    .__next-auth-theme-auto img[src$="ping-id.svg"],
    .__next-auth-theme-auto img[src$="roblox.svg"],
    .__next-auth-theme-auto img[src$="threads.svg"],
    .__next-auth-theme-auto img[src$="wikimedia.svg"] {
      filter: invert(1);
    }
    .__next-auth-theme-auto #submitButton {
      background-color: var(--provider-bg, var(--color-info));
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: var(--provider-bg);
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function il({html:e,title:t,status:r,cookies:i,theme:n,headTags:s}){return{cookies:i,status:r,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${io}</style><title>${t}</title>${s??""}</head><body class="__next-auth-theme-${n?.colorScheme??"auto"}"><div class="page">${function(e,t,r){var i=rm.__s;rm.__s=!0,r1=rm.__b,r2=rm.diffed,r5=rm.__r,r4=rm.unmount;var n=function(e,t,r){var i,n,s,a={};for(s in t)"key"==s?i=t[s]:"ref"==s?n=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?rp.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return rN(e,a,i,n,null)}(rR,null);n.__k=[e];try{var s=function e(t,r,i,n,s,a,o){if(null==t||!0===t||!1===t||""===t)return"";var l=typeof t;if("object"!=l)return"function"==l?"":"string"==l?rJ(t):t+"";if(r8(t)){var c,u="";s.__k=t;for(var d=0;d<t.length;d++){var h=t[d];if(null!=h&&"boolean"!=typeof h){var f,p=e(h,r,i,n,s,a,o);"string"==typeof p?u+=p:(c||(c=[]),u&&c.push(u),u="",r8(p)?(f=c).push.apply(f,p):c.push(p))}}return c?(u&&c.push(u),c):u}if(void 0!==t.constructor)return"";t.__=s,r1&&r1(t);var m=t.type,g=t.props;if("function"==typeof m){var y,b,w,v=r;if(m===rR){if("tpl"in g){for(var _="",x=0;x<g.tpl.length;x++)if(_+=g.tpl[x],g.exprs&&x<g.exprs.length){var S=g.exprs[x];if(null==S)continue;"object"==typeof S&&(void 0===S.constructor||r8(S))?_+=e(S,r,i,n,t,a,o):_+=S}return _}if("UNSTABLE_comment"in g)return"<!--"+rJ(g.UNSTABLE_comment)+"-->";b=g.children}else{if(null!=(y=m.contextType)){var T=r[y.__c];v=T?T.props.value:y.__}var E=m.prototype&&"function"==typeof m.prototype.render;if(E)b=ie(t,v),w=t.__c;else{t.__c=w={__v:t,context:v,props:t.props,setState:rY,forceUpdate:rY,__d:!0,__h:[]};for(var A=0;w.__d&&A++<25;)w.__d=!1,r5&&r5(t),b=m.call(w,g,v);w.__d=!0}if(null!=w.getChildContext&&(r=r7({},r,w.getChildContext())),E&&rm.errorBoundaries&&(m.getDerivedStateFromError||w.componentDidCatch)){b=null!=b&&b.type===rR&&null==b.key&&null==b.props.tpl?b.props.children:b;try{return e(b,r,i,n,t,a,o)}catch(s){return m.getDerivedStateFromError&&(w.__s=m.getDerivedStateFromError(s)),w.componentDidCatch&&w.componentDidCatch(s,r3),w.__d?(b=ie(t,r),null!=(w=t.__c).getChildContext&&(r=r7({},r,w.getChildContext())),e(b=null!=b&&b.type===rR&&null==b.key&&null==b.props.tpl?b.props.children:b,r,i,n,t,a,o)):""}finally{r2&&r2(t),t.__=null,r4&&r4(t)}}}b=null!=b&&b.type===rR&&null==b.key&&null==b.props.tpl?b.props.children:b;try{var C=e(b,r,i,n,t,a,o);return r2&&r2(t),t.__=null,rm.unmount&&rm.unmount(t),C}catch(s){if(!a&&o&&o.onError){var P=o.onError(s,t,function(s){return e(s,r,i,n,t,a,o)});if(void 0!==P)return P;var k=rm.__e;return k&&k(s,t),""}if(!a||!s||"function"!=typeof s.then)throw s;return s.then(function s(){try{return e(b,r,i,n,t,a,o)}catch(l){if(!l||"function"!=typeof l.then)throw l;return l.then(function(){return e(b,r,i,n,t,a,o)},s)}})}}var N,R="<"+m,O="";for(var q in g){var I=g[q];if("function"!=typeof I||"class"===q||"className"===q){switch(q){case"children":N=I;continue;case"key":case"ref":case"__self":case"__source":continue;case"htmlFor":if("for"in g)continue;q="for";break;case"className":if("class"in g)continue;q="class";break;case"defaultChecked":q="checked";break;case"defaultSelected":q="selected";break;case"defaultValue":case"value":switch(q="value",m){case"textarea":N=I;continue;case"select":n=I;continue;case"option":n!=I||"selected"in g||(R+=" selected")}break;case"dangerouslySetInnerHTML":O=I&&I.__html;continue;case"style":"object"==typeof I&&(I=function(e){var t="";for(var r in e){var i=e[r];if(null!=i&&""!==i){var n="-"==r[0]?r:rZ[r]||(rZ[r]=r.replace(rX,"-$&").toLowerCase()),s=";";"number"!=typeof i||n.startsWith("--")||rG.has(n)||(s="px;"),t=t+n+":"+i+s}}return t||void 0}(I));break;case"acceptCharset":q="accept-charset";break;case"httpEquiv":q="http-equiv";break;default:if(rQ.test(q))q=q.replace(rQ,"$1:$2").toLowerCase();else{if(rH.test(q))continue;("-"===q[4]||rW.has(q))&&null!=I?I+="":i?rV.test(q)&&(q="panose1"===q?"panose-1":q.replace(/([A-Z])/g,"-$1").toLowerCase()):rF.test(q)&&(q=q.toLowerCase())}}null!=I&&!1!==I&&(R=!0===I||""===I?R+" "+q:R+" "+q+'="'+("string"==typeof I?rJ(I):I+"")+'"')}}if(rH.test(m))throw Error(m+" is not a valid HTML tag name in "+R+">");if(O||("string"==typeof N?O=rJ(N):null!=N&&!1!==N&&!0!==N&&(O=e(N,r,"svg"===m||"foreignObject"!==m&&i,n,t,a,o))),r2&&r2(t),t.__=null,r4&&r4(t),!O&&it.has(m))return R+"/>";var $="</"+m+">",j=R+">";return r8(O)?[j].concat(O,[$]):"string"!=typeof O?[j,O,$]:j+O+$}(e,r3,!1,void 0,n,!1,void 0);return r8(s)?s.join(""):s}catch(e){if(e.then)throw Error('Use "renderToStringAsync" for suspenseful rendering.');throw e}finally{rm.__c&&rm.__c(e,r9),rm.__s=i,r9.length=0}}(e)}</div></body></html>`}}function ic(e){let{url:t,theme:r,query:i,cookies:n,pages:s,providers:a}=e;return{csrf:(e,t,r)=>e?(t.logger.warn("csrf-disabled"),r.push({name:t.cookies.csrfToken.name,value:"",options:{...t.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:r}):{headers:{"Content-Type":"application/json","Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"},body:{csrfToken:t.csrfToken},cookies:r},providers:e=>({headers:{"Content-Type":"application/json"},body:e.reduce((e,{id:t,name:r,type:i,signinUrl:n,callbackUrl:s})=>(e[t]={id:t,name:r,type:i,signinUrl:n,callbackUrl:s},e),{})}),signin(t,o){if(t)throw new O("Unsupported action");if(s?.signIn){let t=`${s.signIn}${s.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return o&&(t=`${t}&${new URLSearchParams({error:o})}`),{redirect:t,cookies:n}}let l=a?.find(e=>"webauthn"===e.type&&e.enableConditionalUI&&!!e.simpleWebAuthnBrowserVersion),c="";if(l){let{simpleWebAuthnBrowserVersion:e}=l;c=`<script src="https://unpkg.com/@simplewebauthn/browser@${e}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return il({cookies:n,theme:r,html:function(e){let{csrfToken:t,providers:r=[],callbackUrl:i,theme:n,email:s,error:a}=e;"undefined"!=typeof document&&n?.brandColor&&document.documentElement.style.setProperty("--brand-color",n.brandColor),"undefined"!=typeof document&&n?.buttonText&&document.documentElement.style.setProperty("--button-text-color",n.buttonText);let o=a&&(ia[a]??ia.default),l=r.find(e=>"webauthn"===e.type&&e.enableConditionalUI)?.id;return ii("div",{className:"signin",children:[n?.brandColor&&ii("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${n.brandColor}}`}}),n?.buttonText&&ii("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${n.buttonText}
        }
      `}}),ii("div",{className:"card",children:[o&&ii("div",{className:"error",children:ii("p",{children:o})}),n?.logo&&ii("img",{src:n.logo,alt:"Logo",className:"logo"}),r.map((e,n)=>{let a,o,l;("oauth"===e.type||"oidc"===e.type)&&({bg:a="#fff",brandColor:o,logo:l=`https://authjs.dev/img/providers/${e.id}.svg`}=e.style??{});let c=o??a??"#fff";return ii("div",{className:"provider",children:["oauth"===e.type||"oidc"===e.type?ii("form",{action:e.signinUrl,method:"POST",children:[ii("input",{type:"hidden",name:"csrfToken",value:t}),i&&ii("input",{type:"hidden",name:"callbackUrl",value:i}),ii("button",{type:"submit",className:"button",style:{"--provider-brand-color":c},tabIndex:0,children:[ii("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",e.name]}),l&&ii("img",{loading:"lazy",height:24,src:l})]})]}):null,("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&n>0&&"email"!==r[n-1].type&&"credentials"!==r[n-1].type&&"webauthn"!==r[n-1].type&&ii("hr",{}),"email"===e.type&&ii("form",{action:e.signinUrl,method:"POST",children:[ii("input",{type:"hidden",name:"csrfToken",value:t}),ii("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`,children:"Email"}),ii("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:s,placeholder:"email@example.com",required:!0}),ii("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"credentials"===e.type&&ii("form",{action:e.callbackUrl,method:"POST",children:[ii("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.credentials).map(t=>ii("div",{children:[ii("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.credentials[t].label??t}),ii("input",{name:t,id:`input-${t}-for-${e.id}-provider`,type:e.credentials[t].type??"text",placeholder:e.credentials[t].placeholder??"",...e.credentials[t]})]},`input-group-${e.id}`)),ii("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"webauthn"===e.type&&ii("form",{action:e.callbackUrl,method:"POST",id:`${e.id}-form`,children:[ii("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.formFields).map(t=>ii("div",{children:[ii("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.formFields[t].label??t}),ii("input",{name:t,"data-form-field":!0,id:`input-${t}-for-${e.id}-provider`,type:e.formFields[t].type??"text",placeholder:e.formFields[t].placeholder??"",...e.formFields[t]})]},`input-group-${e.id}`)),ii("button",{id:`submitButton-${e.id}`,type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&n+1<r.length&&ii("hr",{})]},e.id)})]}),l&&ii(rR,{children:ii("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${is})(authURL, "${l}");
`}})})]})}({csrfToken:e.csrfToken,providers:e.providers?.filter(e=>["email","oauth","oidc"].includes(e.type)||"credentials"===e.type&&e.credentials||"webauthn"===e.type&&e.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:o,...i}),title:"Sign In",headTags:c})},signout:()=>s?.signOut?{redirect:s.signOut,cookies:n}:il({cookies:n,theme:r,html:function(e){let{url:t,csrfToken:r,theme:i}=e;return ii("div",{className:"signout",children:[i?.brandColor&&ii("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${i.brandColor}
        }
      `}}),i?.buttonText&&ii("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),ii("div",{className:"card",children:[i?.logo&&ii("img",{src:i.logo,alt:"Logo",className:"logo"}),ii("h1",{children:"Signout"}),ii("p",{children:"Are you sure you want to sign out?"}),ii("form",{action:t?.toString(),method:"POST",children:[ii("input",{type:"hidden",name:"csrfToken",value:r}),ii("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:e.csrfToken,url:t,theme:r}),title:"Sign Out"}),verifyRequest:e=>s?.verifyRequest?{redirect:`${s.verifyRequest}${t?.search??""}`,cookies:n}:il({cookies:n,theme:r,html:function(e){let{url:t,theme:r}=e;return ii("div",{className:"verify-request",children:[r.brandColor&&ii("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),ii("div",{className:"card",children:[r.logo&&ii("img",{src:r.logo,alt:"Logo",className:"logo"}),ii("h1",{children:"Check your email"}),ii("p",{children:"A sign in link has been sent to your email address."}),ii("p",{children:ii("a",{className:"site",href:t.origin,children:t.host})})]})]})}({url:t,theme:r,...e}),title:"Verify Request"}),error:e=>s?.error?{redirect:`${s.error}${s.error.includes("?")?"&":"?"}error=${e}`,cookies:n}:il({cookies:n,theme:r,...function(e){let{url:t,error:r="default",theme:i}=e,n=`${t}/signin`,s={default:{status:200,heading:"Error",message:ii("p",{children:ii("a",{className:"site",href:t?.origin,children:t?.host})})},Configuration:{status:500,heading:"Server error",message:ii("div",{children:[ii("p",{children:"There is a problem with the server configuration."}),ii("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:ii("div",{children:[ii("p",{children:"You do not have permission to sign in."}),ii("p",{children:ii("a",{className:"button",href:n,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:ii("div",{children:[ii("p",{children:"The sign in link is no longer valid."}),ii("p",{children:"It may have been used already or it may have expired."})]}),signin:ii("a",{className:"button",href:n,children:"Sign in"})}},{status:a,heading:o,message:l,signin:c}=s[r]??s.default;return{status:a,html:ii("div",{className:"error",children:[i?.brandColor&&ii("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${i?.brandColor}
        }
      `}}),ii("div",{className:"card",children:[i?.logo&&ii("img",{src:i?.logo,alt:"Logo",className:"logo"}),ii("h1",{children:o}),ii("div",{className:"message",children:l}),c]})]})}}({url:t,theme:r,error:e}),title:"Error"})}}function iu(e,t=Date.now()){return new Date(t+1e3*e)}async function id(e,t,r,i){if(!r?.providerAccountId||!r.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(r.type))throw Error("Provider not supported");let{adapter:n,jwt:s,events:a,session:{strategy:o,generateSessionToken:l}}=i;if(!n)return{user:t,account:r};let c=r,{createUser:u,updateUser:d,getUser:h,getUserByAccount:f,getUserByEmail:p,linkAccount:m,createSession:g,getSessionAndUser:y,deleteSession:b}=n,w=null,v=null,_=!1,x="jwt"===o;if(e)if(x)try{let t=i.cookies.sessionToken.name;(w=await s.decode({...s,token:e,salt:t}))&&"sub"in w&&w.sub&&(v=await h(w.sub))}catch{}else{let t=await y(e);t&&(w=t.session,v=t.user)}if("email"===c.type){let r=await p(t.email);return r?(v?.id!==r.id&&!x&&e&&await b(e),v=await d({id:r.id,emailVerified:new Date}),await a.updateUser?.({user:v})):(v=await u({...t,emailVerified:new Date}),await a.createUser?.({user:v}),_=!0),{session:w=x?{}:await g({sessionToken:l(),userId:v.id,expires:iu(i.session.maxAge)}),user:v,isNewUser:_}}if("webauthn"===c.type){let e=await f({providerAccountId:c.providerAccountId,provider:c.provider});if(e){if(v){if(e.id===v.id){let e={...c,userId:v.id};return{session:w,user:v,isNewUser:_,account:e}}throw new K("The account is already associated with another user",{provider:c.provider})}w=x?{}:await g({sessionToken:l(),userId:e.id,expires:iu(i.session.maxAge)});let t={...c,userId:e.id};return{session:w,user:e,isNewUser:_,account:t}}{if(v){await m({...c,userId:v.id}),await a.linkAccount?.({user:v,account:c,profile:t});let e={...c,userId:v.id};return{session:w,user:v,isNewUser:_,account:e}}if(t.email?await p(t.email):null)throw new K("Another account already exists with the same e-mail address",{provider:c.provider});v=await u({...t}),await a.createUser?.({user:v}),await m({...c,userId:v.id}),await a.linkAccount?.({user:v,account:c,profile:t}),w=x?{}:await g({sessionToken:l(),userId:v.id,expires:iu(i.session.maxAge)});let e={...c,userId:v.id};return{session:w,user:v,isNewUser:!0,account:e}}}let S=await f({providerAccountId:c.providerAccountId,provider:c.provider});if(S){if(v){if(S.id===v.id)return{session:w,user:v,isNewUser:_};throw new C("The account is already associated with another user",{provider:c.provider})}return{session:w=x?{}:await g({sessionToken:l(),userId:S.id,expires:iu(i.session.maxAge)}),user:S,isNewUser:_}}{let{provider:e}=i,{type:r,provider:n,providerAccountId:s,userId:o,...d}=c;if(c=Object.assign(e.account(d)??{},{providerAccountId:s,provider:n,type:r,userId:o}),v)return await m({...c,userId:v.id}),await a.linkAccount?.({user:v,account:c,profile:t}),{session:w,user:v,isNewUser:_};let h=t.email?await p(t.email):null;if(h){let e=i.provider;if(e?.allowDangerousEmailAccountLinking)v=h,_=!1;else throw new C("Another account already exists with the same e-mail address",{provider:c.provider})}else v=await u({...t,emailVerified:null}),_=!0;return await a.createUser?.({user:v}),await m({...c,userId:v.id}),await a.linkAccount?.({user:v,account:c,profile:t}),{session:w=x?{}:await g({sessionToken:l(),userId:v.id,expires:iu(i.session.maxAge)}),user:v,isNewUser:_}}}function ih(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(i="oauth4webapi/v3.8.3");let ip="ERR_INVALID_ARG_VALUE",im="ERR_INVALID_ARG_TYPE";function ig(e,t,r){let i=TypeError(e,{cause:r});return Object.assign(i,{code:t}),i}let iy=Symbol(),ib=Symbol(),iw=Symbol(),iv=Symbol(),i_=Symbol(),ix=Symbol();Symbol();let iS=new TextEncoder,iT=new TextDecoder;function iE(e){return"string"==typeof e?iS.encode(e):iT.decode(e)}function iA(e){return"string"==typeof e?s(e):n(e)}n=Uint8Array.prototype.toBase64?e=>(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e.toBase64({alphabet:"base64url",omitPadding:!0})):e=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},s=Uint8Array.fromBase64?e=>{try{return Uint8Array.fromBase64(e,{alphabet:"base64url"})}catch(e){throw ig("The input to be decoded is not correctly encoded.",ip,e)}}:e=>{try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}catch(e){throw ig("The input to be decoded is not correctly encoded.",ip,e)}};class iC extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=nP,Error.captureStackTrace?.(this,this.constructor)}}class iP extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,t?.code&&(this.code=t?.code),Error.captureStackTrace?.(this,this.constructor)}}function ik(e,t,r){return new iP(e,{code:t,cause:r})}function iN(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function iR(e){ih(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e??{});if(i&&!t.has("user-agent")&&t.set("user-agent",i),t.has("authorization"))throw ig('"options.headers" must not include the "authorization" header name',ip);return t}function iO(e,t){if(void 0!==t){if("function"==typeof t&&(t=t(e.href)),!(t instanceof AbortSignal))throw ig('"options.signal" must return or be an instance of AbortSignal',im);return t}}function iq(e){return e.includes("//")?e.replace("//","/"):e}async function iI(e,t,r,i){if(!(e instanceof URL))throw ig(`"${t}" must be an instance of URL`,im);iZ(e,i?.[iy]!==!0);let n=r(new URL(e.href)),s=iR(i?.headers);return s.set("accept","application/json"),(i?.[iv]||fetch)(n.href,{body:void 0,headers:Object.fromEntries(s.entries()),method:"GET",redirect:"manual",signal:iO(n,i?.signal)})}async function i$(e,t){return iI(e,"issuerIdentifier",e=>{switch(t?.algorithm){case void 0:case"oidc":e.pathname=iq(`${e.pathname}/.well-known/openid-configuration`);break;case"oauth2":!function(e,t,r=!1){"/"===e.pathname?e.pathname=t:e.pathname=iq(`${t}/${r?e.pathname:e.pathname.replace(/(\/)$/,"")}`)}(e,".well-known/oauth-authorization-server");break;default:throw ig('"options.algorithm" must be "oidc" (default), or "oauth2"',ip)}return e},t)}function ij(e,t,r,i,n){try{if("number"!=typeof e||!Number.isFinite(e))throw ig(`${r} must be a number`,im,n);if(e>0)return;if(t){if(0!==e)throw ig(`${r} must be a non-negative number`,ip,n);return}throw ig(`${r} must be a positive number`,ip,n)}catch(e){if(i)throw ik(e.message,i,n);throw e}}function iL(e,t,r,i){try{if("string"!=typeof e)throw ig(`${t} must be a string`,im,i);if(0===e.length)throw ig(`${t} must not be empty`,ip,i)}catch(e){if(r)throw ik(e.message,r,i);throw e}}async function iD(e,t){if(!(e instanceof URL)&&e!==nZ)throw ig('"expectedIssuerIdentifier" must be an instance of URL',im);if(!ih(t,Response))throw ig('"response" must be an instance of Response',im);if(200!==t.status)throw ik('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',nI,t);nK(t);let r=await nJ(t);if(iL(r.issuer,'"response" body "issuer" property',nO,{body:r}),e!==nZ&&new URL(r.issuer).href!==e.href)throw ik('"response" body "issuer" property does not match the expected value',nM,{expected:e.href,body:r,attribute:"issuer"});return r}function iM(e){var t=e,r="application/json";if(ni(t)!==r)throw function(e,...t){let r='"response" content-type must be ';if(t.length>2){let e=t.pop();r+=`${t.join(", ")}, or ${e}`}else 2===t.length?r+=`${t[0]} or ${t[1]}`:r+=t[0];return ik(r,nq,e)}(t,r)}function iU(){return iA(crypto.getRandomValues(new Uint8Array(32)))}async function iB(e){return iL(e,"codeVerifier"),iA(await crypto.subtle.digest("SHA-256",iE(e)))}function iK(e){let t=e?.[ib];return"number"==typeof t&&Number.isFinite(t)?t:0}function iH(e){let t=e?.[iw];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}function iQ(){return Math.floor(Date.now()/1e3)}function iF(e){if("object"!=typeof e||null===e)throw ig('"as" must be an object',im);iL(e.issuer,'"as.issuer"')}function iV(e){if("object"!=typeof e||null===e)throw ig('"client" must be an object',im);iL(e.client_id,'"client.client_id"')}function iW(e,t){let r=iQ()+iK(t);return{jti:iU(),aud:e.issuer,exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}async function iz(e,t,r){if(!r.usages.includes("sign"))throw ig('CryptoKey instances used for signing assertions must include "sign" in their "usages"',ip);let i=`${iA(iE(JSON.stringify(e)))}.${iA(iE(JSON.stringify(t)))}`,n=iA(await crypto.subtle.sign(function(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:function(e){let{algorithm:t}=e;switch(t.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new iC("unsupported ECDSA namedCurve",{cause:e})}}(e)};case"RSA-PSS":switch(nH(e),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new iC("unsupported RSA-PSS hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":return nH(e),e.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return e.algorithm.name}throw new iC("unsupported CryptoKey algorithm name",{cause:e})}(r),r,iE(i)));return`${i}.${n}`}let iJ=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function iZ(e,t){if(t&&"https:"!==e.protocol)throw ik("only requests to HTTPS are allowed",n$,e);if("https:"!==e.protocol&&"http:"!==e.protocol)throw ik("only HTTP and HTTPS requests are allowed",nj,e)}function iG(e,t,r,i){let n;if("string"!=typeof e||!(n=iJ(e)))throw ik(`authorization server metadata does not contain a valid ${r?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,void 0===e?nU:nB,{attribute:r?`mtls_endpoint_aliases.${t}`:t});return iZ(n,i),n}function iX(e,t,r,i){return r&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?iG(e.mtls_endpoint_aliases[t],t,r,i):iG(e[t],t,r,i)}class iY extends Error{cause;code;error;status;error_description;response;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=nC,this.cause=t.cause,this.error=t.cause.error,this.status=t.response.status,this.error_description=t.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),Error.captureStackTrace?.(this,this.constructor)}}class i0 extends Error{cause;code;error;error_description;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=nk,this.cause=t.cause,this.error=t.cause.get("error"),this.error_description=t.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class i1 extends Error{cause;code;response;status;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=nA,this.cause=t.cause,this.status=t.response.status,this.response=t.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let i2="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",i5=RegExp("^[,\\s]*("+i2+")"),i4=RegExp("^[,\\s]*("+i2+')\\s*=\\s*"((?:[^"\\\\]|\\\\[\\s\\S])*)"[,\\s]*(.*)'),i6=RegExp("^[,\\s]*"+("("+i2+")\\s*=\\s*(")+i2+")[,\\s]*(.*)"),i3=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+={0,2})(?:$|[,\\s])(.*)");async function i9(e){if(e.status>399&&e.status<500){nK(e),iM(e);try{let t=await e.clone().json();if(iN(t)&&"string"==typeof t.error&&t.error.length)return t}catch{}}}async function i8(e,t,r){if(e.status!==t){let t;if(nd(e),t=await i9(e))throw await e.body?.cancel(),new iY("server responded with an error in the response body",{cause:t,response:e});throw ik(`"response" is not a conform ${r} response (unexpected HTTP status code)`,nI,e)}}function i7(e){if(!ng.has(e))throw ig('"options.DPoP" is not a valid DPoPHandle',ip)}async function ne(e,t,r,i,n,s){if(iL(e,'"accessToken"'),!(r instanceof URL))throw ig('"url" must be an instance of URL',im);iZ(r,s?.[iy]!==!0),i=iR(i),s?.DPoP&&(i7(s.DPoP),await s.DPoP.addProof(r,i,t.toUpperCase(),e)),i.set("authorization",`${i.has("dpop")?"DPoP":"Bearer"} ${e}`);let a=await (s?.[iv]||fetch)(r.href,{body:n,headers:Object.fromEntries(i.entries()),method:t,redirect:"manual",signal:iO(r,s?.signal)});return s?.DPoP?.cacheNonce(a,r),a}async function nt(e,t,r,i){iF(e),iV(t);let n=iX(e,"userinfo_endpoint",t.use_mtls_endpoint_aliases,i?.[iy]!==!0),s=iR(i?.headers);return t.userinfo_signed_response_alg?s.set("accept","application/jwt"):(s.set("accept","application/json"),s.append("accept","application/jwt")),ne(r,"GET",n,s,null,{...i,[ib]:iK(t)})}let nr=Symbol();function ni(e){return e.headers.get("content-type")?.split(";")[0]}async function nn(e,t,r,i,n){let s;if(iF(e),iV(t),!ih(i,Response))throw ig('"response" must be an instance of Response',im);if(nd(i),200!==i.status)throw ik('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',nI,i);if(nK(i),"application/jwt"===ni(i)){let{claims:r,jwt:a}=await nQ(await i.text(),nF.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported,void 0),iK(t),iH(t),n?.[ix]).then(nh.bind(void 0,t.client_id)).then(np.bind(void 0,e));nl.set(i,a),s=r}else{if(t.userinfo_signed_response_alg)throw ik("JWT UserInfo Response expected",nN,i);s=await nJ(i)}if(iL(s.sub,'"response" body "sub" property',nO,{body:s}),r===nr);else if(iL(r,'"expectedSubject"'),s.sub!==r)throw ik('unexpected "response" body "sub" property value',nM,{expected:r,body:s,attribute:"sub"});return s}async function ns(e,t,r,i,n,s,a){return await r(e,t,n,s),s.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(a?.[iv]||fetch)(i.href,{body:n,headers:Object.fromEntries(s.entries()),method:"POST",redirect:"manual",signal:iO(i,a?.signal)})}async function na(e,t,r,i,n,s){let a=iX(e,"token_endpoint",t.use_mtls_endpoint_aliases,s?.[iy]!==!0);n.set("grant_type",i);let o=iR(s?.headers);o.set("accept","application/json"),s?.DPoP!==void 0&&(i7(s.DPoP),await s.DPoP.addProof(a,o,"POST"));let l=await ns(e,t,r,a,n,o,s);return s?.DPoP?.cacheNonce(l,a),l}let no=new WeakMap,nl=new WeakMap;function nc(e){if(!e.id_token)return;let t=no.get(e);if(!t)throw ig('"ref" was already garbage collected or did not resolve from the proper sources',ip);return t}async function nu(e,t,r,i,n,s){if(iF(e),iV(t),!ih(r,Response))throw ig('"response" must be an instance of Response',im);await i8(r,200,"Token Endpoint"),nK(r);let a=await nJ(r);if(iL(a.access_token,'"response" body "access_token" property',nO,{body:a}),iL(a.token_type,'"response" body "token_type" property',nO,{body:a}),a.token_type=a.token_type.toLowerCase(),void 0!==a.expires_in){let e="number"!=typeof a.expires_in?parseFloat(a.expires_in):a.expires_in;ij(e,!0,'"response" body "expires_in" property',nO,{body:a}),a.expires_in=e}if(void 0!==a.refresh_token&&iL(a.refresh_token,'"response" body "refresh_token" property',nO,{body:a}),void 0!==a.scope&&"string"!=typeof a.scope)throw ik('"response" body "scope" property must be a string',nO,{body:a});if(void 0!==a.id_token){iL(a.id_token,'"response" body "id_token" property',nO,{body:a});let s=["aud","exp","iat","iss","sub"];!0===t.require_auth_time&&s.push("auth_time"),void 0!==t.default_max_age&&(ij(t.default_max_age,!0,'"client.default_max_age"'),s.push("auth_time")),i?.length&&s.push(...i);let{claims:o,jwt:l}=await nQ(a.id_token,nF.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,"RS256"),iK(t),iH(t),n).then(nv.bind(void 0,s)).then(nm.bind(void 0,e)).then(nf.bind(void 0,t.client_id));if(Array.isArray(o.aud)&&1!==o.aud.length){if(void 0===o.azp)throw ik('ID Token "aud" (audience) claim includes additional untrusted audiences',nD,{claims:o,claim:"aud"});if(o.azp!==t.client_id)throw ik('unexpected ID Token "azp" (authorized party) claim value',nD,{expected:t.client_id,claims:o,claim:"azp"})}void 0!==o.auth_time&&ij(o.auth_time,!0,'ID Token "auth_time" (authentication time)',nO,{claims:o}),nl.set(r,l),no.set(a,o)}if(s?.[a.token_type]!==void 0)s[a.token_type](r,a);else if("dpop"!==a.token_type&&"bearer"!==a.token_type)throw new iC("unsupported `token_type` value",{cause:{body:a}});return a}function nd(e){let t;if(t=function(e){if(!ih(e,Response))throw ig('"response" must be an instance of Response',im);let t=e.headers.get("www-authenticate");if(null===t)return;let r=[],i=t;for(;i;){let e,t=i.match(i5),n=t?.["1"].toLowerCase();if(!n)return;let s=i.substring(t[0].length);if(s&&!s.match(/^[\s,]/))return;let a=s.match(/^\s+(.*)$/),o=!!a;i=a?a[1]:void 0;let l={};if(o)for(;i;){let r,n;if(t=i.match(i4)){if([,r,n,i]=t,n.includes("\\"))try{n=JSON.parse(`"${n}"`)}catch{}l[r.toLowerCase()]=n;continue}if(t=i.match(i6)){[,r,n,i]=t,l[r.toLowerCase()]=n;continue}if(t=i.match(i3)){if(Object.keys(l).length)break;[,e,i]=t;break}return}else i=s||void 0;let c={scheme:n,parameters:l};e&&(c.token68=e),r.push(c)}if(r.length)return r}(e))throw new i1("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:t,response:e})}function nh(e,t){return void 0!==t.claims.aud?nf(e,t):t}function nf(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw ik('unexpected JWT "aud" (audience) claim value',nD,{expected:e,claims:t.claims,claim:"aud"})}else if(t.claims.aud!==e)throw ik('unexpected JWT "aud" (audience) claim value',nD,{expected:e,claims:t.claims,claim:"aud"});return t}function np(e,t){return void 0!==t.claims.iss?nm(e,t):t}function nm(e,t){let r=e[nG]?.(t)??e.issuer;if(t.claims.iss!==r)throw ik('unexpected JWT "iss" (issuer) claim value',nD,{expected:r,claims:t.claims,claim:"iss"});return t}let ng=new WeakSet,ny=Symbol();async function nb(e,t,r,i,n,s,a){if(iF(e),iV(t),!ng.has(i))throw ig('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',ip);iL(n,'"redirectUri"');let o=nV(i,"code");if(!o)throw ik('no authorization code in "callbackParameters"',nO);let l=new URLSearchParams(a?.additionalParameters);return l.set("redirect_uri",n),l.set("code",o),s!==ny&&(iL(s,'"codeVerifier"'),l.set("code_verifier",s)),na(e,t,r,"authorization_code",l,a)}let nw={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function nv(e,t){for(let r of e)if(void 0===t.claims[r])throw ik(`JWT "${r}" (${nw[r]}) claim missing`,nO,{claims:t.claims});return t}let n_=Symbol(),nx=Symbol();async function nS(e,t,r,i){return"string"==typeof i?.expectedNonce||"number"==typeof i?.maxAge||i?.requireIdToken?nT(e,t,r,i.expectedNonce,i.maxAge,i[ix],i.recognizedTokenTypes):nE(e,t,r,i?.[ix],i?.recognizedTokenTypes)}async function nT(e,t,r,i,n,s,a){let o=[];switch(i){case void 0:i=n_;break;case n_:break;default:iL(i,'"expectedNonce" argument'),o.push("nonce")}switch(n??=t.default_max_age){case void 0:n=nx;break;case nx:break;default:ij(n,!0,'"maxAge" argument'),o.push("auth_time")}let l=await nu(e,t,r,o,s,a);iL(l.id_token,'"response" body "id_token" property',nO,{body:l});let c=nc(l);if(n!==nx){let e=iQ()+iK(t),r=iH(t);if(c.auth_time+n<e-r)throw ik("too much time has elapsed since the last End-User authentication",nL,{claims:c,now:e,tolerance:r,claim:"auth_time"})}if(i===n_){if(void 0!==c.nonce)throw ik('unexpected ID Token "nonce" claim value',nD,{expected:void 0,claims:c,claim:"nonce"})}else if(c.nonce!==i)throw ik('unexpected ID Token "nonce" claim value',nD,{expected:i,claims:c,claim:"nonce"});return l}async function nE(e,t,r,i,n){let s=await nu(e,t,r,void 0,i,n),a=nc(s);if(a){if(void 0!==t.default_max_age){ij(t.default_max_age,!0,'"client.default_max_age"');let e=iQ()+iK(t),r=iH(t);if(a.auth_time+t.default_max_age<e-r)throw ik("too much time has elapsed since the last End-User authentication",nL,{claims:a,now:e,tolerance:r,claim:"auth_time"})}if(void 0!==a.nonce)throw ik('unexpected ID Token "nonce" claim value',nD,{expected:void 0,claims:a,claim:"nonce"})}return s}let nA="OAUTH_WWW_AUTHENTICATE_CHALLENGE",nC="OAUTH_RESPONSE_BODY_ERROR",nP="OAUTH_UNSUPPORTED_OPERATION",nk="OAUTH_AUTHORIZATION_RESPONSE_ERROR",nN="OAUTH_JWT_USERINFO_EXPECTED",nR="OAUTH_PARSE_ERROR",nO="OAUTH_INVALID_RESPONSE",nq="OAUTH_RESPONSE_IS_NOT_JSON",nI="OAUTH_RESPONSE_IS_NOT_CONFORM",n$="OAUTH_HTTP_REQUEST_FORBIDDEN",nj="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",nL="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",nD="OAUTH_JWT_CLAIM_COMPARISON_FAILED",nM="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",nU="OAUTH_MISSING_SERVER_METADATA",nB="OAUTH_INVALID_SERVER_METADATA";function nK(e){if(e.bodyUsed)throw ig('"response" body has been used already',ip)}function nH(e){let{algorithm:t}=e;if("number"!=typeof t.modulusLength||t.modulusLength<2048)throw new iC(`unsupported ${t.name} modulusLength`,{cause:e})}async function nQ(e,t,r,i,n){let s,a,{0:o,1:l,length:c}=e.split(".");if(5===c)if(void 0!==n)e=await n(e),{0:o,1:l,length:c}=e.split(".");else throw new iC("JWE decryption is not configured",{cause:e});if(3!==c)throw ik("Invalid JWT",nO,e);try{s=JSON.parse(iE(iA(o)))}catch(e){throw ik("failed to parse JWT Header body as base64url encoded JSON",nR,e)}if(!iN(s))throw ik("JWT Header must be a top level object",nO,e);if(t(s),void 0!==s.crit)throw new iC('no JWT "crit" header parameter extensions are supported',{cause:{header:s}});try{a=JSON.parse(iE(iA(l)))}catch(e){throw ik("failed to parse JWT Payload body as base64url encoded JSON",nR,e)}if(!iN(a))throw ik("JWT Payload must be a top level object",nO,e);let u=iQ()+r;if(void 0!==a.exp){if("number"!=typeof a.exp)throw ik('unexpected JWT "exp" (expiration time) claim type',nO,{claims:a});if(a.exp<=u-i)throw ik('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',nL,{claims:a,now:u,tolerance:i,claim:"exp"})}if(void 0!==a.iat&&"number"!=typeof a.iat)throw ik('unexpected JWT "iat" (issued at) claim type',nO,{claims:a});if(void 0!==a.iss&&"string"!=typeof a.iss)throw ik('unexpected JWT "iss" (issuer) claim type',nO,{claims:a});if(void 0!==a.nbf){if("number"!=typeof a.nbf)throw ik('unexpected JWT "nbf" (not before) claim type',nO,{claims:a});if(a.nbf>u+i)throw ik('unexpected JWT "nbf" (not before) claim value',nL,{claims:a,now:u,tolerance:i,claim:"nbf"})}if(void 0!==a.aud&&"string"!=typeof a.aud&&!Array.isArray(a.aud))throw ik('unexpected JWT "aud" (audience) claim type',nO,{claims:a});return{header:s,claims:a,jwt:e}}function nF(e,t,r,i){if(void 0!==e){if("string"==typeof e?i.alg!==e:!e.includes(i.alg))throw ik('unexpected JWT "alg" header parameter',nO,{header:i,expected:e,reason:"client configuration"});return}if(Array.isArray(t)){if(!t.includes(i.alg))throw ik('unexpected JWT "alg" header parameter',nO,{header:i,expected:t,reason:"authorization server metadata"});return}if(void 0!==r){if("string"==typeof r?i.alg!==r:"function"==typeof r?!r(i.alg):!r.includes(i.alg))throw ik('unexpected JWT "alg" header parameter',nO,{header:i,expected:r,reason:"default value"});return}throw ik('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:e,issuer:t,fallback:r})}function nV(e,t){let{0:r,length:i}=e.getAll(t);if(i>1)throw ik(`"${t}" parameter must be provided only once`,nO);return r}let nW=Symbol(),nz=Symbol();async function nJ(e,t=iM){let r;try{r=await e.json()}catch(r){throw t(e),ik('failed to parse "response" body as JSON',nR,r)}if(!iN(r))throw ik('"response" body must be a top level object',nO,{body:r});return r}let nZ=Symbol(),nG=Symbol();async function nX(e,t,r){let{cookies:i,logger:n}=r,s=i[e],a=new Date;a.setTime(a.getTime()+9e5),n.debug(`CREATE_${e.toUpperCase()}`,{name:s.name,payload:t,COOKIE_TTL:900,expires:a});let o=await tK({...r.jwt,maxAge:900,token:{value:t},salt:s.name}),l={...s.options,expires:a};return{name:s.name,value:o,options:l}}async function nY(e,t,r){try{let{logger:i,cookies:n,jwt:s}=r;if(i.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new _(`${e} cookie was missing`);let a=await tH({...s,token:t,salt:n[e].name});if(a?.value)return a.value;throw Error("Invalid cookie")}catch(t){throw new _(`${e} value could not be parsed`,{cause:t})}}function n0(e,t,r){let{logger:i,cookies:n}=t,s=n[e];i.debug(`CLEAR_${e.toUpperCase()}`,{cookie:s}),r.push({name:s.name,value:"",options:{...n[e].options,maxAge:0}})}function n1(e,t){return async function(r,i,n){let{provider:s,logger:a}=n;if(!s?.checks?.includes(e))return;let o=r?.[n.cookies[t].name];a.debug(`USE_${t.toUpperCase()}`,{value:o});let l=await nY(t,o,n);return n0(t,n,i),l}}let n2={async create(e){let t=iU(),r=await iB(t);return{cookie:await nX("pkceCodeVerifier",t,e),value:r}},use:n1("pkce","pkceCodeVerifier")},n5="encodedState",n4={async create(e,t){let{provider:r}=e;if(!r.checks.includes("state")){if(t)throw new _("State data was provided but the provider is not configured to use state");return}let i={origin:t,random:iU()},n=await tK({secret:e.jwt.secret,token:i,salt:n5,maxAge:900});return{cookie:await nX("state",n,e),value:n}},use:n1("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let r=await tH({secret:t.jwt.secret,token:e,salt:n5});if(r)return r;throw Error("Invalid state")}catch(e){throw new _("State could not be decoded",{cause:e})}}},n6={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=iU();return{cookie:await nX("nonce",t,e),value:t}},use:n1("nonce","nonce")},n3="encodedWebauthnChallenge",n9={create:async(e,t,r)=>({cookie:await nX("webauthnChallenge",await tK({secret:e.jwt.secret,token:{challenge:t,registerData:r},salt:n3,maxAge:900}),e)}),async use(e,t,r){let i=t?.[e.cookies.webauthnChallenge.name],n=await nY("webauthnChallenge",i,e),s=await tH({secret:e.jwt.secret,token:n,salt:n3});if(n0("webauthnChallenge",e,r),!s)throw new _("WebAuthn challenge was missing");return s}};function n8(e){return encodeURIComponent(e).replace(/%20/g,"+")}async function n7(e,t,r){var i,n;let s,a,o,l,c,{logger:u,provider:d}=r,{token:h,userinfo:f}=d;if(h?.url&&"authjs.dev"!==h.url.host||f?.url&&"authjs.dev"!==f.url.host)s={issuer:d.issuer??"https://authjs.dev",token_endpoint:h?.url.toString(),userinfo_endpoint:f?.url.toString()};else{let e=new URL(d.issuer),t=await i$(e,{[iy]:!0,[iv]:d[re]});if(!(s=await iD(e,t)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!s.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let p={client_id:d.clientId,...d.client};switch(p.token_endpoint_auth_method){case void 0:case"client_secret_basic":a=(e,t,r,i)=>{var n,s;let a,o,l;i.set("authorization",(n=d.clientId,s=d.clientSecret,a=n8(n),o=n8(s),l=btoa(`${a}:${o}`),`Basic ${l}`))};break;case"client_secret_post":iL(i=d.clientSecret,'"clientSecret"'),a=(e,t,r,n)=>{r.set("client_id",t.client_id),r.set("client_secret",i)};break;case"client_secret_jwt":iL(n=d.clientSecret,'"clientSecret"'),c=void 0,a=async(e,t,r,i)=>{l||=await crypto.subtle.importKey("raw",iE(n),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let s={alg:"HS256"},a=iW(e,t);c?.(s,a);let o=`${iA(iE(JSON.stringify(s)))}.${iA(iE(JSON.stringify(a)))}`,u=await crypto.subtle.sign(l.algorithm,l,iE(o));r.set("client_id",t.client_id),r.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),r.set("client_assertion",`${o}.${iA(new Uint8Array(u))}`)};break;case"private_key_jwt":a=function(e,t){let{key:r,kid:i}=e instanceof CryptoKey?{key:e}:e?.key instanceof CryptoKey?(void 0!==e.kid&&iL(e.kid,'"kid"'),{key:e.key,kid:e.kid}):{};var n='"clientPrivateKey.key"';if(!(r instanceof CryptoKey))throw ig(`${n} must be a CryptoKey`,im);if("private"!==r.type)throw ig(`${n} must be a private CryptoKey`,ip);return async(e,n,s,a)=>{let o={alg:function(e){switch(e.algorithm.name){case"RSA-PSS":switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new iC("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new iC("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}case"ECDSA":switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new iC("unsupported EcKeyAlgorithm namedCurve",{cause:e})}case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return e.algorithm.name;case"EdDSA":return"Ed25519";default:throw new iC("unsupported CryptoKey algorithm name",{cause:e})}}(r),kid:i},l=iW(e,n);t?.[i_]?.(o,l),s.set("client_id",n.client_id),s.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),s.set("client_assertion",await iz(o,l,r))}}(d.token.clientPrivateKey,{[i_](e,t){t.aud=[s.issuer,s.token_endpoint]}});break;case"none":a=(e,t,r,i)=>{r.set("client_id",t.client_id)};break;default:throw Error("unsupported client authentication method")}let m=[],g=await n4.use(t,m,r);try{o=function(e,t,r,i){var n;if(iF(e),iV(t),r instanceof URL&&(r=r.searchParams),!(r instanceof URLSearchParams))throw ig('"parameters" must be an instance of URLSearchParams, or URL',im);if(nV(r,"response"))throw ik('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',nO,{parameters:r});let s=nV(r,"iss"),a=nV(r,"state");if(!s&&e.authorization_response_iss_parameter_supported)throw ik('response parameter "iss" (issuer) missing',nO,{parameters:r});if(s&&s!==e.issuer)throw ik('unexpected "iss" (issuer) response parameter value',nO,{expected:e.issuer,parameters:r});switch(i){case void 0:case nz:if(void 0!==a)throw ik('unexpected "state" response parameter encountered',nO,{expected:void 0,parameters:r});break;case nW:break;default:if(iL(i,'"expectedState" argument'),a!==i)throw ik(void 0===a?'response parameter "state" missing':'unexpected "state" response parameter value',nO,{expected:i,parameters:r})}if(nV(r,"error"))throw new i0("authorization response from the server is an error",{cause:r});let o=nV(r,"id_token"),l=nV(r,"token");if(void 0!==o||void 0!==l)throw new iC("implicit and hybrid flows are not supported");return n=new URLSearchParams(r),ng.add(n),n}(s,p,new URLSearchParams(e),d.checks.includes("state")?g:nW)}catch(e){if(e instanceof i0){let t={providerId:d.id,...Object.fromEntries(e.cause.entries())};throw u.debug("OAuthCallbackError",t),new P("OAuth Provider returned an error",t)}throw e}let y=await n2.use(t,m,r),b=d.callbackUrl;!r.isOnRedirectProxy&&d.redirectProxyUrl&&(b=d.redirectProxyUrl);let w=await nb(s,p,a,o,b,y??"decoy",{[iy]:!0,[iv]:(...e)=>(d.checks.includes("pkce")||e[1].body.delete("code_verifier"),(d[re]??fetch)(...e))});d.token?.conform&&(w=await d.token.conform(w.clone())??w);let v={},_="oidc"===d.type;if(d[rt])switch(d.id){case"microsoft-entra-id":case"azure-ad":{let e=await w.clone().json();if(e.error){let t={providerId:d.id,...e};throw new P(`OAuth Provider returned an error: ${e.error}`,t)}let{tid:t}=function(e){let t,r;if("string"!=typeof e)throw new ew("JWTs must use Compact JWS serialization, JWT must be a string");let{1:i,length:n}=e.split(".");if(5===n)throw new ew("Only JWTs using Compact JWS serialization can be decoded");if(3!==n)throw new ew("Invalid JWT");if(!i)throw new ew("JWTs must contain a payload");try{t=ec(i)}catch{throw new ew("Failed to base64url decode the payload")}try{r=JSON.parse(ei.decode(t))}catch{throw new ew("Failed to parse the decoded payload as JSON")}if(!eY(r))throw new ew("Invalid JWT Claims Set");return r}(e.id_token);if("string"==typeof t){let e=s.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",r=new URL(s.issuer.replace(e,t)),i=await i$(r,{[iv]:d[re]});s=await iD(r,i)}}}let x=await nS(s,p,w,{expectedNonce:await n6.use(t,m,r),requireIdToken:_});if(_){let t=nc(x);if(v=t,d[rt]&&"apple"===d.id)try{v.user=JSON.parse(e?.user)}catch{}if(!1===d.idToken){let e=await nt(s,p,x.access_token,{[iv]:d[re],[iy]:!0});v=await nn(s,p,t.sub,e)}}else if(f?.request){let e=await f.request({tokens:x,provider:d});e instanceof Object&&(v=e)}else if(f?.url){let e=await nt(s,p,x.access_token,{[iv]:d[re],[iy]:!0});v=await e.json()}else throw TypeError("No userinfo endpoint configured");return x.expires_in&&(x.expires_at=Math.floor(Date.now()/1e3)+Number(x.expires_in)),{...await se(v,d,x,u),profile:v,cookies:m}}async function se(e,t,r,i){try{let i=await t.profile(e,r);return{user:{...i,id:crypto.randomUUID(),email:i.email?.toLowerCase()},account:{...r,provider:t.id,type:t.type,providerAccountId:i.id??crypto.randomUUID()}}}catch(r){i.debug("getProfile error details",e),i.error(new k(r,{provider:t.id}))}}async function st(e,t,r,i){let n=await sa(e,t,r),{cookie:s}=await n9.create(e,n.challenge,r);return{status:200,cookies:[...i??[],s],body:{action:"register",options:n},headers:{"Content-Type":"application/json"}}}async function sr(e,t,r,i){let n=await ss(e,t,r),{cookie:s}=await n9.create(e,n.challenge);return{status:200,cookies:[...i??[],s],body:{action:"authenticate",options:n},headers:{"Content-Type":"application/json"}}}async function si(e,t,r){let i,{adapter:n,provider:s}=e,a=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!a||"object"!=typeof a||!("id"in a)||"string"!=typeof a.id)throw new d("Invalid WebAuthn Authentication response");let o=sc(sl(a.id)),l=await n.getAuthenticator(o);if(!l)throw new d(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:o})}`);let{challenge:c}=await n9.use(e,t.cookies,r);try{var u;let r=s.getRelayingParty(e,t);i=await s.simpleWebAuthn.verifyAuthenticationResponse({...s.verifyAuthenticationOptions,expectedChallenge:c,response:a,authenticator:{...u=l,credentialDeviceType:u.credentialDeviceType,transports:su(u.transports),credentialID:sl(u.credentialID),credentialPublicKey:sl(u.credentialPublicKey)},expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new B(e)}let{verified:h,authenticationInfo:p}=i;if(!h)throw new B("WebAuthn authentication response could not be verified");try{let{newCounter:e}=p;await n.updateAuthenticatorCounter(l.credentialID,e)}catch(e){throw new f(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:o,oldCounter:l.counter,newCounter:p.newCounter})}`,e)}let m=await n.getAccount(l.providerAccountId,s.id);if(!m)throw new d(`WebAuthn account not found in database: ${JSON.stringify({credentialID:o,providerAccountId:l.providerAccountId})}`);let g=await n.getUser(m.userId);if(!g)throw new d(`WebAuthn user not found in database: ${JSON.stringify({credentialID:o,providerAccountId:l.providerAccountId,userID:m.userId})}`);return{account:m,user:g}}async function sn(e,t,r){var i;let n,{provider:s}=e,a=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!a||"object"!=typeof a||!("id"in a)||"string"!=typeof a.id)throw new d("Invalid WebAuthn Registration response");let{challenge:o,registerData:l}=await n9.use(e,t.cookies,r);if(!l)throw new d("Missing user registration data in WebAuthn challenge cookie");try{let r=s.getRelayingParty(e,t);n=await s.simpleWebAuthn.verifyRegistrationResponse({...s.verifyRegistrationOptions,expectedChallenge:o,response:a,expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new B(e)}if(!n.verified||!n.registrationInfo)throw new B("WebAuthn registration response could not be verified");let c={providerAccountId:sc(n.registrationInfo.credentialID),provider:e.provider.id,type:s.type},u={providerAccountId:c.providerAccountId,counter:n.registrationInfo.counter,credentialID:sc(n.registrationInfo.credentialID),credentialPublicKey:sc(n.registrationInfo.credentialPublicKey),credentialBackedUp:n.registrationInfo.credentialBackedUp,credentialDeviceType:n.registrationInfo.credentialDeviceType,transports:(i=a.response.transports,i?.join(","))};return{user:l,account:c,authenticator:u}}async function ss(e,t,r){let{provider:i,adapter:n}=e,s=r&&r.id?await n.listAuthenticatorsByUserId(r.id):null,a=i.getRelayingParty(e,t);return await i.simpleWebAuthn.generateAuthenticationOptions({...i.authenticationOptions,rpID:a.id,allowCredentials:s?.map(e=>({id:sl(e.credentialID),type:"public-key",transports:su(e.transports)}))})}async function sa(e,t,r){let{provider:i,adapter:n}=e,s=r.id?await n.listAuthenticatorsByUserId(r.id):null,a=t5(32),o=i.getRelayingParty(e,t);return await i.simpleWebAuthn.generateRegistrationOptions({...i.registrationOptions,userID:a,userName:r.email,userDisplayName:r.name??void 0,rpID:o.id,rpName:o.name,excludeCredentials:s?.map(e=>({id:sl(e.credentialID),type:"public-key",transports:su(e.transports)}))})}function so(e){let{provider:t,adapter:r}=e;if(!r)throw new S("An adapter is required for the WebAuthn provider");if(!t||"webauthn"!==t.type)throw new I("Provider must be WebAuthn");return{...e,provider:t,adapter:r}}function sl(e){return new Uint8Array(Buffer.from(e,"base64"))}function sc(e){return Buffer.from(e).toString("base64")}function su(e){return e?e.split(","):void 0}async function sd(e,t,r,i){if(!t.provider)throw new I("Callback route called without provider");let{query:n,body:s,method:a,headers:o}=e,{provider:l,adapter:c,url:u,callbackUrl:h,pages:f,jwt:p,events:g,callbacks:y,session:{strategy:b,maxAge:v},logger:_}=t,x="jwt"===b;try{if("oauth"===l.type||"oidc"===l.type){let a,o=l.authorization?.url.searchParams.get("response_mode")==="form_post"?s:n;if(t.isOnRedirectProxy&&o?.state){let e=await n4.decode(o.state,t);if(e?.origin&&new URL(e.origin).origin!==t.url.origin){let t=`${e.origin}?${new URLSearchParams(o)}`;return _.debug("Proxy redirecting to",t),{redirect:t,cookies:i}}}let d=await n7(o,e.cookies,t);d.cookies.length&&i.push(...d.cookies),_.debug("authorization result",d);let{user:m,account:b,profile:w}=d;if(!m||!b||!w)return{redirect:`${u}/signin`,cookies:i};if(c){let{getUserByAccount:e}=c;a=await e({providerAccountId:b.providerAccountId,provider:l.id})}let S=await sh({user:a??m,account:b,profile:w},t);if(S)return{redirect:S,cookies:i};let{user:T,session:E,isNewUser:A}=await id(r.value,m,b,t);if(x){let e={name:T.name,email:T.email,picture:T.image,sub:T.id?.toString()},n=await y.jwt({token:e,user:T,account:b,profile:w,isNewUser:A,trigger:A?"signUp":"signIn"});if(null===n)i.push(...r.clean());else{let e=t.cookies.sessionToken.name,s=await p.encode({...p,token:n,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*v);let o=r.chunk(s,{expires:a});i.push(...o)}}else i.push({name:t.cookies.sessionToken.name,value:E.sessionToken,options:{...t.cookies.sessionToken.options,expires:E.expires}});if(await g.signIn?.({user:T,account:b,profile:w,isNewUser:A}),A&&f.newUser)return{redirect:`${f.newUser}${f.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:h})}`,cookies:i};return{redirect:h,cookies:i}}if("email"===l.type){let e=n?.token,s=n?.email;if(!e){let t=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!e}});throw t.name="Configuration",t}let a=l.secret??t.secret,o=await c.useVerificationToken({identifier:s,token:await t2(`${e}${a}`)}),u=!!o,d=u&&o.expires.valueOf()<Date.now();if(!u||d||s&&o.identifier!==s)throw new j({hasInvite:u,expired:d});let{identifier:m}=o,b=await c.getUserByEmail(m)??{id:crypto.randomUUID(),email:m,emailVerified:null},w={providerAccountId:b.email,userId:b.id,type:"email",provider:l.id},_=await sh({user:b,account:w},t);if(_)return{redirect:_,cookies:i};let{user:S,session:T,isNewUser:E}=await id(r.value,b,w,t);if(x){let e={name:S.name,email:S.email,picture:S.image,sub:S.id?.toString()},n=await y.jwt({token:e,user:S,account:w,isNewUser:E,trigger:E?"signUp":"signIn"});if(null===n)i.push(...r.clean());else{let e=t.cookies.sessionToken.name,s=await p.encode({...p,token:n,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*v);let o=r.chunk(s,{expires:a});i.push(...o)}}else i.push({name:t.cookies.sessionToken.name,value:T.sessionToken,options:{...t.cookies.sessionToken.options,expires:T.expires}});if(await g.signIn?.({user:S,account:w,isNewUser:E}),E&&f.newUser)return{redirect:`${f.newUser}${f.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:h})}`,cookies:i};return{redirect:h,cookies:i}}if("credentials"===l.type&&"POST"===a){let e=s??{};Object.entries(n??{}).forEach(([e,t])=>u.searchParams.set(e,t));let c=await l.authorize(e,new Request(u,{headers:o,method:a,body:JSON.stringify(s)}));if(c)c.id=c.id?.toString()??crypto.randomUUID();else throw new w;let d={providerAccountId:c.id,type:"credentials",provider:l.id},f=await sh({user:c,account:d,credentials:e},t);if(f)return{redirect:f,cookies:i};let m={name:c.name,email:c.email,picture:c.image,sub:c.id},b=await y.jwt({token:m,user:c,account:d,isNewUser:!1,trigger:"signIn"});if(null===b)i.push(...r.clean());else{let e=t.cookies.sessionToken.name,n=await p.encode({...p,token:b,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*v);let a=r.chunk(n,{expires:s});i.push(...a)}return await g.signIn?.({user:c,account:d}),{redirect:h,cookies:i}}else if("webauthn"===l.type&&"POST"===a){let n,s,a,o=e.body?.action;if("string"!=typeof o||"authenticate"!==o&&"register"!==o)throw new d("Invalid action parameter");let l=so(t);switch(o){case"authenticate":{let t=await si(l,e,i);n=t.user,s=t.account;break}case"register":{let r=await sn(t,e,i);n=r.user,s=r.account,a=r.authenticator}}await sh({user:n,account:s},t);let{user:c,isNewUser:u,session:m,account:b}=await id(r.value,n,s,t);if(!b)throw new d("Error creating or finding account");if(a&&c.id&&await l.adapter.createAuthenticator({...a,userId:c.id}),x){let e={name:c.name,email:c.email,picture:c.image,sub:c.id?.toString()},n=await y.jwt({token:e,user:c,account:b,isNewUser:u,trigger:u?"signUp":"signIn"});if(null===n)i.push(...r.clean());else{let e=t.cookies.sessionToken.name,s=await p.encode({...p,token:n,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*v);let o=r.chunk(s,{expires:a});i.push(...o)}}else i.push({name:t.cookies.sessionToken.name,value:m.sessionToken,options:{...t.cookies.sessionToken.options,expires:m.expires}});if(await g.signIn?.({user:c,account:b,isNewUser:u}),u&&f.newUser)return{redirect:`${f.newUser}${f.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:h})}`,cookies:i};return{redirect:h,cookies:i}}throw new I(`Callback for provider type (${l.type}) is not supported`)}catch(t){if(t instanceof d)throw t;let e=new m(t,{provider:l.id});throw _.debug("callback route error details",{method:a,query:n,body:s}),e}}async function sh(e,t){let r,{signIn:i,redirect:n}=t.callbacks;try{r=await i(e)}catch(e){if(e instanceof d)throw e;throw new p(e)}if(!r)throw new p("AccessDenied");if("string"==typeof r)return await n({url:r,baseUrl:t.url.origin})}async function sf(e,t,r,i,n){let{adapter:s,jwt:a,events:o,callbacks:l,logger:c,session:{strategy:u,maxAge:d}}=e,h={body:null,headers:{"Content-Type":"application/json",...!i&&{"Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"}},cookies:r},f=t.value;if(!f)return h;if("jwt"===u){try{let r=e.cookies.sessionToken.name,s=await a.decode({...a,token:f,salt:r});if(!s)throw Error("Invalid JWT");let c=await l.jwt({token:s,...i&&{trigger:"update"},session:n}),u=iu(d);if(null!==c){let e={user:{name:c.name,email:c.email,image:c.picture},expires:u.toISOString()},i=await l.session({session:e,token:c});h.body=i;let n=await a.encode({...a,token:c,salt:r}),s=t.chunk(n,{expires:u});h.cookies?.push(...s),await o.session?.({session:i,token:c})}else h.cookies?.push(...t.clean())}catch(e){c.error(new x(e)),h.cookies?.push(...t.clean())}return h}try{let{getSessionAndUser:r,deleteSession:a,updateSession:c}=s,u=await r(f);if(u&&u.session.expires.valueOf()<Date.now()&&(await a(f),u=null),u){let{user:t,session:r}=u,s=e.session.updateAge,a=r.expires.valueOf()-1e3*d+1e3*s,p=iu(d);a<=Date.now()&&await c({sessionToken:f,expires:p});let m=await l.session({session:{...r,user:t},user:t,newSession:n,...i?{trigger:"update"}:{}});h.body=m,h.cookies?.push({name:e.cookies.sessionToken.name,value:f,options:{...e.cookies.sessionToken.options,expires:p}}),await o.session?.({session:m})}else f&&h.cookies?.push(...t.clean())}catch(e){c.error(new N(e))}return h}async function sp(e,t){let r,i,{logger:n,provider:s}=t,a=s.authorization?.url;if(!a||"authjs.dev"===a.host){let e=new URL(s.issuer),t=await i$(e,{[iv]:s[re],[iy]:!0}),r=await iD(e,t).catch(t=>{if(!(t instanceof TypeError)||"Invalid URL"!==t.message)throw t;throw TypeError(`Discovery request responded with an invalid issuer. expected: ${e}`)});if(!r.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");a=new URL(r.authorization_endpoint)}let o=a.searchParams,l=s.callbackUrl;!t.isOnRedirectProxy&&s.redirectProxyUrl&&(l=s.redirectProxyUrl,i=s.callbackUrl,n.debug("using redirect proxy",{redirect_uri:l,data:i}));let c=Object.assign({response_type:"code",client_id:s.clientId,redirect_uri:l,...s.authorization?.params},Object.fromEntries(s.authorization?.url.searchParams??[]),e);for(let e in c)o.set(e,c[e]);let u=[];s.authorization?.url.searchParams.get("response_mode")==="form_post"&&(t.cookies.state.options.sameSite="none",t.cookies.state.options.secure=!0,t.cookies.nonce.options.sameSite="none",t.cookies.nonce.options.secure=!0);let d=await n4.create(t,i);if(d&&(o.set("state",d.value),u.push(d.cookie)),s.checks?.includes("pkce"))if(r&&!r.code_challenge_methods_supported?.includes("S256"))"oidc"===s.type&&(s.checks=["nonce"]);else{let{value:e,cookie:r}=await n2.create(t);o.set("code_challenge",e),o.set("code_challenge_method","S256"),u.push(r)}let h=await n6.create(t);return h&&(o.set("nonce",h.value),u.push(h.cookie)),"oidc"!==s.type||a.searchParams.has("scope")||a.searchParams.set("scope","openid profile email"),n.debug("authorization url is ready",{url:a,cookies:u,provider:s}),{redirect:a.toString(),cookies:u}}async function sm(e,t){let r,{body:i}=e,{provider:n,callbacks:s,adapter:a}=t,o=(n.normalizeIdentifier??function(e){if(!e)throw Error("Missing email from request body.");let[t,r]=e.toLowerCase().trim().split("@");return r=r.split(",")[0],`${t}@${r}`})(i?.email),l={id:crypto.randomUUID(),email:o,emailVerified:null},c=await a.getUserByEmail(o)??l,u={providerAccountId:o,userId:c.id,type:"email",provider:n.id};try{r=await s.signIn({user:c,account:u,email:{verificationRequest:!0}})}catch(e){throw new p(e)}if(!r)throw new p("AccessDenied");if("string"==typeof r)return{redirect:await s.redirect({url:r,baseUrl:t.url.origin})};let{callbackUrl:d,theme:h}=t,f=await n.generateVerificationToken?.()??t5(32),m=new Date(Date.now()+(n.maxAge??86400)*1e3),g=n.secret??t.secret,y=new URL(t.basePath,t.url.origin),b=n.sendVerificationRequest({identifier:o,token:f,expires:m,url:`${y}/callback/${n.id}?${new URLSearchParams({callbackUrl:d,token:f,email:o})}`,provider:n,theme:h,request:new Request(e.url,{headers:e.headers,method:e.method,body:"POST"===e.method?JSON.stringify(e.body??{}):void 0})}),w=a.createVerificationToken?.({identifier:o,token:await t2(`${f}${g}`),expires:m});return await Promise.all([b,w]),{redirect:`${y}/verify-request?${new URLSearchParams({provider:n.id,type:n.type})}`}}async function sg(e,t,r){let i=`${r.url.origin}${r.basePath}/signin`;if(!r.provider)return{redirect:i,cookies:t};switch(r.provider.type){case"oauth":case"oidc":{let{redirect:i,cookies:n}=await sp(e.query,r);return n&&t.push(...n),{redirect:i,cookies:t}}case"email":return{...await sm(e,r),cookies:t};default:return{redirect:i,cookies:t}}}async function sy(e,t,r){let{jwt:i,events:n,callbackUrl:s,logger:a,session:o}=r,l=t.value;if(!l)return{redirect:s,cookies:e};try{if("jwt"===o.strategy){let e=r.cookies.sessionToken.name,t=await i.decode({...i,token:l,salt:e});await n.signOut?.({token:t})}else{let e=await r.adapter?.deleteSession(l);await n.signOut?.({session:e})}}catch(e){a.error(new R(e))}return e.push(...t.clean()),{redirect:s,cookies:e}}async function sb(e,t){let{adapter:r,jwt:i,session:{strategy:n}}=e,s=t.value;if(!s)return null;if("jwt"===n){let t=e.cookies.sessionToken.name,r=await i.decode({...i,token:s,salt:t});if(r&&r.sub)return{id:r.sub,name:r.name,email:r.email,image:r.picture}}else{let e=await r?.getSessionAndUser(s);if(e)return e.user}return null}async function sw(e,t,r,i){let n=so(t),{provider:s}=n,{action:a}=e.query??{};if("register"!==a&&"authenticate"!==a&&void 0!==a)return{status:400,body:{error:"Invalid action"},cookies:i,headers:{"Content-Type":"application/json"}};let o=await sb(t,r),l=o?{user:o,exists:!0}:await s.getUserInfo(t,e),c=l?.user;switch(function(e,t,r){let{user:i,exists:n=!1}=r??{};switch(e){case"authenticate":return"authenticate";case"register":if(i&&t===n)return"register";break;case void 0:if(!t)if(!i)return"authenticate";else if(n)return"authenticate";else return"register"}return null}(a,!!o,l)){case"authenticate":return sr(n,e,c,i);case"register":if("string"==typeof c?.email)return st(n,e,c,i);break;default:return{status:400,body:{error:"Invalid request"},cookies:i,headers:{"Content-Type":"application/json"}}}}async function sv(e,t){let{action:r,providerId:i,error:n,method:s}=e,a=t.skipCSRFCheck===t8,{options:o,cookies:l}=await ro({authOptions:t,action:r,providerId:i,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:"POST"===s,csrfDisabled:a}),c=new u(o.cookies.sessionToken,e.cookies,o.logger);if("GET"===s){let t=ic({...o,query:e.query,cookies:l});switch(r){case"callback":return await sd(e,o,c,l);case"csrf":return t.csrf(a,o,l);case"error":return t.error(n);case"providers":return t.providers(o.providers);case"session":return await sf(o,c,l);case"signin":return t.signin(i,n);case"signout":return t.signout();case"verify-request":return t.verifyRequest();case"webauthn-options":return await sw(e,o,c,l)}}else{let{csrfTokenVerified:t}=o;switch(r){case"callback":return"credentials"===o.provider.type&&t6(r,t),await sd(e,o,c,l);case"session":return t6(r,t),await sf(o,c,l,!0,e.body?.data);case"signin":return t6(r,t),await sg(e,l,o);case"signout":return t6(r,t),await sy(l,c,o)}}throw new O(`Cannot handle action: ${r}`)}function s_(e,t,r,i,n){let s,a=n?.basePath,o=i.AUTH_URL??i.NEXTAUTH_URL;if(o)s=new URL(o),a&&"/"!==a&&"/"!==s.pathname&&(s.pathname!==a&&tJ(n).warn("env-url-basepath-mismatch"),s.pathname="/");else{let e=r.get("x-forwarded-host")??r.get("host"),i=r.get("x-forwarded-proto")??t??"https",n=i.endsWith(":")?i:i+":";s=new URL(`${n}//${e}`)}let l=s.toString().replace(/\/$/,"");if(a){let t=a?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${l}/${t}/${e}`)}return new URL(`${l}/${e}`)}async function sx(e,t){let r=tJ(t),i=await t0(e,t);if(!i)return Response.json("Bad request.",{status:400});let n=function(e,t){let{url:r}=e,i=[];if(!Q&&t.debug&&i.push("debug-enabled"),!t.trustHost)return new $(`Host must be trusted. URL was: ${e.url}`);if(!t.secret?.length)return new A("Please define a `secret`");let n=e.query?.callbackUrl;if(n&&!F(n,r.origin))return new b(`Invalid callback URL. Received: ${n}`);let{callbackUrl:s}=c(t.useSecureCookies??"https:"===r.protocol),a=e.cookies?.[t.cookies?.callbackUrl?.name??s.name];if(a&&!F(a,r.origin))return new b(`Invalid callback URL. Received: ${a}`);let o=!1;for(let e of t.providers){let t="function"==typeof e?e():e;if(("oauth"===t.type||"oidc"===t.type)&&!(t.issuer??t.options?.issuer)){let e,{authorization:r,token:i,userinfo:n}=t;if("string"==typeof r||r?.url?"string"==typeof i||i?.url?"string"==typeof n||n?.url||(e="userinfo"):e="token":e="authorization",e)return new v(`Provider "${t.id}" is missing both \`issuer\` and \`${e}\` endpoint config. At least one of them is required`)}if("credentials"===t.type)V=!0;else if("email"===t.type)W=!0;else if("webauthn"===t.type){var l;if(z=!0,t.simpleWebAuthnBrowserVersion&&(l=t.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(l)))return new d(`Invalid provider config for "${t.id}": simpleWebAuthnBrowserVersion "${t.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(t.enableConditionalUI){if(o)return new M("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(o=!0,!Object.values(t.formFields).some(e=>e.autocomplete&&e.autocomplete.toString().indexOf("webauthn")>-1))return new U(`Provider "${t.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(V){let e=t.session?.strategy==="database",r=!t.providers.some(e=>"credentials"!==("function"==typeof e?e():e).type);if(e&&r)return new q("Signing in with credentials only supported if JWT strategy is enabled");if(t.providers.some(e=>{let t="function"==typeof e?e():e;return"credentials"===t.type&&!t.authorize}))return new E("Must define an authorize() handler to use credentials authentication provider")}let{adapter:u,session:h}=t,f=[];if(W||h?.strategy==="database"||!h?.strategy&&u)if(W){if(!u)return new S("Email login requires an adapter");f.push(...J)}else{if(!u)return new S("Database session requires an adapter");f.push(...Z)}if(z){if(!t.experimental?.enableWebAuthn)return new H("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(i.push("experimental-webauthn"),!u)return new S("WebAuthn requires an adapter");f.push(...G)}if(u){let e=f.filter(e=>!(e in u));if(e.length)return new T(`Required adapter methods were missing: ${e.join(", ")}`)}return Q||(Q=!0),i}(i,t);if(Array.isArray(n))n.forEach(r.warn);else if(n){if(r.error(n),!new Set(["signin","signout","error","verify-request"]).has(i.action)||"GET"!==i.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:e,theme:s}=t,a=e?.error&&i.url.searchParams.get("callbackUrl")?.startsWith(e.error);if(!e?.error||a)return a&&r.error(new g(`The error page ${e?.error} should not require authentication`)),t1(ic({theme:s}).error("Configuration"));let o=`${i.url.origin}${e.error}?error=Configuration`;return Response.redirect(o)}let s=e.headers?.has("X-Auth-Return-Redirect"),a=t.raw===t7;try{let e=await sv(i,t);if(a)return e;let r=t1(e),n=r.headers.get("Location");if(!s||!n)return r;return Response.json({url:n},{headers:r.headers})}catch(h){r.error(h);let n=h instanceof d;if(n&&a&&!s)throw h;if("POST"===e.method&&"session"===i.action)return Response.json(null,{status:400});let o=new URLSearchParams({error:h instanceof d&&D.has(h.type)?h.type:"Configuration"});h instanceof w&&o.set("code",h.code);let l=n&&h.kind||"error",c=t.pages?.[l]??`${t.basePath}/${l.toLowerCase()}`,u=`${i.url.origin}${c}?${o}`;if(s)return Response.json({url:u});return Response.redirect(u)}}var sS=e.i(89171);function sT(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:r}=new URL(t),{href:i,origin:n}=e.nextUrl;return new sS.NextRequest(i.replace(n,r),e)}function sE(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:r}=new URL(t);if("/"===r)return;e.basePath||(e.basePath=r)}catch{}finally{e.basePath||(e.basePath="/api/auth"),function(e,t,r=!1){try{let i=e.AUTH_URL;i&&(t.basePath?r||tJ(t).warn("env-url-basepath-redundant"):t.basePath=new URL(i).pathname)}catch{}finally{t.basePath??(t.basePath="/auth")}if(!t.secret?.length){t.secret=[];let r=e.AUTH_SECRET;for(let i of(r&&t.secret.push(r),[1,2,3])){let r=e[`AUTH_SECRET_${i}`];r&&t.secret.unshift(r)}}t.redirectProxyUrl??(t.redirectProxyUrl=e.AUTH_REDIRECT_PROXY_URL),t.trustHost??(t.trustHost=!!(e.AUTH_URL??e.AUTH_TRUST_HOST??e.VERCEL??e.CF_PAGES??"production"!==e.NODE_ENV)),t.providers=t.providers.map(t=>{let{id:r}="function"==typeof t?t({}):t,i=r.toUpperCase().replace(/-/g,"_"),n=e[`AUTH_${i}_ID`],s=e[`AUTH_${i}_SECRET`],a=e[`AUTH_${i}_ISSUER`],o=e[`AUTH_${i}_KEY`],l="function"==typeof t?t({clientId:n,clientSecret:s,issuer:a,apiKey:o}):t;return"oauth"===l.type||"oidc"===l.type?(l.clientId??(l.clientId=n),l.clientSecret??(l.clientSecret=s),l.issuer??(l.issuer=a)):"email"===l.type&&(l.apiKey??(l.apiKey=o)),l})}(process.env,e,!0)}}var sA=e.i(93458);async function sC(e,t){return sx(new Request(s_("session",e.get("x-forwarded-proto"),e,process.env,t),{headers:{cookie:e.get("cookie")??""}}),{...t,callbacks:{...t.callbacks,async session(...e){let r=await t.callbacks?.session?.(...e)??{...e[0].session,expires:e[0].session.expires?.toISOString?.()??e[0].session.expires};return{user:e[0].user??e[0].token,...r}}}})}function sP(e){return"function"==typeof e}function sk(e,t){return"function"==typeof e?async(...r)=>{if(!r.length){let r=await (0,sA.headers)(),i=await e(void 0);return t?.(i),sC(r,i).then(e=>e.json())}if(r[0]instanceof Request){let i=r[0],n=r[1],s=await e(i);return t?.(s),sN([i,n],s)}if(sP(r[0])){let i=r[0];return async(...r)=>{let n=await e(r[0]);return t?.(n),sN(r,n,i)}}let i="req"in r[0]?r[0].req:r[0],n="res"in r[0]?r[0].res:r[1],s=await e(i);return t?.(s),sC(new Headers(i.headers),s).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in n?n.headers.append("set-cookie",t):n.appendHeader("set-cookie",t);return t})}:(...t)=>{if(!t.length)return Promise.resolve((0,sA.headers)()).then(t=>sC(t,e).then(e=>e.json()));if(t[0]instanceof Request)return sN([t[0],t[1]],e);if(sP(t[0])){let r=t[0];return async(...t)=>sN(t,e,r).then(e=>e)}let r="req"in t[0]?t[0].req:t[0],i="res"in t[0]?t[0].res:t[1];return sC(new Headers(r.headers),e).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",t):i.appendHeader("set-cookie",t);return t})}}async function sN(e,t,r){let i=sT(e[0]),n=await sC(i.headers,t),s=await n.json(),a=!0;t.callbacks?.authorized&&(a=await t.callbacks.authorized({request:i,auth:s}));let o=sS.NextResponse.next?.();if(a instanceof Response){var l,c,u;let e,r;o=a;let n=a.headers.get("Location"),{pathname:s}=i.nextUrl;n&&(l=s,c=new URL(n).pathname,u=t,e=c.replace(`${l}/`,""),r=Object.values(u.pages??{}),(sR.has(e)||r.includes(c))&&c===l)&&(a=!0)}else if(r)i.auth=s,o=await r(i,e[1])??sS.NextResponse.next();else if(!a){let e=t.pages?.signIn??`${t.basePath}/signin`;if(i.nextUrl.pathname!==e){let t=i.nextUrl.clone();t.pathname=e,t.searchParams.set("callbackUrl",i.nextUrl.href),o=sS.NextResponse.redirect(t)}}let d=new Response(o?.body,o);for(let e of n.headers.getSetCookie())d.headers.append("set-cookie",e);return d}let sR=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var sO=e.i(79509);async function sq(e,t={},r,i){let n=new Headers(await (0,sA.headers)()),{redirect:s=!0,redirectTo:a,...o}=t instanceof FormData?Object.fromEntries(t):t,l=a?.toString()??n.get("Referer")??"/",c=s_("signin",n.get("x-forwarded-proto"),n,process.env,i);if(!e)return c.searchParams.append("callbackUrl",l),s&&(0,sO.redirect)(c.toString()),c.toString();let u=`${c}/${e}?${new URLSearchParams(r)}`,d={};for(let t of i.providers){let{options:r,...i}="function"==typeof t?t():t,n=r?.id??i.id;if(n===e){d={id:n,type:r?.type??i.type};break}}if(!d.id){let e=`${c}?${new URLSearchParams({callbackUrl:l})}`;return s&&(0,sO.redirect)(e),e}"credentials"===d.type&&(u=u.replace("signin","callback")),n.set("Content-Type","application/x-www-form-urlencoded");let h=new Request(u,{method:"POST",headers:n,body:new URLSearchParams({...o,callbackUrl:l})}),f=await sx(h,{...i,raw:t7,skipCSRFCheck:t8}),p=await (0,sA.cookies)();for(let e of f?.cookies??[])p.set(e.name,e.value,e.options);let m=(f instanceof Response?f.headers.get("Location"):f.redirect)??u;return s?(0,sO.redirect)(m):m}async function sI(e,t){let r=new Headers(await (0,sA.headers)());r.set("Content-Type","application/x-www-form-urlencoded");let i=s_("signout",r.get("x-forwarded-proto"),r,process.env,t),n=new URLSearchParams({callbackUrl:e?.redirectTo??r.get("Referer")??"/"}),s=new Request(i,{method:"POST",headers:r,body:n}),a=await sx(s,{...t,raw:t7,skipCSRFCheck:t8}),o=await (0,sA.cookies)();for(let e of a?.cookies??[])o.set(e.name,e.value,e.options);return e?.redirect??!0?(0,sO.redirect)(a.redirect):a}async function s$(e,t){let r=new Headers(await (0,sA.headers)());r.set("Content-Type","application/json");let i=new Request(s_("session",r.get("x-forwarded-proto"),r,process.env,t),{method:"POST",headers:r,body:JSON.stringify({data:e})}),n=await sx(i,{...t,raw:t7,skipCSRFCheck:t8}),s=await (0,sA.cookies)();for(let e of n?.cookies??[])s.set(e.name,e.value,e.options);return n.body}function sj(e){if("function"==typeof e){let t=async t=>{let r=await e(t);return sE(r),sx(sT(t),r)};return{handlers:{GET:t,POST:t},auth:sk(e,e=>sE(e)),signIn:async(t,r,i)=>{let n=await e(void 0);return sE(n),sq(t,r,i,n)},signOut:async t=>{let r=await e(void 0);return sE(r),sI(t,r)},unstable_update:async t=>{let r=await e(void 0);return sE(r),s$(t,r)}}}sE(e);let t=t=>sx(sT(t),e);return{handlers:{GET:t,POST:t},auth:sk(e),signIn:(t,r,i)=>sq(t,r,i,e),signOut:t=>sI(t,e),unstable_update:t=>s$(t,e)}}e.s(["default",()=>sj],27553)},26727,e=>{"use strict";function t(e){return{id:"google",name:"Google",type:"oidc",issuer:"https://accounts.google.com",style:{brandColor:"#1a73e8"},options:e}}e.s(["default",()=>t])},70429,e=>{"use strict";e.i(26727),e.s([])},43755,e=>{"use strict";function t(e){return{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:e}}e.s(["default",()=>t])},49969,e=>{"use strict";e.i(43755),e.s([])},44988,e=>{"use strict";let t=Symbol.for("drizzle:entityKind");function r(e,r){if(!e||"object"!=typeof e)return!1;if(e instanceof r)return!0;if(!Object.prototype.hasOwnProperty.call(r,t))throw Error(`Class "${r.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let i=Object.getPrototypeOf(e).constructor;if(i)for(;i;){if(t in i&&i[t]===r[t])return!0;i=Object.getPrototypeOf(i)}return!1}Symbol.for("drizzle:hasOwnEntityKind"),e.s(["entityKind",()=>t,"is",()=>r])},49507,22360,e=>{"use strict";let t,r;function i(e,...t){return e(...t)}e.s(["iife",()=>i],49507);let n={startActiveSpan:(e,n)=>t?(r||(r=t.trace.getTracer("drizzle-orm","0.39.3")),i((t,r)=>r.startActiveSpan(e,e=>{try{return n(e)}catch(r){throw e.setStatus({code:t.SpanStatusCode.ERROR,message:r instanceof Error?r.message:"Unknown error"}),r}finally{e.end()}}),t,r)):n()};e.s(["tracer",()=>n],22360)},56325,43179,833,4775,31779,92352,88274,69e3,18899,e=>{"use strict";var t,r=e.i(44988);class i{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static [r.entityKind]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}e.s(["Column",()=>i],56325);class n{static [r.entityKind]="ColumnBuilder";config;constructor(e,t,r){this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}e.s(["ColumnBuilder",()=>n],43179);let s=Symbol.for("drizzle:Name");e.s(["TableName",()=>s],833);class a{static [r.entityKind]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:r,foreignColumns:i}=e();return{name:t,columns:r,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new o(e,this)}}class o{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [r.entityKind]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:r}=this.reference(),i=t.map(e=>e.name),n=r.map(e=>e.name),a=[this.table[s],...i,r[0].table[s],...n];return e??`${a.join("_")}_fk`}}var l=e.i(49507);function c(e,t){return`${e[s]}_${t.join("_")}_unique`}class u{constructor(e,t){this.name=t,this.columns=e}static [r.entityKind]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new h(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class d{static [r.entityKind]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new u(e,this.name)}}class h{constructor(e,t,r,i){this.table=e,this.columns=t,this.name=i??c(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=r}static [r.entityKind]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}function f(e,t,r){for(let i=t;i<e.length;i++){let n=e[i];if("\\"===n){i++;continue}if('"'===n)return[e.slice(t,i).replace(/\\/g,""),i+1];if(!r&&(","===n||"}"===n))return[e.slice(t,i).replace(/\\/g,""),i]}return[e.slice(t).replace(/\\/g,""),e.length]}class p extends n{foreignKeyConfigs=[];static [r.entityKind]="PgColumnBuilder";array(e){return new b(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:r,actions:i})=>(0,l.iife)((r,i)=>{let n=new a(()=>({columns:[e],foreignColumns:[r()]}));return i.onUpdate&&n.onUpdate(i.onUpdate),i.onDelete&&n.onDelete(i.onDelete),n.build(t)},r,i))}buildExtraConfigColumn(e){return new g(e,this.config)}}class m extends i{constructor(e,t){t.uniqueName||(t.uniqueName=c(e,[t.name])),super(e,t),this.table=e}static [r.entityKind]="PgColumn"}class g extends m{static [r.entityKind]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class y{static [r.entityKind]="IndexedColumn";constructor(e,t,r,i){this.name=e,this.keyAsName=t,this.type=r,this.indexConfig=i}name;keyAsName;type;indexConfig}class b extends p{static [r.entityKind]="PgArrayBuilder";constructor(e,t,r){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=r}build(e){let t=this.config.baseBuilder.build(e);return new w(e,this.config,t)}}class w extends m{constructor(e,t,r,i){super(e,t),this.baseColumn=r,this.range=i,this.size=t.size}size;static [r.entityKind]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=function(e){let[t]=function e(t,r=0){let i=[],n=r,s=!1;for(;n<t.length;){let a=t[n];if(","===a){(s||n===r)&&i.push(""),s=!0,n++;continue}if(s=!1,"\\"===a){n+=2;continue}if('"'===a){let[e,r]=f(t,n+1,!0);i.push(e),n=r;continue}if("}"===a)return[i,n+1];if("{"===a){let[r,s]=e(t,n+1);i.push(r),n=s;continue}let[o,l]=f(t,n,!1);i.push(o),n=l}return[i,n]}(e,1);return t}(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,t=!1){let i=e.map(e=>null===e?null:(0,r.is)(this.baseColumn,w)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return t?i:function e(t){return`{${t.map(t=>Array.isArray(t)?e(t):"string"==typeof t?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}(i)}}e.s(["IndexedColumn",()=>y,"PgColumn",()=>m,"PgColumnBuilder",()=>p],4775);let v=Symbol.for("drizzle:isPgEnum");function _(e){return!!e&&"function"==typeof e&&v in e&&!0===e[v]}class x extends p{static [r.entityKind]="PgEnumColumnBuilder";constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new S(e,this.config)}}class S extends m{static [r.entityKind]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}function T(e,t){let r;return r=Object.assign(e=>new x(e??"",r),{enumName:e,enumValues:t,schema:void 0,[v]:!0})}e.s(["isPgEnum",()=>_,"pgEnum",()=>T],31779);class E{static [r.entityKind]="Subquery";constructor(e,t,r,i=!1){this._={brand:"Subquery",sql:e,selectedFields:t,alias:r,isWith:i}}}class A extends E{static [r.entityKind]="WithSubquery"}e.s(["Subquery",()=>E,"WithSubquery",()=>A],92352);var C=e.i(22360);let P=Symbol.for("drizzle:ViewBaseConfig");e.s(["ViewBaseConfig",()=>P],88274);let k=Symbol.for("drizzle:Schema"),N=Symbol.for("drizzle:Columns"),R=Symbol.for("drizzle:ExtraConfigColumns"),O=Symbol.for("drizzle:OriginalName"),q=Symbol.for("drizzle:BaseName"),I=Symbol.for("drizzle:IsAlias"),$=Symbol.for("drizzle:ExtraConfigBuilder"),j=Symbol.for("drizzle:IsDrizzleTable");class L{static [r.entityKind]="Table";static Symbol={Name:s,Schema:k,OriginalName:O,Columns:N,ExtraConfigColumns:R,BaseName:q,IsAlias:I,ExtraConfigBuilder:$};[s];[O];[k];[N];[R];[q];[I]=!1;[j]=!0;[$]=void 0;constructor(e,t,r){this[s]=this[O]=e,this[k]=t,this[q]=r}}function D(e){return e[s]}function M(e){return`${e[k]??"public"}.${e[s]}`}e.s(["Columns",()=>N,"IsAlias",()=>I,"Table",()=>L,"getTableName",()=>D,"getTableUniqueName",()=>M],69e3);class U{static [r.entityKind]="FakePrimitiveParam"}function B(e){return null!=e&&"function"==typeof e.getSQL}class K{static [r.entityKind]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new H([this])}}class H{constructor(e){this.queryChunks=e}static [r.entityKind]="SQL";decoder=V;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return C.tracer.startActiveSpan("drizzle.buildSQL",t=>{let r=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,t){let n=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:s,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=n;var d=e.map(e=>{if((0,r.is)(e,K))return{sql:e.value.join(""),params:[]};if((0,r.is)(e,Q))return{sql:a(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new K("(")];for(let[r,i]of e.entries())t.push(i),r<e.length-1&&t.push(new K(", "));return t.push(new K(")")),this.buildQueryFromSourceParams(t,n)}if((0,r.is)(e,H))return this.buildQueryFromSourceParams(e.queryChunks,{...n,inlineParams:c||e.shouldInlineParams});if((0,r.is)(e,L)){let t=e[L.Symbol.Schema],r=e[L.Symbol.Name];return{sql:void 0===t||e[I]?a(r):a(t)+"."+a(r),params:[]}}if((0,r.is)(e,i)){let r=s.getColumnCasing(e);if("indexes"===t.invokeSource)return{sql:a(r),params:[]};let i=e.table[L.Symbol.Schema];return{sql:e.table[I]||void 0===i?a(e.table[L.Symbol.Name])+"."+a(r):a(i)+"."+a(e.table[L.Symbol.Name])+"."+a(r),params:[]}}if((0,r.is)(e,et)){let t=e[P].schema,r=e[P].name;return{sql:void 0===t||e[P].isAlias?a(r):a(t)+"."+a(r),params:[]}}if((0,r.is)(e,z)){if((0,r.is)(e.value,X))return{sql:o(u.value++,e),params:[e],typings:["none"]};let t=null===e.value?null:e.encoder.mapToDriverValue(e.value);if((0,r.is)(t,H))return this.buildQueryFromSourceParams([t],n);if(c)return{sql:this.mapInlineParam(t,n),params:[]};let i=["none"];return l&&(i=[l(e.encoder)]),{sql:o(u.value++,t),params:[t],typings:i}}return(0,r.is)(e,X)?{sql:o(u.value++,e),params:[e],typings:["none"]}:(0,r.is)(e,H.Aliased)&&void 0!==e.fieldAlias?{sql:a(e.fieldAlias),params:[]}:(0,r.is)(e,E)?e._.isWith?{sql:a(e._.alias),params:[]}:this.buildQueryFromSourceParams([new K("("),e._.sql,new K(") "),new Q(e._.alias)],n):_(e)?e.schema?{sql:a(e.schema)+"."+a(e.enumName),params:[]}:{sql:a(e.enumName),params:[]}:B(e)?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],n):this.buildQueryFromSourceParams([new K("("),e.getSQL(),new K(")")],n):c?{sql:this.mapInlineParam(e,n),params:[]}:{sql:o(u.value++,e),params:[e],typings:["none"]}});let h={sql:"",params:[]};for(let e of d)h.sql+=e.sql,h.params.push(...e.params),e.typings?.length&&(h.typings||(h.typings=[]),h.typings.push(...e.typings));return h}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let r=e.toString();return"[object Object]"===r?t(JSON.stringify(e)):t(r)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new H.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class Q{constructor(e){this.value=e}static [r.entityKind]="Name";brand;getSQL(){return new H([this])}}function F(e){return"object"==typeof e&&null!==e&&"mapToDriverValue"in e&&"function"==typeof e.mapToDriverValue}let V={mapFromDriverValue:e=>e},W={mapToDriverValue:e=>e};({...V,...W});class z{constructor(e,t=W){this.value=e,this.encoder=t}static [r.entityKind]="Param";brand;getSQL(){return new H([this])}}function J(e,...t){let r=[];for(let[i,n]of((t.length>0||e.length>0&&""!==e[0])&&r.push(new K(e[0])),t.entries()))r.push(n,new K(e[i+1]));return new H(r)}(t=J||(J={})).empty=function(){return new H([])},t.fromList=function(e){return new H(e)},t.raw=function(e){return new H([new K(e)])},t.join=function(e,t){let r=[];for(let[i,n]of e.entries())i>0&&void 0!==t&&r.push(t),r.push(n);return new H(r)},t.identifier=function(e){return new Q(e)},t.placeholder=function(e){return new X(e)},t.param=function(e,t){return new z(e,t)};var Z=H||(H={});class G{constructor(e,t){this.sql=e,this.fieldAlias=t}static [r.entityKind]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new G(this.sql,this.fieldAlias)}}Z.Aliased=G;class X{constructor(e){this.name=e}static [r.entityKind]="Placeholder";getSQL(){return new H([this])}}function Y(e,t){return e.map(e=>{if((0,r.is)(e,X)){if(!(e.name in t))throw Error(`No value for placeholder "${e.name}" was provided`);return t[e.name]}if((0,r.is)(e,z)&&(0,r.is)(e.value,X)){if(!(e.value.name in t))throw Error(`No value for placeholder "${e.value.name}" was provided`);return e.encoder.mapToDriverValue(t[e.value.name])}return e})}let ee=Symbol.for("drizzle:IsDrizzleView");class et{static [r.entityKind]="View";[P];[ee]=!0;constructor({name:e,schema:t,selectedFields:r,query:i}){this[P]={name:e,originalName:e,schema:t,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new H([this])}}i.prototype.getSQL=function(){return new H([this])},L.prototype.getSQL=function(){return new H([this])},E.prototype.getSQL=function(){return new H([this])},e.s(["Param",()=>z,"Placeholder",()=>X,"SQL",()=>H,"StringChunk",()=>K,"View",()=>et,"fillPlaceholders",()=>Y,"isDriverValueEncoder",()=>F,"isSQLWrapper",()=>B,"sql",()=>J],18899)},4313,e=>{"use strict";var t=e.i(56325),r=e.i(44988),i=e.i(18899),n=e.i(92352),s=e.i(69e3),a=e.i(88274);function o(e,n,a){let o={},l=e.reduce((e,{path:l,field:c},u)=>{let d;d=(0,r.is)(c,t.Column)?c:(0,r.is)(c,i.SQL)?c.decoder:c.sql.decoder;let h=e;for(let[e,i]of l.entries())if(e<l.length-1)i in h||(h[i]={}),h=h[i];else{let e=n[u],f=h[i]=null===e?null:d.mapFromDriverValue(e);if(a&&(0,r.is)(c,t.Column)&&2===l.length){let e=l[0];e in o?"string"==typeof o[e]&&o[e]!==(0,s.getTableName)(c.table)&&(o[e]=!1):o[e]=null===f&&(0,s.getTableName)(c.table)}}return e},{});if(a&&Object.keys(o).length>0)for(let[e,t]of Object.entries(o))"string"!=typeof t||a[t]||(l[e]=null);return l}function l(e,t){let r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(let[e,t]of r.entries())if(t!==i[e])return!1;return!0}function c(e,n){let a=Object.entries(n).filter(([,e])=>void 0!==e).map(([n,a])=>(0,r.is)(a,i.SQL)||(0,r.is)(a,t.Column)?[n,a]:[n,new i.Param(a,e[s.Table.Symbol.Columns][n])]);if(0===a.length)throw Error("No values to set");return Object.fromEntries(a)}function u(e,t){for(let r of t)for(let t of Object.getOwnPropertyNames(r.prototype))"constructor"!==t&&Object.defineProperty(e.prototype,t,Object.getOwnPropertyDescriptor(r.prototype,t)||Object.create(null))}function d(e){return e[s.Table.Symbol.Columns]}function h(e){return(0,r.is)(e,n.Subquery)?e._.alias:(0,r.is)(e,i.View)?e[a.ViewBaseConfig].name:(0,r.is)(e,i.SQL)?void 0:e[s.Table.Symbol.IsAlias]?e[s.Table.Symbol.Name]:e[s.Table.Symbol.BaseName]}function f(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}function p(e){if("object"!=typeof e||null===e||"Object"!==e.constructor.name)return!1;if("logger"in e){let t=typeof e.logger;return"boolean"===t||"object"===t&&"function"==typeof e.logger.logQuery||"undefined"===t}if("schema"in e){let t=typeof e.logger;return"object"===t||"undefined"===t}if("casing"in e){let t=typeof e.logger;return"string"===t||"undefined"===t}if("mode"in e)return"default"===e.mode&&"planetscale"===e.mode&&void 0===e.mode;if("connection"in e){let t=typeof e.connection;return"string"===t||"object"===t||"undefined"===t}if("client"in e){let t=typeof e.client;return"object"===t||"function"===t||"undefined"===t}return 0===Object.keys(e).length}e.s(["applyMixins",()=>u,"getColumnNameAndConfig",()=>f,"getTableColumns",()=>d,"getTableLikeName",()=>h,"haveSameKeys",()=>l,"isConfig",()=>p,"mapResultRow",()=>o,"mapUpdateSet",()=>c,"orderSelectedFields",()=>function e(n,a){return Object.entries(n).reduce((n,[o,l])=>{if("string"!=typeof o)return n;let c=a?[...a,o]:[o];return(0,r.is)(l,t.Column)||(0,r.is)(l,i.SQL)||(0,r.is)(l,i.SQL.Aliased)?n.push({path:c,field:l}):(0,r.is)(l,s.Table)?n.push(...e(l[s.Table.Symbol.Columns],c)):n.push(...e(l,c)),n},[])}])},75225,e=>{"use strict";var t=e.i(56325),r=e.i(44988),i=e.i(69e3),n=e.i(18899);function s(e,s){return!(0,n.isDriverValueEncoder)(s)||(0,n.isSQLWrapper)(e)||(0,r.is)(e,n.Param)||(0,r.is)(e,n.Placeholder)||(0,r.is)(e,t.Column)||(0,r.is)(e,i.Table)||(0,r.is)(e,n.View)?e:new n.Param(e,s)}let a=(e,t)=>n.sql`${e} = ${s(t,e)}`,o=(e,t)=>n.sql`${e} <> ${s(t,e)}`;function l(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new n.SQL(1===t.length?t:[new n.StringChunk("("),n.sql.join(t,new n.StringChunk(" and ")),new n.StringChunk(")")])}function c(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new n.SQL(1===t.length?t:[new n.StringChunk("("),n.sql.join(t,new n.StringChunk(" or ")),new n.StringChunk(")")])}function u(e){return n.sql`not ${e}`}let d=(e,t)=>n.sql`${e} > ${s(t,e)}`,h=(e,t)=>n.sql`${e} >= ${s(t,e)}`,f=(e,t)=>n.sql`${e} < ${s(t,e)}`,p=(e,t)=>n.sql`${e} <= ${s(t,e)}`;function m(e,t){return Array.isArray(t)?0===t.length?n.sql`false`:n.sql`${e} in ${t.map(t=>s(t,e))}`:n.sql`${e} in ${s(t,e)}`}function g(e,t){return Array.isArray(t)?0===t.length?n.sql`true`:n.sql`${e} not in ${t.map(t=>s(t,e))}`:n.sql`${e} not in ${s(t,e)}`}function y(e){return n.sql`${e} is null`}function b(e){return n.sql`${e} is not null`}function w(e){return n.sql`exists ${e}`}function v(e){return n.sql`not exists ${e}`}function _(e,t,r){return n.sql`${e} between ${s(t,e)} and ${s(r,e)}`}function x(e,t,r){return n.sql`${e} not between ${s(t,e)} and ${s(r,e)}`}function S(e,t){return n.sql`${e} like ${t}`}function T(e,t){return n.sql`${e} not like ${t}`}function E(e,t){return n.sql`${e} ilike ${t}`}function A(e,t){return n.sql`${e} not ilike ${t}`}e.s(["and",()=>l,"between",()=>_,"eq",()=>a,"exists",()=>w,"gt",()=>d,"gte",()=>h,"ilike",()=>E,"inArray",()=>m,"isNotNull",()=>b,"isNull",()=>y,"like",()=>S,"lt",()=>f,"lte",()=>p,"ne",()=>o,"not",()=>u,"notBetween",()=>x,"notExists",()=>v,"notIlike",()=>A,"notInArray",()=>g,"notLike",()=>T,"or",()=>c])},79822,2847,56923,70988,1727,38257,48209,89705,84259,93486,3090,67751,23624,94093,44902,e=>{"use strict";var t=e.i(69e3),r=e.i(56325),i=e.i(44988),n=t,s=e.i(4313),a=e.i(4775),o=a;class l extends o.PgColumnBuilder{static [i.entityKind]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:t,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:t,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class c extends l{static [i.entityKind]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new u(e,this.config)}}class u extends a.PgColumn{static [i.entityKind]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class d extends l{static [i.entityKind]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new h(e,this.config)}}class h extends a.PgColumn{static [i.entityKind]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function f(e,t){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return"number"===i.mode?new c(r):new d(r)}var p=a;class m extends p.PgColumnBuilder{static [i.entityKind]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new g(e,this.config)}}class g extends p.PgColumn{static [i.entityKind]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class y extends p.PgColumnBuilder{static [i.entityKind]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new b(e,this.config)}}class b extends p.PgColumn{static [i.entityKind]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function w(e,t){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return"number"===i.mode?new m(r):new y(r)}var v=a;class _ extends v.PgColumnBuilder{static [i.entityKind]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new x(e,this.config)}}class x extends v.PgColumn{static [i.entityKind]="PgBoolean";getSQLType(){return"boolean"}}function S(e){return new _(e??"")}e.s(["boolean",()=>S],2847);var T=a;class E extends T.PgColumnBuilder{static [i.entityKind]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new A(e,this.config)}}class A extends T.PgColumn{static [i.entityKind]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function C(e,t={}){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return new E(r,i)}var P=a;class k extends P.PgColumnBuilder{static [i.entityKind]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new N(e,this.config)}}class N extends P.PgColumn{static [i.entityKind]="PgCidr";getSQLType(){return"cidr"}}function R(e){return new k(e??"")}var O=a;class q extends O.PgColumnBuilder{static [i.entityKind]="PgCustomColumnBuilder";constructor(e,t,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=r}build(e){return new I(e,this.config)}}class I extends O.PgColumn{static [i.entityKind]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function $(e){return(t,r)=>{let{name:i,config:n}=(0,s.getColumnNameAndConfig)(t,r);return new q(i,n,e)}}var j=a,L=e.i(18899),D=a;class M extends D.PgColumnBuilder{static [i.entityKind]="PgDateColumnBaseBuilder";defaultNow(){return this.default(L.sql`now()`)}}class U extends M{static [i.entityKind]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new B(e,this.config)}}class B extends j.PgColumn{static [i.entityKind]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class K extends M{static [i.entityKind]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new H(e,this.config)}}class H extends j.PgColumn{static [i.entityKind]="PgDateString";getSQLType(){return"date"}}function Q(e,t){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return i?.mode==="date"?new U(r):new K(r)}e.s(["PgDate",()=>B,"PgDateString",()=>H,"date",()=>Q],56923);var F=a;class V extends F.PgColumnBuilder{static [i.entityKind]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new W(e,this.config)}}class W extends F.PgColumn{static [i.entityKind]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function z(e){return new V(e??"")}var J=a;class Z extends J.PgColumnBuilder{static [i.entityKind]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new G(e,this.config)}}class G extends J.PgColumn{static [i.entityKind]="PgInet";getSQLType(){return"inet"}}function X(e){return new Z(e??"")}var Y=a;class ee extends l{static [i.entityKind]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new et(e,this.config)}}class et extends Y.PgColumn{static [i.entityKind]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function er(e){return new ee(e??"")}e.s(["integer",()=>er],70988);var ei=a;class en extends ei.PgColumnBuilder{static [i.entityKind]="PgIntervalBuilder";constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new es(e,this.config)}}class es extends ei.PgColumn{static [i.entityKind]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",t=this.precision?`(${this.precision})`:"";return`interval${e}${t}`}}function ea(e,t={}){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return new en(r,i)}var eo=a;class el extends eo.PgColumnBuilder{static [i.entityKind]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new ec(e,this.config)}}class ec extends eo.PgColumn{static [i.entityKind]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function eu(e){return new el(e??"")}e.s(["PgJson",()=>ec,"json",()=>eu],1727);var ed=a;class eh extends ed.PgColumnBuilder{static [i.entityKind]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new ef(e,this.config)}}class ef extends ed.PgColumn{static [i.entityKind]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function ep(e){return new eh(e??"")}e.s(["PgJsonb",()=>ef,"jsonb",()=>ep],38257);var em=a;class eg extends em.PgColumnBuilder{static [i.entityKind]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new ey(e,this.config)}}class ey extends em.PgColumn{static [i.entityKind]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[t,r,i]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class eb extends em.PgColumnBuilder{static [i.entityKind]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new ew(e,this.config)}}class ew extends em.PgColumn{static [i.entityKind]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[t,r,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function ev(e,t){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return i?.mode&&"tuple"!==i.mode?new eb(r):new eg(r)}var e_=a;class ex extends e_.PgColumnBuilder{static [i.entityKind]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new eS(e,this.config)}}class eS extends e_.PgColumn{static [i.entityKind]="PgMacaddr";getSQLType(){return"macaddr"}}function eT(e){return new ex(e??"")}var eE=a;class eA extends eE.PgColumnBuilder{static [i.entityKind]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new eC(e,this.config)}}class eC extends eE.PgColumn{static [i.entityKind]="PgMacaddr8";getSQLType(){return"macaddr8"}}function eP(e){return new eA(e??"")}var ek=a;class eN extends ek.PgColumnBuilder{static [i.entityKind]="PgNumericBuilder";constructor(e,t,r){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=r}build(e){return new eR(e,this.config)}}class eR extends ek.PgColumn{static [i.entityKind]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function eO(e,t){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return new eN(r,i?.precision,i?.scale)}e.s(["PgNumeric",()=>eR,"numeric",()=>eO],48209);var eq=a;class eI extends eq.PgColumnBuilder{static [i.entityKind]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new e$(e,this.config)}}class e$ extends eq.PgColumn{static [i.entityKind]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,r]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class ej extends eq.PgColumnBuilder{static [i.entityKind]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new eL(e,this.config)}}class eL extends eq.PgColumn{static [i.entityKind]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function eD(e,t){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return i?.mode&&"tuple"!==i.mode?new ej(r):new eI(r)}var eM=a;function eU(e,t){let r=new DataView(new ArrayBuffer(8));for(let i=0;i<8;i++)r.setUint8(i,e[t+i]);return r.getFloat64(0,!0)}function eB(e){let t=function(e){let t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}(e),r=0,i=t[0];r+=1;let n=new DataView(t.buffer),s=n.getUint32(r,1===i);if(r+=4,0x20000000&s&&(n.getUint32(r,1===i),r+=4),(65535&s)==1){let e=eU(t,r),i=eU(t,r+=8);return r+=8,[e,i]}throw Error("Unsupported geometry type")}class eK extends eM.PgColumnBuilder{static [i.entityKind]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new eH(e,this.config)}}class eH extends eM.PgColumn{static [i.entityKind]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return eB(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class eQ extends eM.PgColumnBuilder{static [i.entityKind]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new eF(e,this.config)}}class eF extends eM.PgColumn{static [i.entityKind]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let t=eB(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function eV(e,t){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return i?.mode&&"tuple"!==i.mode?new eQ(r):new eK(r)}var eW=a;class ez extends eW.PgColumnBuilder{static [i.entityKind]="PgRealBuilder";constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new eJ(e,this.config)}}class eJ extends eW.PgColumn{static [i.entityKind]="PgReal";constructor(e,t){super(e,t)}getSQLType(){return"real"}mapFromDriverValue=e=>"string"==typeof e?Number.parseFloat(e):e}function eZ(e){return new ez(e??"")}e.s(["real",()=>eZ],89705);var eG=a;class eX extends eG.PgColumnBuilder{static [i.entityKind]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new eY(e,this.config)}}class eY extends eG.PgColumn{static [i.entityKind]="PgSerial";getSQLType(){return"serial"}}function e0(e){return new eX(e??"")}var e1=a;class e2 extends l{static [i.entityKind]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new e5(e,this.config)}}class e5 extends e1.PgColumn{static [i.entityKind]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>"string"==typeof e?Number(e):e}function e4(e){return new e2(e??"")}var e6=a;class e3 extends e6.PgColumnBuilder{static [i.entityKind]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new e9(e,this.config)}}class e9 extends e6.PgColumn{static [i.entityKind]="PgSmallSerial";getSQLType(){return"smallserial"}}function e8(e){return new e3(e??"")}var e7=a;class te extends e7.PgColumnBuilder{static [i.entityKind]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new tt(e,this.config)}}class tt extends e7.PgColumn{static [i.entityKind]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function tr(e,t={}){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return new te(r,i)}e.s(["text",()=>tr],84259);var ti=a;class tn extends M{constructor(e,t,r){super(e,"string","PgTime"),this.withTimezone=t,this.precision=r,this.config.withTimezone=t,this.config.precision=r}static [i.entityKind]="PgTimeBuilder";build(e){return new ts(e,this.config)}}class ts extends ti.PgColumn{static [i.entityKind]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}function ta(e,t={}){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return new tn(r,i.withTimezone??!1,i.precision)}e.s(["PgTime",()=>ts,"time",()=>ta],93486);var to=a;class tl extends M{static [i.entityKind]="PgTimestampBuilder";constructor(e,t,r){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=r}build(e){return new tc(e,this.config)}}class tc extends to.PgColumn{static [i.entityKind]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class tu extends M{static [i.entityKind]="PgTimestampStringBuilder";constructor(e,t,r){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=r}build(e){return new td(e,this.config)}}class td extends to.PgColumn{static [i.entityKind]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}}function th(e,t={}){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return i?.mode==="string"?new tu(r,i.withTimezone??!1,i.precision):new tl(r,i?.withTimezone??!1,i?.precision)}e.s(["PgTimestamp",()=>tc,"PgTimestampString",()=>td,"timestamp",()=>th],3090);var tf=a;class tp extends tf.PgColumnBuilder{static [i.entityKind]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(L.sql`gen_random_uuid()`)}build(e){return new tm(e,this.config)}}class tm extends tf.PgColumn{static [i.entityKind]="PgUUID";getSQLType(){return"uuid"}}function tg(e){return new tp(e??"")}e.s(["PgUUID",()=>tm,"uuid",()=>tg],67751);var ty=a;class tb extends ty.PgColumnBuilder{static [i.entityKind]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new tw(e,this.config)}}class tw extends ty.PgColumn{static [i.entityKind]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function tv(e,t={}){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return new tb(r,i)}e.s(["varchar",()=>tv],23624);var t_=a;class tx extends t_.PgColumnBuilder{static [i.entityKind]="PgBinaryVectorBuilder";constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new tS(e,this.config)}}class tS extends t_.PgColumn{static [i.entityKind]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function tT(e,t){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return new tx(r,i)}var tE=a;class tA extends tE.PgColumnBuilder{static [i.entityKind]="PgHalfVectorBuilder";constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new tC(e,this.config)}}class tC extends tE.PgColumn{static [i.entityKind]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function tP(e,t){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return new tA(r,i)}var tk=a;class tN extends tk.PgColumnBuilder{static [i.entityKind]="PgSparseVectorBuilder";constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new tR(e,this.config)}}class tR extends tk.PgColumn{static [i.entityKind]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function tO(e,t){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return new tN(r,i)}var tq=a;class tI extends tq.PgColumnBuilder{static [i.entityKind]="PgVectorBuilder";constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new t$(e,this.config)}}class t$ extends tq.PgColumn{static [i.entityKind]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function tj(e,t){let{name:r,config:i}=(0,s.getColumnNameAndConfig)(e,t);return new tI(r,i)}let tL=Symbol.for("drizzle:PgInlineForeignKeys"),tD=Symbol.for("drizzle:EnableRLS");class tM extends n.Table{static [i.entityKind]="PgTable";static Symbol=Object.assign({},n.Table.Symbol,{InlineForeignKeys:tL,EnableRLS:tD});[tL]=[];[tD]=!1;[n.Table.Symbol.ExtraConfigBuilder]=void 0}let tU=(e,t,r)=>(function(e,t,r,i,s=e){let a=new tM(e,i,s),o="function"==typeof t?t({bigint:f,bigserial:w,boolean:S,char:C,cidr:R,customType:$,date:Q,doublePrecision:z,inet:X,integer:er,interval:ea,json:eu,jsonb:ep,line:ev,macaddr:eT,macaddr8:eP,numeric:eO,point:eD,geometry:eV,real:eZ,serial:e0,smallint:e4,smallserial:e8,text:tr,time:ta,timestamp:th,uuid:tg,varchar:tv,bit:tT,halfvec:tP,sparsevec:tO,vector:tj}):t,l=Object.fromEntries(Object.entries(o).map(([e,t])=>{t.setName(e);let r=t.build(a);return a[tL].push(...t.buildForeignKeys(r,a)),[e,r]})),c=Object.fromEntries(Object.entries(o).map(([e,t])=>(t.setName(e),[e,t.buildExtraConfigColumn(a)]))),u=Object.assign(a,l);return u[n.Table.Symbol.Columns]=l,u[n.Table.Symbol.ExtraConfigColumns]=c,r&&(u[tM.Symbol.ExtraConfigBuilder]=r),Object.assign(u,{enableRLS:()=>(u[tM.Symbol.EnableRLS]=!0,u)})})(e,t,r,void 0);function tB(...e){return e[0].columns?new tK(e[0].columns,e[0].name):new tK(e)}e.s(["PgTable",()=>tM,"pgTable",()=>tU],94093);class tK{static [i.entityKind]="PgPrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new tH(e,this.columns,this.name)}}class tH{constructor(e,t,r){this.table=e,this.columns=t,this.name=r}static [i.entityKind]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[tM.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}e.s(["PrimaryKeyBuilder",()=>tK,"primaryKey",()=>tB],44902);var tQ=e.i(75225);function tF(e){return L.sql`${e} asc`}function tV(e){return L.sql`${e} desc`}class tW{constructor(e,r,i){this.sourceTable=e,this.referencedTable=r,this.relationName=i,this.referencedTableName=r[t.Table.Symbol.Name]}static [i.entityKind]="Relation";referencedTableName;fieldName}class tz{constructor(e,t){this.table=e,this.config=t}static [i.entityKind]="Relations"}class tJ extends tW{constructor(e,t,r,i){super(e,t,r?.relationName),this.config=r,this.isNullable=i}static [i.entityKind]="One";withFieldName(e){let t=new tJ(this.sourceTable,this.referencedTable,this.config,this.isNullable);return t.fieldName=e,t}}class tZ extends tW{constructor(e,t,r){super(e,t,r?.relationName),this.config=r}static [i.entityKind]="Many";withFieldName(e){let t=new tZ(this.sourceTable,this.referencedTable,this.config);return t.fieldName=e,t}}function tG(){return{and:tQ.and,between:tQ.between,eq:tQ.eq,exists:tQ.exists,gt:tQ.gt,gte:tQ.gte,ilike:tQ.ilike,inArray:tQ.inArray,isNull:tQ.isNull,isNotNull:tQ.isNotNull,like:tQ.like,lt:tQ.lt,lte:tQ.lte,ne:tQ.ne,not:tQ.not,notBetween:tQ.notBetween,notExists:tQ.notExists,notLike:tQ.notLike,notIlike:tQ.notIlike,notInArray:tQ.notInArray,or:tQ.or,sql:L.sql}}function tX(){return{sql:L.sql,asc:tF,desc:tV}}function tY(e,r){1===Object.keys(e).length&&"default"in e&&!(0,i.is)(e.default,t.Table)&&(e=e.default);let n={},s={},a={};for(let[o,l]of Object.entries(e))if((0,i.is)(l,t.Table)){let e=(0,t.getTableUniqueName)(l),r=s[e];for(let i of(n[e]=o,a[o]={tsName:o,dbName:l[t.Table.Symbol.Name],schema:l[t.Table.Symbol.Schema],columns:l[t.Table.Symbol.Columns],relations:r?.relations??{},primaryKey:r?.primaryKey??[]},Object.values(l[t.Table.Symbol.Columns])))i.primary&&a[o].primaryKey.push(i);let c=l[t.Table.Symbol.ExtraConfigBuilder]?.(l[t.Table.Symbol.ExtraConfigColumns]);if(c)for(let e of Object.values(c))(0,i.is)(e,tK)&&a[o].primaryKey.push(...e.columns)}else if((0,i.is)(l,tz)){let e,i=(0,t.getTableUniqueName)(l.table),o=n[i];for(let[t,n]of Object.entries(l.config(r(l.table))))if(o){let r=a[o];r.relations[t]=n,e&&r.primaryKey.push(...e)}else i in s||(s[i]={relations:{},primaryKey:e}),s[i].relations[t]=n}return{tables:a,tableNamesMap:n}}function t0(e,t){return new tz(e,e=>Object.fromEntries(Object.entries(t(e)).map(([e,t])=>[e,t.withFieldName(e)])))}function t1(e,r,n){if((0,i.is)(n,tJ)&&n.config)return{fields:n.config.fields,references:n.config.references};let s=r[(0,t.getTableUniqueName)(n.referencedTable)];if(!s)throw Error(`Table "${n.referencedTable[t.Table.Symbol.Name]}" not found in schema`);let a=e[s];if(!a)throw Error(`Table "${s}" not found in schema`);let o=n.sourceTable,l=r[(0,t.getTableUniqueName)(o)];if(!l)throw Error(`Table "${o[t.Table.Symbol.Name]}" not found in schema`);let c=[];for(let e of Object.values(a.relations))(n.relationName&&n!==e&&e.relationName===n.relationName||!n.relationName&&e.referencedTable===n.sourceTable)&&c.push(e);if(c.length>1)throw n.relationName?Error(`There are multiple relations with name "${n.relationName}" in table "${s}"`):Error(`There are multiple relations between "${s}" and "${n.sourceTable[t.Table.Symbol.Name]}". Please specify relation name`);if(c[0]&&(0,i.is)(c[0],tJ)&&c[0].config)return{fields:c[0].config.references,references:c[0].config.fields};throw Error(`There is not enough information to infer relation "${l}.${n.fieldName}"`)}function t2(e){return{one:function(t,r){return new tJ(e,t,r,r?.fields.reduce((e,t)=>e&&t.notNull,!0)??!1)},many:function(t,r){return new tZ(e,t,r)}}}e.s(["Many",()=>tZ,"One",()=>tJ,"createTableRelationsHelpers",()=>t2,"extractTablesRelationalConfig",()=>tY,"getOperators",()=>tG,"getOrderByOperators",()=>tX,"mapRelationalRow",()=>function e(t,n,s,a,o=e=>e){let l={};for(let[c,u]of a.entries())if(u.isJson){let r=n.relations[u.tsKey],a=s[c],d="string"==typeof a?JSON.parse(a):a;l[u.tsKey]=(0,i.is)(r,tJ)?d&&e(t,t[u.relationTableTsKey],d,u.selection,o):d.map(r=>e(t,t[u.relationTableTsKey],r,u.selection,o))}else{let e,t=o(s[c]),n=u.field;e=(0,i.is)(n,r.Column)?n:(0,i.is)(n,L.SQL)?n.decoder:n.sql.decoder,l[u.tsKey]=null===t?null:e.mapFromDriverValue(t)}return l},"normalizeRelation",()=>t1,"relations",()=>t0],79822)},5672,22689,71783,11909,15428,e=>{"use strict";var t=e.i(56325),r=e.i(44988),i=e.i(18899),n=e.i(69e3),s=e.i(88274);class a{constructor(e){this.table=e}static [r.entityKind]="ColumnAliasProxyHandler";get(e,t){return"table"===t?this.table:e[t]}}class o{constructor(e,t){this.alias=e,this.replaceOriginalName=t}static [r.entityKind]="TableAliasProxyHandler";get(e,i){if(i===n.Table.Symbol.IsAlias)return!0;if(i===n.Table.Symbol.Name||this.replaceOriginalName&&i===n.Table.Symbol.OriginalName)return this.alias;if(i===s.ViewBaseConfig)return{...e[s.ViewBaseConfig],name:this.alias,isAlias:!0};if(i===n.Table.Symbol.Columns){let t=e[n.Table.Symbol.Columns];if(!t)return t;let r={};return Object.keys(t).map(i=>{r[i]=new Proxy(t[i],new a(new Proxy(e,this)))}),r}let o=e[i];return(0,r.is)(o,t.Column)?new Proxy(o,new a(new Proxy(e,this))):o}}class l{constructor(e){this.alias=e}static [r.entityKind]="RelationTableAliasProxyHandler";get(e,t){return"sourceTable"===t?c(e.sourceTable,this.alias):e[t]}}function c(e,t){return new Proxy(e,new o(t,!1))}function u(e,t){return new Proxy(e,new a(new Proxy(e.table,new o(t,!1))))}function d(e,t){return new i.SQL.Aliased(h(e.sql,t),e.fieldAlias)}function h(e,n){return i.sql.join(e.queryChunks.map(e=>(0,r.is)(e,t.Column)?u(e,n):(0,r.is)(e,i.SQL)?h(e,n):(0,r.is)(e,i.SQL.Aliased)?d(e,n):e))}function f(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(e=>e.toLowerCase()).join("_")}function p(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((e,t,r)=>e+(0===r?t.toLowerCase():`${t[0].toUpperCase()}${t.slice(1)}`),"")}function m(e){return e}e.s(["ColumnAliasProxyHandler",()=>a,"TableAliasProxyHandler",()=>o,"aliasedTable",()=>c,"aliasedTableColumn",()=>u,"mapColumnsInAliasedSQLToAlias",()=>d,"mapColumnsInSQLToAlias",()=>h],5672);class g{static [r.entityKind]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert="snake_case"===e?f:"camelCase"===e?p:m}getColumnCasing(e){if(!e.keyAsName)return e.name;let t=e.table[n.Table.Symbol.Schema]??"public",r=e.table[n.Table.Symbol.OriginalName],i=`${t}.${r}.${e.name}`;return this.cache[i]||this.cacheTable(e.table),this.cache[i]}cacheTable(e){let t=e[n.Table.Symbol.Schema]??"public",r=e[n.Table.Symbol.OriginalName],i=`${t}.${r}`;if(!this.cachedTables[i]){for(let t of Object.values(e[n.Table.Symbol.Columns])){let e=`${i}.${t.name}`;this.cache[e]=this.convert(t.name)}this.cachedTables[i]=!0}}clearCache(){this.cache={},this.cachedTables={}}}e.s(["CasingCache",()=>g],22689);class y extends Error{static [r.entityKind]="DrizzleError";constructor({message:e,cause:t}){super(e),this.name="DrizzleError",this.cause=t}}class b extends y{static [r.entityKind]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}e.s(["DrizzleError",()=>y,"TransactionRollbackError",()=>b],71783);var w=e.i(4775),v=e.i(56923),_=e.i(1727),x=e.i(38257),S=e.i(48209),T=e.i(93486),E=e.i(3090),A=e.i(67751),C=e.i(94093),P=e.i(79822),k=e.i(75225),N=e.i(92352),R=e.i(4313),O=i;class q extends O.View{static [r.entityKind]="PgViewBase"}e.s(["PgViewBase",()=>q],11909);class I{static [r.entityKind]="PgDialect";casing;constructor(e){this.casing=new g(e?.casing)}async migrate(e,t,r){let n="string"==typeof r?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",s="string"==typeof r?"drizzle":r.migrationsSchema??"drizzle",a=i.sql`
			CREATE TABLE IF NOT EXISTS ${i.sql.identifier(s)}.${i.sql.identifier(n)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await t.execute(i.sql`CREATE SCHEMA IF NOT EXISTS ${i.sql.identifier(s)}`),await t.execute(a);let o=(await t.all(i.sql`select id, hash, created_at from ${i.sql.identifier(s)}.${i.sql.identifier(n)} order by created_at desc limit 1`))[0];await t.transaction(async t=>{for await(let r of e)if(!o||Number(o.created_at)<r.folderMillis){for(let e of r.sql)await t.execute(i.sql.raw(e));await t.execute(i.sql`insert into ${i.sql.identifier(s)}.${i.sql.identifier(n)} ("hash", "created_at") values(${r.hash}, ${r.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let t=[i.sql`with `];for(let[r,n]of e.entries())t.push(i.sql`${i.sql.identifier(n._.alias)} as (${n._.sql})`),r<e.length-1&&t.push(i.sql`, `);return t.push(i.sql` `),i.sql.join(t)}buildDeleteQuery({table:e,where:t,returning:r,withList:n}){let s=this.buildWithCTE(n),a=r?i.sql` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,o=t?i.sql` where ${t}`:void 0;return i.sql`${s}delete from ${e}${o}${a}`}buildUpdateSet(e,t){let r=e[n.Table.Symbol.Columns],s=Object.keys(r).filter(e=>void 0!==t[e]||r[e]?.onUpdateFn!==void 0),a=s.length;return i.sql.join(s.flatMap((e,n)=>{let s=r[e],o=t[e]??i.sql.param(s.onUpdateFn(),s),l=i.sql`${i.sql.identifier(this.casing.getColumnCasing(s))} = ${o}`;return n<a-1?[l,i.sql.raw(", ")]:[l]}))}buildUpdateQuery({table:e,set:t,where:r,returning:n,withList:s,from:a,joins:o}){let l=this.buildWithCTE(s),c=e[C.PgTable.Symbol.Name],u=e[C.PgTable.Symbol.Schema],d=e[C.PgTable.Symbol.OriginalName],h=c===d?void 0:c,f=i.sql`${u?i.sql`${i.sql.identifier(u)}.`:void 0}${i.sql.identifier(d)}${h&&i.sql` ${i.sql.identifier(h)}`}`,p=this.buildUpdateSet(e,t),m=a&&i.sql.join([i.sql.raw(" from "),this.buildFromTable(a)]),g=this.buildJoins(o),y=n?i.sql` returning ${this.buildSelection(n,{isSingleTable:!a})}`:void 0,b=r?i.sql` where ${r}`:void 0;return i.sql`${l}update ${f} set ${p}${m}${g}${b}${y}`}buildSelection(e,{isSingleTable:n=!1}={}){let s=e.length,a=e.flatMap(({field:e},a)=>{let o=[];if((0,r.is)(e,i.SQL.Aliased)&&e.isSelectionField)o.push(i.sql.identifier(e.fieldAlias));else if((0,r.is)(e,i.SQL.Aliased)||(0,r.is)(e,i.SQL)){let t=(0,r.is)(e,i.SQL.Aliased)?e.sql:e;n?o.push(new i.SQL(t.queryChunks.map(e=>(0,r.is)(e,w.PgColumn)?i.sql.identifier(this.casing.getColumnCasing(e)):e))):o.push(t),(0,r.is)(e,i.SQL.Aliased)&&o.push(i.sql` as ${i.sql.identifier(e.fieldAlias)}`)}else(0,r.is)(e,t.Column)&&(n?o.push(i.sql.identifier(this.casing.getColumnCasing(e))):o.push(e));return a<s-1&&o.push(i.sql`, `),o});return i.sql.join(a)}buildJoins(e){if(!e||0===e.length)return;let t=[];for(let[n,a]of e.entries()){0===n&&t.push(i.sql` `);let o=a.table,l=a.lateral?i.sql` lateral`:void 0;if((0,r.is)(o,C.PgTable)){let e=o[C.PgTable.Symbol.Name],r=o[C.PgTable.Symbol.Schema],n=o[C.PgTable.Symbol.OriginalName],s=e===n?void 0:a.alias;t.push(i.sql`${i.sql.raw(a.joinType)} join${l} ${r?i.sql`${i.sql.identifier(r)}.`:void 0}${i.sql.identifier(n)}${s&&i.sql` ${i.sql.identifier(s)}`} on ${a.on}`)}else if((0,r.is)(o,i.View)){let e=o[s.ViewBaseConfig].name,r=o[s.ViewBaseConfig].schema,n=o[s.ViewBaseConfig].originalName,c=e===n?void 0:a.alias;t.push(i.sql`${i.sql.raw(a.joinType)} join${l} ${r?i.sql`${i.sql.identifier(r)}.`:void 0}${i.sql.identifier(n)}${c&&i.sql` ${i.sql.identifier(c)}`} on ${a.on}`)}else t.push(i.sql`${i.sql.raw(a.joinType)} join${l} ${o} on ${a.on}`);n<e.length-1&&t.push(i.sql` `)}return i.sql.join(t)}buildFromTable(e){if((0,r.is)(e,n.Table)&&e[n.Table.Symbol.OriginalName]!==e[n.Table.Symbol.Name]){let t=i.sql`${i.sql.identifier(e[n.Table.Symbol.OriginalName])}`;return e[n.Table.Symbol.Schema]&&(t=i.sql`${i.sql.identifier(e[n.Table.Symbol.Schema])}.${t}`),i.sql`${t} ${i.sql.identifier(e[n.Table.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:a,fieldsFlat:o,where:l,having:c,table:u,joins:d,orderBy:h,groupBy:f,limit:p,offset:m,lockingClause:g,distinct:y,setOperators:b}){let w,v,_,x=o??(0,R.orderSelectedFields)(a);for(let e of x){let a;if((0,r.is)(e.field,t.Column)&&(0,n.getTableName)(e.field.table)!==((0,r.is)(u,N.Subquery)?u._.alias:(0,r.is)(u,q)?u[s.ViewBaseConfig].name:(0,r.is)(u,i.SQL)?void 0:(0,n.getTableName)(u))&&(a=e.field.table,!d?.some(({alias:e})=>e===(a[n.Table.Symbol.IsAlias]?(0,n.getTableName)(a):a[n.Table.Symbol.BaseName])))){let t=(0,n.getTableName)(e.field.table);throw Error(`Your "${e.path.join("->")}" field references a column "${t}"."${e.field.name}", but the table "${t}" is not part of the query! Did you forget to join it?`)}}let S=!d||0===d.length,T=this.buildWithCTE(e);y&&(w=!0===y?i.sql` distinct`:i.sql` distinct on (${i.sql.join(y.on,i.sql`, `)})`);let E=this.buildSelection(x,{isSingleTable:S}),A=this.buildFromTable(u),C=this.buildJoins(d),P=l?i.sql` where ${l}`:void 0,k=c?i.sql` having ${c}`:void 0;h&&h.length>0&&(v=i.sql` order by ${i.sql.join(h,i.sql`, `)}`),f&&f.length>0&&(_=i.sql` group by ${i.sql.join(f,i.sql`, `)}`);let O="object"==typeof p||"number"==typeof p&&p>=0?i.sql` limit ${p}`:void 0,I=m?i.sql` offset ${m}`:void 0,$=i.sql.empty();if(g){let e=i.sql` for ${i.sql.raw(g.strength)}`;g.config.of&&e.append(i.sql` of ${i.sql.join(Array.isArray(g.config.of)?g.config.of:[g.config.of],i.sql`, `)}`),g.config.noWait?e.append(i.sql` no wait`):g.config.skipLocked&&e.append(i.sql` skip locked`),$.append(e)}let j=i.sql`${T}select${w} ${E} from ${A}${C}${P}${_}${k}${v}${O}${I}${$}`;return b.length>0?this.buildSetOperations(j,b):j}buildSetOperations(e,t){let[r,...i]=t;if(!r)throw Error("Cannot pass undefined values to any set operator");return 0===i.length?this.buildSetOperationQuery({leftSelect:e,setOperator:r}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:r}),i)}buildSetOperationQuery({leftSelect:e,setOperator:{type:t,isAll:n,rightSelect:s,limit:a,orderBy:o,offset:l}}){let c,u=i.sql`(${e.getSQL()}) `,d=i.sql`(${s.getSQL()})`;if(o&&o.length>0){let e=[];for(let t of o)if((0,r.is)(t,w.PgColumn))e.push(i.sql.identifier(t.name));else if((0,r.is)(t,i.SQL)){for(let e=0;e<t.queryChunks.length;e++){let n=t.queryChunks[e];(0,r.is)(n,w.PgColumn)&&(t.queryChunks[e]=i.sql.identifier(n.name))}e.push(i.sql`${t}`)}else e.push(i.sql`${t}`);c=i.sql` order by ${i.sql.join(e,i.sql`, `)} `}let h="object"==typeof a||"number"==typeof a&&a>=0?i.sql` limit ${a}`:void 0,f=i.sql.raw(`${t} ${n?"all ":""}`),p=l?i.sql` offset ${l}`:void 0;return i.sql`${u}${f}${d}${c}${h}${p}`}buildInsertQuery({table:e,values:t,onConflict:s,returning:a,withList:o,select:l,overridingSystemValue_:c}){let u=[],d=Object.entries(e[n.Table.Symbol.Columns]).filter(([e,t])=>!t.shouldDisableInsert()),h=d.map(([,e])=>i.sql.identifier(this.casing.getColumnCasing(e)));if(l)(0,r.is)(t,i.SQL)?u.push(t):u.push(t.getSQL());else for(let[e,n]of(u.push(i.sql.raw("values ")),t.entries())){let s=[];for(let[e,t]of d){let a=n[e];if(void 0===a||(0,r.is)(a,i.Param)&&void 0===a.value)if(void 0!==t.defaultFn){let e=t.defaultFn(),n=(0,r.is)(e,i.SQL)?e:i.sql.param(e,t);s.push(n)}else if(t.default||void 0===t.onUpdateFn)s.push(i.sql`default`);else{let e=t.onUpdateFn(),n=(0,r.is)(e,i.SQL)?e:i.sql.param(e,t);s.push(n)}else s.push(a)}u.push(s),e<t.length-1&&u.push(i.sql`, `)}let f=this.buildWithCTE(o),p=i.sql.join(u),m=a?i.sql` returning ${this.buildSelection(a,{isSingleTable:!0})}`:void 0,g=s?i.sql` on conflict ${s}`:void 0,y=!0===c?i.sql`overriding system value `:void 0;return i.sql`${f}insert into ${e} ${h} ${y}${p}${g}${m}`}buildRefreshMaterializedViewQuery({view:e,concurrently:t,withNoData:r}){let n=t?i.sql` concurrently`:void 0,s=r?i.sql` with no data`:void 0;return i.sql`refresh materialized view${n} ${e}${s}`}prepareTyping(e){if((0,r.is)(e,x.PgJsonb)||(0,r.is)(e,_.PgJson))return"json";if((0,r.is)(e,S.PgNumeric))return"decimal";if((0,r.is)(e,T.PgTime))return"time";if((0,r.is)(e,E.PgTimestamp)||(0,r.is)(e,E.PgTimestampString))return"timestamp";if((0,r.is)(e,v.PgDate)||(0,r.is)(e,v.PgDateString))return"date";else if((0,r.is)(e,A.PgUUID))return"uuid";else return"none"}sqlToQuery(e,t){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:t})}buildRelationalQueryWithoutPK({fullSchema:e,schema:s,tableNamesMap:a,table:o,tableConfig:l,queryConfig:f,tableAlias:p,nestedQueryRelation:m,joinOn:g}){let b,w=[],v,_,x=[],S,T=[];if(!0===f)w=Object.entries(l.columns).map(([e,t])=>({dbKey:t.name,tsKey:e,field:u(t,p),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let o=Object.fromEntries(Object.entries(l.columns).map(([e,t])=>[e,u(t,p)]));if(f.where){let e="function"==typeof f.where?f.where(o,(0,P.getOperators)()):f.where;S=e&&h(e,p)}let c=[],m=[];if(f.columns){let e=!1;for(let[t,r]of Object.entries(f.columns))void 0!==r&&t in l.columns&&(e||!0!==r||(e=!0),m.push(t));m.length>0&&(m=e?m.filter(e=>f.columns?.[e]===!0):Object.keys(l.columns).filter(e=>!m.includes(e)))}else m=Object.keys(l.columns);for(let e of m){let t=l.columns[e];c.push({tsKey:e,value:t})}let g=[];if(f.with&&(g=Object.entries(f.with).filter(e=>!!e[1]).map(([e,t])=>({tsKey:e,queryConfig:t,relation:l.relations[e]}))),f.extras)for(let[e,t]of Object.entries("function"==typeof f.extras?f.extras(o,{sql:i.sql}):f.extras))c.push({tsKey:e,value:d(t,p)});for(let{tsKey:e,value:n}of c)w.push({dbKey:(0,r.is)(n,i.SQL.Aliased)?n.fieldAlias:l.columns[e].name,tsKey:e,field:(0,r.is)(n,t.Column)?u(n,p):n,relationTableTsKey:void 0,isJson:!1,selection:[]});let y="function"==typeof f.orderBy?f.orderBy(o,(0,P.getOrderByOperators)()):f.orderBy??[];for(let{tsKey:o,queryConfig:l,relation:c}of(Array.isArray(y)||(y=[y]),x=y.map(e=>(0,r.is)(e,t.Column)?u(e,p):h(e,p)),v=f.limit,_=f.offset,g)){let t=(0,P.normalizeRelation)(s,a,c),d=a[(0,n.getTableUniqueName)(c.referencedTable)],h=`${p}_${o}`,f=(0,k.and)(...t.fields.map((e,r)=>(0,k.eq)(u(t.references[r],h),u(e,p)))),m=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:s,tableNamesMap:a,table:e[d],tableConfig:s[d],queryConfig:(0,r.is)(c,P.One)?!0===l?{limit:1}:{...l,limit:1}:l,tableAlias:h,joinOn:f,nestedQueryRelation:c}),g=i.sql`${i.sql.identifier(h)}.${i.sql.identifier("data")}`.as(o);T.push({on:i.sql`true`,table:new N.Subquery(m.sql,{},h),alias:h,joinType:"left",lateral:!0}),w.push({dbKey:o,tsKey:o,field:g,relationTableTsKey:d,isJson:!0,selection:m.selection})}}if(0===w.length)throw new y({message:`No fields selected for table "${l.tsName}" ("${p}")`});if(S=(0,k.and)(g,S),m){let e=i.sql`json_build_array(${i.sql.join(w.map(({field:e,tsKey:t,isJson:n})=>n?i.sql`${i.sql.identifier(`${p}_${t}`)}.${i.sql.identifier("data")}`:(0,r.is)(e,i.SQL.Aliased)?e.sql:e),i.sql`, `)})`;(0,r.is)(m,P.Many)&&(e=i.sql`coalesce(json_agg(${e}${x.length>0?i.sql` order by ${i.sql.join(x,i.sql`, `)}`:void 0}), '[]'::json)`);let n=[{dbKey:"data",tsKey:"data",field:e.as("data"),isJson:!0,relationTableTsKey:l.tsName,selection:w}];void 0!==v||void 0!==_||x.length>0?(b=this.buildSelectQuery({table:c(o,p),fields:{},fieldsFlat:[{path:[],field:i.sql.raw("*")}],where:S,limit:v,offset:_,orderBy:x,setOperators:[]}),S=void 0,v=void 0,_=void 0,x=[]):b=c(o,p),b=this.buildSelectQuery({table:(0,r.is)(b,C.PgTable)?b:new N.Subquery(b,{},p),fields:{},fieldsFlat:n.map(({field:e})=>({path:[],field:(0,r.is)(e,t.Column)?u(e,p):e})),joins:T,where:S,limit:v,offset:_,orderBy:x,setOperators:[]})}else b=this.buildSelectQuery({table:c(o,p),fields:{},fieldsFlat:w.map(({field:e})=>({path:[],field:(0,r.is)(e,t.Column)?u(e,p):e})),joins:T,where:S,limit:v,offset:_,orderBy:x,setOperators:[]});return{tableTsKey:l.tsName,sql:b,selection:w}}}e.s(["PgDialect",()=>I],15428)},47211,98020,57235,44482,e=>{"use strict";var t=e.i(5672),r=e.i(56325),i=e.i(44988),n=e.i(18899),s=e.i(92352),a=e.i(88274);class o{static [i.entityKind]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,l){if("_"===l)return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(l===a.ViewBaseConfig)return{...e[a.ViewBaseConfig],selectedFields:new Proxy(e[a.ViewBaseConfig].selectedFields,this)};if("symbol"==typeof l)return e[l];let c=((0,i.is)(e,s.Subquery)?e._.selectedFields:(0,i.is)(e,n.View)?e[a.ViewBaseConfig].selectedFields:e)[l];if((0,i.is)(c,n.SQL.Aliased)){if("sql"===this.config.sqlAliasedBehavior&&!c.isSelectionField)return c.sql;let e=c.clone();return e.isSelectionField=!0,e}if((0,i.is)(c,n.SQL)){if("sql"===this.config.sqlBehavior)return c;throw Error(`You tried to reference "${l}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return(0,i.is)(c,r.Column)?this.config.alias?new Proxy(c,new t.ColumnAliasProxyHandler(new Proxy(c.table,new t.TableAliasProxyHandler(this.config.alias,this.config.replaceOriginalName??!1)))):c:"object"!=typeof c||null===c?c:new Proxy(c,new o(this.config))}}e.s(["SelectionProxyHandler",()=>o],47211);class l{static [i.entityKind]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}then(e,t){return this.execute().then(e,t)}}e.s(["QueryPromise",()=>l],98020);class c{static [i.entityKind]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}e.s(["TypedQueryBuilder",()=>c],57235);var u=e.i(69e3),d=e.i(22360),h=e.i(4313);class f extends l{constructor(e,t,r,i){super(),this.session=t,this.dialect=r,this.config={table:e,withList:i}}static [i.entityKind]="PgDelete";config;where(e){return this.config.where=e,this}returning(e=this.config.table[u.Table.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=(0,h.orderSelectedFields)(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return d.tracer.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>d.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new o({alias:(0,u.getTableName)(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}var p=e.i(15428),m=e.i(11909);class g{static [i.entityKind]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}authToken;setToken(e){return this.authToken=e,this}from(e){let t,r=!!this.fields;return t=this.fields?this.fields:(0,i.is)(e,s.Subquery)?Object.fromEntries(Object.keys(e._.selectedFields).map(t=>[t,e[t]])):(0,i.is)(e,m.PgViewBase)?e[a.ViewBaseConfig].selectedFields:(0,i.is)(e,n.SQL)?{}:(0,h.getTableColumns)(e),new b({table:e,fields:t,isPartialSelect:r,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}}class y extends c{static [i.entityKind]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;constructor({table:e,fields:t,isPartialSelect:r,session:i,dialect:n,withList:s,distinct:a}){super(),this.config={withList:s,table:e,fields:{...t},distinct:a,setOperators:[]},this.isPartialSelect=r,this.session=i,this.dialect=n,this._={selectedFields:t},this.tableName=(0,h.getTableLikeName)(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}createJoin(e){return(t,r)=>{let l=this.tableName,c=(0,h.getTableLikeName)(t);if("string"==typeof c&&this.config.joins?.some(e=>e.alias===c))throw Error(`Alias "${c}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof l&&(this.config.fields={[l]:this.config.fields}),"string"==typeof c&&!(0,i.is)(t,n.SQL))){let e=(0,i.is)(t,s.Subquery)?t._.selectedFields:(0,i.is)(t,n.View)?t[a.ViewBaseConfig].selectedFields:t[u.Table.Symbol.Columns];this.config.fields[c]=e}if("function"==typeof r&&(r=r(new Proxy(this.config.fields,new o({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:r,table:t,joinType:e,alias:c}),"string"==typeof c)switch(e){case"left":this.joinsNotNullableMap[c]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[c]=!0;break;case"inner":this.joinsNotNullableMap[c]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[c]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");createSetOperator(e,t){return r=>{let i="function"==typeof r?r(v()):r;if(!(0,h.haveSameKeys)(this.getSelectedFields(),i.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:t,rightSelect:i}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new o({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new o({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new o({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(t)?t:[t]}else this.config.groupBy=e;return this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new o({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(t)?t:[t];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}else this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=e:this.config.orderBy=e;return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,t={}){return this.config.lockingClause={strength:e,config:t},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}as(e){return new Proxy(new s.Subquery(this.getSQL(),this.config.fields,e),new o({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new o({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}class b extends y{static [i.entityKind]="PgSelect";_prepare(e){let{session:t,config:r,dialect:i,joinsNotNullableMap:n,authToken:s}=this;if(!t)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");return d.tracer.startActiveSpan("drizzle.prepareQuery",()=>{let a=(0,h.orderSelectedFields)(r.fields),o=t.prepareQuery(i.sqlToQuery(this.getSQL()),a,e,!0);return o.joinsNotNullableMap=n,o.setToken(s)})}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>d.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}function w(e,t){return(r,i,...n)=>{let s=[i,...n].map(r=>({type:e,isAll:t,rightSelect:r}));for(let e of s)if(!(0,h.haveSameKeys)(r.getSelectedFields(),e.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(s)}}(0,h.applyMixins)(b,[l]);let v=()=>({union:_,unionAll:x,intersect:S,intersectAll:T,except:E,exceptAll:A}),_=w("union",!1),x=w("union",!0),S=w("intersect",!1),T=w("intersect",!0),E=w("except",!1),A=w("except",!0);class C{static [i.entityKind]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=(0,i.is)(e,p.PgDialect)?e:void 0,this.dialectConfig=(0,i.is)(e,p.PgDialect)?void 0:e}$with=(e,t)=>{let r=this;return{as:i=>("function"==typeof i&&(i=i(r)),new Proxy(new s.WithSubquery(i.getSQL(),t??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new o({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let t=this;return{select:function(r){return new g({fields:r??void 0,session:void 0,dialect:t.getDialect(),withList:e})},selectDistinct:function(e){return new g({fields:e??void 0,session:void 0,dialect:t.getDialect(),distinct:!0})},selectDistinctOn:function(e,r){return new g({fields:r??void 0,session:void 0,dialect:t.getDialect(),distinct:{on:e}})}}}select(e){return new g({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new g({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,t){return new g({fields:t??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new p.PgDialect(this.dialectConfig)),this.dialect}}class P{constructor(e,t,r,i,n){this.table=e,this.session=t,this.dialect=r,this.withList=i,this.overridingSystemValue_=n}static [i.entityKind]="PgInsertBuilder";authToken;setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(0===(e=Array.isArray(e)?e:[e]).length)throw Error("values() must be called with at least one value");let t=e.map(e=>{let t={},r=this.table[u.Table.Symbol.Columns];for(let s of Object.keys(e)){let a=e[s];t[s]=(0,i.is)(a,n.SQL)?a:new n.Param(a,r[s])}return t});return new k(this.table,t,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){let t="function"==typeof e?e(new C):e;if(!(0,i.is)(t,n.SQL)&&!(0,h.haveSameKeys)(this.table[u.Columns],t._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new k(this.table,t,this.session,this.dialect,this.withList,!0)}}class k extends l{constructor(e,t,r,i,n,s,a){super(),this.session=r,this.dialect=i,this.config={table:e,values:t,withList:n,select:s,overridingSystemValue_:a}}static [i.entityKind]="PgInsert";config;returning(e=this.config.table[u.Table.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=(0,h.orderSelectedFields)(e),this}onConflictDoNothing(e={}){if(void 0===e.target)this.config.onConflict=n.sql`do nothing`;else{let t="";t=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let r=e.where?n.sql` where ${e.where}`:void 0;this.config.onConflict=n.sql`(${n.sql.raw(t)})${r} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let t=e.where?n.sql` where ${e.where}`:void 0,r=e.targetWhere?n.sql` where ${e.targetWhere}`:void 0,i=e.setWhere?n.sql` where ${e.setWhere}`:void 0,s=this.dialect.buildUpdateSet(this.config.table,(0,h.mapUpdateSet)(this.config.table,e.set)),a="";return a=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=n.sql`(${n.sql.raw(a)})${r} do update set ${s}${t}${i}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return d.tracer.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>d.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new o({alias:(0,u.getTableName)(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}var N=e.i(94093);class R{constructor(e,t,r,i){this.table=e,this.session=t,this.dialect=r,this.withList=i}static [i.entityKind]="PgUpdateBuilder";authToken;setToken(e){return this.authToken=e,this}set(e){return new O(this.table,(0,h.mapUpdateSet)(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}}class O extends l{constructor(e,t,r,i,n){super(),this.session=r,this.dialect=i,this.config={set:t,table:e,withList:n,joins:[]},this.tableName=(0,h.getTableLikeName)(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}static [i.entityKind]="PgUpdate";config;tableName;joinsNotNullableMap;from(e){let t=(0,h.getTableLikeName)(e);return"string"==typeof t&&(this.joinsNotNullableMap[t]=!0),this.config.from=e,this}getTableLikeFields(e){return(0,i.is)(e,N.PgTable)?e[u.Table.Symbol.Columns]:(0,i.is)(e,s.Subquery)?e._.selectedFields:e[a.ViewBaseConfig].selectedFields}createJoin(e){return(t,r)=>{let s=(0,h.getTableLikeName)(t);if("string"==typeof s&&this.config.joins.some(e=>e.alias===s))throw Error(`Alias "${s}" is already used in this query`);if("function"==typeof r){let e=this.config.from&&!(0,i.is)(this.config.from,n.SQL)?this.getTableLikeFields(this.config.from):void 0;r=r(new Proxy(this.config.table[u.Table.Symbol.Columns],new o({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),e&&new Proxy(e,new o({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:r,table:t,joinType:e,alias:s}),"string"==typeof s)switch(e){case"left":this.joinsNotNullableMap[s]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[s]=!0;break;case"inner":this.joinsNotNullableMap[s]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[s]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}returning(e){if(!e&&(e=Object.assign({},this.config.table[u.Table.Symbol.Columns]),this.config.from)){let t=(0,h.getTableLikeName)(this.config.from);if("string"==typeof t&&this.config.from&&!(0,i.is)(this.config.from,n.SQL)){let r=this.getTableLikeFields(this.config.from);e[t]=r}for(let t of this.config.joins){let r=(0,h.getTableLikeName)(t.table);if("string"==typeof r&&!(0,i.is)(t.table,n.SQL)){let i=this.getTableLikeFields(t.table);e[r]=i}}}return this.config.returningFields=e,this.config.returning=(0,h.orderSelectedFields)(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){let t=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0);return t.joinsNotNullableMap=this.joinsNotNullableMap,t}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>this._prepare().execute(e,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new o({alias:(0,u.getTableName)(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}var q=n;class I extends q.SQL{constructor(e){super(I.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=I.buildCount(e.source,e.filters)}sql;token;static [i.entityKind]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,t){return q.sql`(select count(*) from ${e}${q.sql.raw(" where ").if(t)}${t})`}static buildCount(e,t){return q.sql`select count(*) as count from ${e}${q.sql.raw(" where ").if(t)}${t};`}setToken(e){return this.token=e,this}then(e,t){return Promise.resolve(this.session.count(this.sql,this.token)).then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}}var $=e.i(79822);class j{constructor(e,t,r,i,n,s,a){this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=i,this.tableConfig=n,this.dialect=s,this.session=a}static [i.entityKind]="PgRelationalQueryBuilder";findMany(e){return new L(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new L(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}class L extends l{constructor(e,t,r,i,n,s,a,o,l){super(),this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=i,this.tableConfig=n,this.dialect=s,this.session=a,this.config=o,this.mode=l}static [i.entityKind]="PgRelationalQuery";_prepare(e){return d.tracer.startActiveSpan("drizzle.prepareQuery",()=>{let{query:t,builtQuery:r}=this._toSQL();return this.session.prepareQuery(r,void 0,e,!0,(e,r)=>{let i=e.map(e=>(0,$.mapRelationalRow)(this.schema,this.tableConfig,e,t.selection,r));return"first"===this.mode?i[0]:i})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),t=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:t}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(e){return this.authToken=e,this}execute(){return d.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}class D extends l{constructor(e,t,r,i){super(),this.execute=e,this.sql=t,this.query=r,this.mapBatchResult=i}static [i.entityKind]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,t){return t?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}class M extends l{constructor(e,t,r){super(),this.session=t,this.dialect=r,this.config={view:e}}static [i.entityKind]="PgRefreshMaterializedView";config;concurrently(){if(void 0!==this.config.withNoData)throw Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(void 0!==this.config.concurrently)throw Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return d.tracer.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>d.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}class U{constructor(e,t,r){if(this.dialect=e,this.session=t,this._=r?{schema:r.schema,fullSchema:r.fullSchema,tableNamesMap:r.tableNamesMap,session:t}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:t},this.query={},this._.schema)for(const[i,n]of Object.entries(this._.schema))this.query[i]=new j(r.fullSchema,this._.schema,this._.tableNamesMap,r.fullSchema[i],n,e,t)}static [i.entityKind]="PgDatabase";query;$with=(e,t)=>{let r=this;return{as:i=>("function"==typeof i&&(i=i(new C(r.dialect))),new Proxy(new s.WithSubquery(i.getSQL(),t??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),e,!0),new o({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,t){return new I({source:e,filters:t,session:this.session})}with(...e){let t=this;return{select:function(r){return new g({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e})},selectDistinct:function(r){return new g({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:!0})},selectDistinctOn:function(r,i){return new g({fields:i??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:{on:r}})},update:function(r){return new R(r,t.session,t.dialect,e)},insert:function(r){return new P(r,t.session,t.dialect,e)},delete:function(r){return new f(r,t.session,t.dialect,e)}}}select(e){return new g({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new g({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,t){return new g({fields:t??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new R(e,this.session,this.dialect)}insert(e){return new P(e,this.session,this.dialect)}delete(e){return new f(e,this.session,this.dialect)}refreshMaterializedView(e){return new M(e,this.session,this.dialect)}authToken;execute(e){let t="string"==typeof e?n.sql.raw(e):e.getSQL(),r=this.dialect.sqlToQuery(t),i=this.session.prepareQuery(r,void 0,void 0,!1);return new D(()=>i.execute(void 0,this.authToken),t,r,e=>i.mapResult(e,!0))}transaction(e,t){return this.session.transaction(e,t)}}e.s(["PgDatabase",()=>U],44482)},3967,e=>{"use strict";var t=e.i(44988),r=e.i(47211),i=e.i(18899),n=e.i(92352),s=i;class a extends s.SQL{constructor(e){super(a.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=a.buildCount(e.source,e.filters)}sql;static [t.entityKind]="MySqlCountBuilder";[Symbol.toStringTag]="MySqlCountBuilder";session;static buildEmbeddedCount(e,t){return s.sql`(select count(*) from ${e}${s.sql.raw(" where ").if(t)}${t})`}static buildCount(e,t){return s.sql`select count(*) as count from ${e}${s.sql.raw(" where ").if(t)}${t}`}then(e,t){return Promise.resolve(this.session.count(this.sql)).then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}}var o=e.i(98020),l=e.i(69e3);class c extends o.QueryPromise{constructor(e,t,r,i){super(),this.table=e,this.session=t,this.dialect=r,this.config={table:e,withList:i}}static [t.entityKind]="MySqlDelete";config;where(e){return this.config.where=e,this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.table[l.Table.Symbol.Columns],new r.SelectionProxyHandler({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),i=Array.isArray(t)?t:[t];this.config.orderBy=i}else this.config.orderBy=e;return this}limit(e){return this.config.limit=e,this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}prepare(){return this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning)}execute=e=>this.prepare().execute(e);createIterator=()=>{let e=this;return async function*(t){yield*e.prepare().iterator(t)}};iterator=this.createIterator();$dynamic(){return this}}var u=o,d=e.i(4313),h=e.i(5672),f=e.i(22689),p=e.i(56325),m=e.i(71783),g=e.i(75225),y=e.i(79822),b=e.i(88274),w=e.i(43179),v=p,_=e.i(833);class x{static [t.entityKind]="MySqlForeignKeyBuilder";reference;_onUpdate;_onDelete;constructor(e,t){this.reference=()=>{let{name:t,columns:r,foreignColumns:i}=e();return{name:t,columns:r,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=e,this}onDelete(e){return this._onDelete=e,this}build(e){return new S(e,this)}}class S{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [t.entityKind]="MySqlForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:r}=this.reference(),i=t.map(e=>e.name),n=r.map(e=>e.name),s=[this.table[_.TableName],...i,r[0].table[_.TableName],...n];return e??`${s.join("_")}_fk`}}function T(e,t){return`${e[_.TableName]}_${t.join("_")}_unique`}class E{constructor(e,t){this.name=t,this.columns=e}static [t.entityKind]="MySqlUniqueConstraintBuilder";columns;build(e){return new C(e,this.columns,this.name)}}class A{static [t.entityKind]="MySqlUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new E(e,this.name)}}class C{constructor(e,t,r){this.table=e,this.columns=t,this.name=r??T(this.table,this.columns.map(e=>e.name))}static [t.entityKind]="MySqlUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}class P extends w.ColumnBuilder{static [t.entityKind]="MySqlColumnBuilder";foreignKeyConfigs=[];references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e){return this.config.isUnique=!0,this.config.uniqueName=e,this}generatedAlwaysAs(e,t){return this.config.generated={as:e,type:"always",mode:t?.mode??"virtual"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:r,actions:i})=>{let n;return n=new x(()=>({columns:[e],foreignColumns:[r()]})),i.onUpdate&&n.onUpdate(i.onUpdate),i.onDelete&&n.onDelete(i.onDelete),n.build(t)})}}class k extends v.Column{constructor(e,t){t.uniqueName||(t.uniqueName=T(e,[t.name])),super(e,t),this.table=e}static [t.entityKind]="MySqlColumn"}class N extends P{static [t.entityKind]="MySqlColumnBuilderWithAutoIncrement";constructor(e,t,r){super(e,t,r),this.config.autoIncrement=!1}autoincrement(){return this.config.autoIncrement=!0,this.config.hasDefault=!0,this}}class R extends k{static [t.entityKind]="MySqlColumnWithAutoIncrement";autoIncrement=this.config.autoIncrement}var O=l;class q extends N{static [t.entityKind]="MySqlBigInt53Builder";constructor(e,t=!1){super(e,"number","MySqlBigInt53"),this.config.unsigned=t}build(e){return new I(e,this.config)}}class I extends R{static [t.entityKind]="MySqlBigInt53";getSQLType(){return`bigint${this.config.unsigned?" unsigned":""}`}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class $ extends N{static [t.entityKind]="MySqlBigInt64Builder";constructor(e,t=!1){super(e,"bigint","MySqlBigInt64"),this.config.unsigned=t}build(e){return new j(e,this.config)}}class j extends R{static [t.entityKind]="MySqlBigInt64";getSQLType(){return`bigint${this.config.unsigned?" unsigned":""}`}mapFromDriverValue(e){return BigInt(e)}}function L(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return"number"===i.mode?new q(r,i.unsigned):new $(r,i.unsigned)}class D extends P{static [t.entityKind]="MySqlBinaryBuilder";constructor(e,t){super(e,"string","MySqlBinary"),this.config.length=t}build(e){return new M(e,this.config)}}class M extends k{static [t.entityKind]="MySqlBinary";length=this.config.length;getSQLType(){return void 0===this.length?"binary":`binary(${this.length})`}}function U(e,t={}){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new D(r,i.length)}class B extends P{static [t.entityKind]="MySqlBooleanBuilder";constructor(e){super(e,"boolean","MySqlBoolean")}build(e){return new K(e,this.config)}}class K extends k{static [t.entityKind]="MySqlBoolean";getSQLType(){return"boolean"}mapFromDriverValue(e){return"boolean"==typeof e?e:1===e}}function H(e){return new B(e??"")}class Q extends P{static [t.entityKind]="MySqlCharBuilder";constructor(e,t){super(e,"string","MySqlChar"),this.config.length=t.length,this.config.enum=t.enum}build(e){return new F(e,this.config)}}class F extends k{static [t.entityKind]="MySqlChar";length=this.config.length;enumValues=this.config.enum;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function V(e,t={}){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new Q(r,i)}class W extends P{static [t.entityKind]="MySqlCustomColumnBuilder";constructor(e,t,r){super(e,"custom","MySqlCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=r}build(e){return new z(e,this.config)}}class z extends k{static [t.entityKind]="MySqlCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function J(e){return(t,r)=>{let{name:i,config:n}=(0,d.getColumnNameAndConfig)(t,r);return new W(i,n,e)}}class Z extends P{static [t.entityKind]="MySqlDateBuilder";constructor(e){super(e,"date","MySqlDate")}build(e){return new G(e,this.config)}}class G extends k{static [t.entityKind]="MySqlDate";constructor(e,t){super(e,t)}getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}}class X extends P{static [t.entityKind]="MySqlDateStringBuilder";constructor(e){super(e,"string","MySqlDateString")}build(e){return new Y(e,this.config)}}class Y extends k{static [t.entityKind]="MySqlDateString";constructor(e,t){super(e,t)}getSQLType(){return"date"}}function ee(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return i?.mode==="string"?new X(r):new Z(r)}class et extends P{static [t.entityKind]="MySqlDateTimeBuilder";constructor(e,t){super(e,"date","MySqlDateTime"),this.config.fsp=t?.fsp}build(e){return new er(e,this.config)}}class er extends k{static [t.entityKind]="MySqlDateTime";fsp;constructor(e,t){super(e,t),this.fsp=t.fsp}getSQLType(){let e=void 0===this.fsp?"":`(${this.fsp})`;return`datetime${e}`}mapToDriverValue(e){return e.toISOString().replace("T"," ").replace("Z","")}mapFromDriverValue(e){return new Date(e.replace(" ","T")+"Z")}}class ei extends P{static [t.entityKind]="MySqlDateTimeStringBuilder";constructor(e,t){super(e,"string","MySqlDateTimeString"),this.config.fsp=t?.fsp}build(e){return new en(e,this.config)}}class en extends k{static [t.entityKind]="MySqlDateTimeString";fsp;constructor(e,t){super(e,t),this.fsp=t.fsp}getSQLType(){let e=void 0===this.fsp?"":`(${this.fsp})`;return`datetime${e}`}}function es(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return i?.mode==="string"?new ei(r,i):new et(r,i)}class ea extends N{static [t.entityKind]="MySqlDecimalBuilder";constructor(e,t){super(e,"string","MySqlDecimal"),this.config.precision=t?.precision,this.config.scale=t?.scale,this.config.unsigned=t?.unsigned}build(e){return new eo(e,this.config)}}class eo extends R{static [t.entityKind]="MySqlDecimal";precision=this.config.precision;scale=this.config.scale;unsigned=this.config.unsigned;getSQLType(){let e="";return void 0!==this.precision&&void 0!==this.scale?e+=`decimal(${this.precision},${this.scale})`:void 0===this.precision?e+="decimal":e+=`decimal(${this.precision})`,e="decimal(10,0)"===e||"decimal(10)"===e?"decimal":e,this.unsigned?`${e} unsigned`:e}}function el(e,t={}){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new ea(r,i)}class ec extends N{static [t.entityKind]="MySqlDoubleBuilder";constructor(e,t){super(e,"number","MySqlDouble"),this.config.precision=t?.precision,this.config.scale=t?.scale,this.config.unsigned=t?.unsigned}build(e){return new eu(e,this.config)}}class eu extends R{static [t.entityKind]="MySqlDouble";precision=this.config.precision;scale=this.config.scale;unsigned=this.config.unsigned;getSQLType(){let e="";return void 0!==this.precision&&void 0!==this.scale?e+=`double(${this.precision},${this.scale})`:void 0===this.precision?e+="double":e+=`double(${this.precision})`,this.unsigned?`${e} unsigned`:e}}function ed(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new ec(r,i)}class eh extends P{static [t.entityKind]="MySqlEnumColumnBuilder";constructor(e,t){super(e,"string","MySqlEnumColumn"),this.config.enumValues=t}build(e){return new ef(e,this.config)}}class ef extends k{static [t.entityKind]="MySqlEnumColumn";enumValues=this.config.enumValues;getSQLType(){return`enum(${this.enumValues.map(e=>`'${e}'`).join(",")})`}}function ep(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);if(0===i.length)throw Error(`You have an empty array for "${r}" enum values`);return new eh(r,i)}class em extends N{static [t.entityKind]="MySqlFloatBuilder";constructor(e,t){super(e,"number","MySqlFloat"),this.config.precision=t?.precision,this.config.scale=t?.scale,this.config.unsigned=t?.unsigned}build(e){return new eg(e,this.config)}}class eg extends R{static [t.entityKind]="MySqlFloat";precision=this.config.precision;scale=this.config.scale;unsigned=this.config.unsigned;getSQLType(){let e="";return void 0!==this.precision&&void 0!==this.scale?e+=`float(${this.precision},${this.scale})`:void 0===this.precision?e+="float":e+=`float(${this.precision})`,this.unsigned?`${e} unsigned`:e}}function ey(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new em(r,i)}class eb extends N{static [t.entityKind]="MySqlIntBuilder";constructor(e,t){super(e,"number","MySqlInt"),this.config.unsigned=!!t&&t.unsigned}build(e){return new ew(e,this.config)}}class ew extends R{static [t.entityKind]="MySqlInt";getSQLType(){return`int${this.config.unsigned?" unsigned":""}`}mapFromDriverValue(e){return"string"==typeof e?Number(e):e}}function ev(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new eb(r,i)}class e_ extends P{static [t.entityKind]="MySqlJsonBuilder";constructor(e){super(e,"json","MySqlJson")}build(e){return new ex(e,this.config)}}class ex extends k{static [t.entityKind]="MySqlJson";getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}}function eS(e){return new e_(e??"")}class eT extends N{static [t.entityKind]="MySqlMediumIntBuilder";constructor(e,t){super(e,"number","MySqlMediumInt"),this.config.unsigned=!!t&&t.unsigned}build(e){return new eE(e,this.config)}}class eE extends R{static [t.entityKind]="MySqlMediumInt";getSQLType(){return`mediumint${this.config.unsigned?" unsigned":""}`}mapFromDriverValue(e){return"string"==typeof e?Number(e):e}}function eA(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new eT(r,i)}class eC extends N{static [t.entityKind]="MySqlRealBuilder";constructor(e,t){super(e,"number","MySqlReal"),this.config.precision=t?.precision,this.config.scale=t?.scale}build(e){return new eP(e,this.config)}}class eP extends R{static [t.entityKind]="MySqlReal";precision=this.config.precision;scale=this.config.scale;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`real(${this.precision}, ${this.scale})`:void 0===this.precision?"real":`real(${this.precision})`}}function ek(e,t={}){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new eC(r,i)}class eN extends N{static [t.entityKind]="MySqlSerialBuilder";constructor(e){super(e,"number","MySqlSerial"),this.config.hasDefault=!0,this.config.autoIncrement=!0}build(e){return new eR(e,this.config)}}class eR extends R{static [t.entityKind]="MySqlSerial";getSQLType(){return"serial"}mapFromDriverValue(e){return"string"==typeof e?Number(e):e}}function eO(e){return new eN(e??"")}class eq extends N{static [t.entityKind]="MySqlSmallIntBuilder";constructor(e,t){super(e,"number","MySqlSmallInt"),this.config.unsigned=!!t&&t.unsigned}build(e){return new eI(e,this.config)}}class eI extends R{static [t.entityKind]="MySqlSmallInt";getSQLType(){return`smallint${this.config.unsigned?" unsigned":""}`}mapFromDriverValue(e){return"string"==typeof e?Number(e):e}}function e$(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new eq(r,i)}class ej extends P{static [t.entityKind]="MySqlTextBuilder";constructor(e,t,r){super(e,"string","MySqlText"),this.config.textType=t,this.config.enumValues=r.enum}build(e){return new eL(e,this.config)}}class eL extends k{static [t.entityKind]="MySqlText";textType=this.config.textType;enumValues=this.config.enumValues;getSQLType(){return this.textType}}function eD(e,t={}){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new ej(r,"text",i)}function eM(e,t={}){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new ej(r,"tinytext",i)}function eU(e,t={}){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new ej(r,"mediumtext",i)}function eB(e,t={}){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new ej(r,"longtext",i)}class eK extends P{static [t.entityKind]="MySqlTimeBuilder";constructor(e,t){super(e,"string","MySqlTime"),this.config.fsp=t?.fsp}build(e){return new eH(e,this.config)}}class eH extends k{static [t.entityKind]="MySqlTime";fsp=this.config.fsp;getSQLType(){let e=void 0===this.fsp?"":`(${this.fsp})`;return`time${e}`}}function eQ(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new eK(r,i)}class eF extends P{static [t.entityKind]="MySqlDateColumnBuilder";defaultNow(){return this.default(i.sql`(now())`)}onUpdateNow(){return this.config.hasOnUpdateNow=!0,this.config.hasDefault=!0,this}}class eV extends k{static [t.entityKind]="MySqlDateColumn";hasOnUpdateNow=this.config.hasOnUpdateNow}class eW extends eF{static [t.entityKind]="MySqlTimestampBuilder";constructor(e,t){super(e,"date","MySqlTimestamp"),this.config.fsp=t?.fsp}build(e){return new ez(e,this.config)}}class ez extends eV{static [t.entityKind]="MySqlTimestamp";fsp=this.config.fsp;getSQLType(){let e=void 0===this.fsp?"":`(${this.fsp})`;return`timestamp${e}`}mapFromDriverValue(e){return new Date(e+"+0000")}mapToDriverValue(e){return e.toISOString().slice(0,-1).replace("T"," ")}}class eJ extends eF{static [t.entityKind]="MySqlTimestampStringBuilder";constructor(e,t){super(e,"string","MySqlTimestampString"),this.config.fsp=t?.fsp}build(e){return new eZ(e,this.config)}}class eZ extends eV{static [t.entityKind]="MySqlTimestampString";fsp=this.config.fsp;getSQLType(){let e=void 0===this.fsp?"":`(${this.fsp})`;return`timestamp${e}`}}function eG(e,t={}){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return i?.mode==="string"?new eJ(r,i):new eW(r,i)}class eX extends N{static [t.entityKind]="MySqlTinyIntBuilder";constructor(e,t){super(e,"number","MySqlTinyInt"),this.config.unsigned=!!t&&t.unsigned}build(e){return new eY(e,this.config)}}class eY extends R{static [t.entityKind]="MySqlTinyInt";getSQLType(){return`tinyint${this.config.unsigned?" unsigned":""}`}mapFromDriverValue(e){return"string"==typeof e?Number(e):e}}function e0(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new eX(r,i)}class e1 extends P{static [t.entityKind]="MySqlVarBinaryBuilder";constructor(e,t){super(e,"string","MySqlVarBinary"),this.config.length=t?.length}build(e){return new e2(e,this.config)}}class e2 extends k{static [t.entityKind]="MySqlVarBinary";length=this.config.length;getSQLType(){return void 0===this.length?"varbinary":`varbinary(${this.length})`}}function e5(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new e1(r,i)}class e4 extends P{static [t.entityKind]="MySqlVarCharBuilder";constructor(e,t){super(e,"string","MySqlVarChar"),this.config.length=t.length,this.config.enum=t.enum}build(e){return new e6(e,this.config)}}class e6 extends k{static [t.entityKind]="MySqlVarChar";length=this.config.length;enumValues=this.config.enum;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function e3(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return new e4(r,i)}class e9 extends P{static [t.entityKind]="MySqlYearBuilder";constructor(e){super(e,"number","MySqlYear")}build(e){return new e8(e,this.config)}}class e8 extends k{static [t.entityKind]="MySqlYear";getSQLType(){return"year"}}function e7(e){return new e9(e??"")}let te=Symbol.for("drizzle:MySqlInlineForeignKeys");class tt extends O.Table{static [t.entityKind]="MySqlTable";static Symbol=Object.assign({},O.Table.Symbol,{InlineForeignKeys:te});[O.Table.Symbol.Columns];[te]=[];[O.Table.Symbol.ExtraConfigBuilder]=void 0}let tr=(e,t,r)=>(function(e,t,r,i,n=e){let s=new tt(e,i,n),a=Object.fromEntries(Object.entries("function"==typeof t?t({bigint:L,binary:U,boolean:H,char:V,customType:J,date:ee,datetime:es,decimal:el,double:ed,mysqlEnum:ep,float:ey,int:ev,json:eS,mediumint:eA,real:ek,serial:eO,smallint:e$,text:eD,time:eQ,timestamp:eG,tinyint:e0,varbinary:e5,varchar:e3,year:e7,longtext:eB,mediumtext:eU,tinytext:eM}):t).map(([e,t])=>{t.setName(e);let r=t.build(s);return s[te].push(...t.buildForeignKeys(r,s)),[e,r]})),o=Object.assign(s,a);return o[O.Table.Symbol.Columns]=a,o[O.Table.Symbol.ExtraConfigColumns]=a,r&&(o[tt.Symbol.ExtraConfigBuilder]=r),o})(e,t,r,void 0,e);var ti=i;class tn extends ti.View{static [t.entityKind]="MySqlViewBase"}class ts{static [t.entityKind]="MySqlDialect";casing;constructor(e){this.casing=new f.CasingCache(e?.casing)}async migrate(e,t,r){let n=r.migrationsTable??"__drizzle_migrations",s=i.sql`
			create table if not exists ${i.sql.identifier(n)} (
				id serial primary key,
				hash text not null,
				created_at bigint
			)
		`;await t.execute(s);let a=(await t.all(i.sql`select id, hash, created_at from ${i.sql.identifier(n)} order by created_at desc limit 1`))[0];await t.transaction(async t=>{for(let r of e)if(!a||Number(a.created_at)<r.folderMillis){for(let e of r.sql)await t.execute(i.sql.raw(e));await t.execute(i.sql`insert into ${i.sql.identifier(n)} (\`hash\`, \`created_at\`) values(${r.hash}, ${r.folderMillis})`)}})}escapeName(e){return`\`${e}\``}escapeParam(e){return"?"}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let t=[i.sql`with `];for(let[r,n]of e.entries())t.push(i.sql`${i.sql.identifier(n._.alias)} as (${n._.sql})`),r<e.length-1&&t.push(i.sql`, `);return t.push(i.sql` `),i.sql.join(t)}buildDeleteQuery({table:e,where:t,returning:r,withList:n,limit:s,orderBy:a}){let o=this.buildWithCTE(n),l=r?i.sql` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,c=t?i.sql` where ${t}`:void 0,u=this.buildOrderBy(a),d=this.buildLimit(s);return i.sql`${o}delete from ${e}${c}${u}${d}${l}`}buildUpdateSet(e,t){let r=e[l.Table.Symbol.Columns],n=Object.keys(r).filter(e=>void 0!==t[e]||r[e]?.onUpdateFn!==void 0),s=n.length;return i.sql.join(n.flatMap((e,n)=>{let a=r[e],o=t[e]??i.sql.param(a.onUpdateFn(),a),l=i.sql`${i.sql.identifier(this.casing.getColumnCasing(a))} = ${o}`;return n<s-1?[l,i.sql.raw(", ")]:[l]}))}buildUpdateQuery({table:e,set:t,where:r,returning:n,withList:s,limit:a,orderBy:o}){let l=this.buildWithCTE(s),c=this.buildUpdateSet(e,t),u=n?i.sql` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,d=r?i.sql` where ${r}`:void 0,h=this.buildOrderBy(o),f=this.buildLimit(a);return i.sql`${l}update ${e} set ${c}${d}${h}${f}${u}`}buildSelection(e,{isSingleTable:r=!1}={}){let n=e.length,s=e.flatMap(({field:e},s)=>{let a=[];if((0,t.is)(e,i.SQL.Aliased)&&e.isSelectionField)a.push(i.sql.identifier(e.fieldAlias));else if((0,t.is)(e,i.SQL.Aliased)||(0,t.is)(e,i.SQL)){let n=(0,t.is)(e,i.SQL.Aliased)?e.sql:e;r?a.push(new i.SQL(n.queryChunks.map(e=>(0,t.is)(e,k)?i.sql.identifier(this.casing.getColumnCasing(e)):e))):a.push(n),(0,t.is)(e,i.SQL.Aliased)&&a.push(i.sql` as ${i.sql.identifier(e.fieldAlias)}`)}else(0,t.is)(e,p.Column)&&(r?a.push(i.sql.identifier(this.casing.getColumnCasing(e))):a.push(e));return s<n-1&&a.push(i.sql`, `),a});return i.sql.join(s)}buildLimit(e){return"object"==typeof e||"number"==typeof e&&e>=0?i.sql` limit ${e}`:void 0}buildOrderBy(e){return e&&e.length>0?i.sql` order by ${i.sql.join(e,i.sql`, `)}`:void 0}buildIndex({indexes:e,indexFor:t}){return e&&e.length>0?i.sql` ${i.sql.raw(t)} INDEX (${i.sql.raw(e.join(", "))})`:void 0}buildSelectQuery({withList:e,fields:r,fieldsFlat:s,where:a,having:o,table:c,joins:u,orderBy:h,groupBy:f,limit:m,offset:g,lockingClause:y,distinct:w,setOperators:v,useIndex:_,forceIndex:x,ignoreIndex:S}){let T,E=s??(0,d.orderSelectedFields)(r);for(let e of E){let r;if((0,t.is)(e.field,p.Column)&&(0,l.getTableName)(e.field.table)!==((0,t.is)(c,n.Subquery)?c._.alias:(0,t.is)(c,tn)?c[b.ViewBaseConfig].name:(0,t.is)(c,i.SQL)?void 0:(0,l.getTableName)(c))&&(r=e.field.table,!u?.some(({alias:e})=>e===(r[l.Table.Symbol.IsAlias]?(0,l.getTableName)(r):r[l.Table.Symbol.BaseName])))){let t=(0,l.getTableName)(e.field.table);throw Error(`Your "${e.path.join("->")}" field references a column "${t}"."${e.field.name}", but the table "${t}" is not part of the query! Did you forget to join it?`)}}let A=!u||0===u.length,C=this.buildWithCTE(e),P=w?i.sql` distinct`:void 0,k=this.buildSelection(E,{isSingleTable:A}),N=(0,t.is)(c,l.Table)&&c[l.Table.Symbol.OriginalName]!==c[l.Table.Symbol.Name]?i.sql`${i.sql.identifier(c[l.Table.Symbol.OriginalName])} ${i.sql.identifier(c[l.Table.Symbol.Name])}`:c,R=[];if(u)for(let[e,r]of u.entries()){0===e&&R.push(i.sql` `);let n=r.table,s=r.lateral?i.sql` lateral`:void 0;if((0,t.is)(n,tt)){let e=n[tt.Symbol.Name],t=n[tt.Symbol.Schema],a=n[tt.Symbol.OriginalName],o=e===a?void 0:r.alias,l=this.buildIndex({indexes:r.useIndex,indexFor:"USE"}),c=this.buildIndex({indexes:r.forceIndex,indexFor:"FORCE"}),u=this.buildIndex({indexes:r.ignoreIndex,indexFor:"IGNORE"});R.push(i.sql`${i.sql.raw(r.joinType)} join${s} ${t?i.sql`${i.sql.identifier(t)}.`:void 0}${i.sql.identifier(a)}${l}${c}${u}${o&&i.sql` ${i.sql.identifier(o)}`} on ${r.on}`)}else if((0,t.is)(n,i.View)){let e=n[b.ViewBaseConfig].name,t=n[b.ViewBaseConfig].schema,a=n[b.ViewBaseConfig].originalName,o=e===a?void 0:r.alias;R.push(i.sql`${i.sql.raw(r.joinType)} join${s} ${t?i.sql`${i.sql.identifier(t)}.`:void 0}${i.sql.identifier(a)}${o&&i.sql` ${i.sql.identifier(o)}`} on ${r.on}`)}else R.push(i.sql`${i.sql.raw(r.joinType)} join${s} ${n} on ${r.on}`);e<u.length-1&&R.push(i.sql` `)}let O=i.sql.join(R),q=a?i.sql` where ${a}`:void 0,I=o?i.sql` having ${o}`:void 0,$=this.buildOrderBy(h),j=f&&f.length>0?i.sql` group by ${i.sql.join(f,i.sql`, `)}`:void 0,L=this.buildLimit(m),D=g?i.sql` offset ${g}`:void 0,M=this.buildIndex({indexes:_,indexFor:"USE"}),U=this.buildIndex({indexes:x,indexFor:"FORCE"}),B=this.buildIndex({indexes:S,indexFor:"IGNORE"});if(y){let{config:e,strength:t}=y;T=i.sql` for ${i.sql.raw(t)}`,e.noWait?T.append(i.sql` no wait`):e.skipLocked&&T.append(i.sql` skip locked`)}let K=i.sql`${C}select${P} ${k} from ${N}${M}${U}${B}${O}${q}${j}${I}${$}${L}${D}${T}`;return v.length>0?this.buildSetOperations(K,v):K}buildSetOperations(e,t){let[r,...i]=t;if(!r)throw Error("Cannot pass undefined values to any set operator");return 0===i.length?this.buildSetOperationQuery({leftSelect:e,setOperator:r}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:r}),i)}buildSetOperationQuery({leftSelect:e,setOperator:{type:r,isAll:n,rightSelect:s,limit:a,orderBy:o,offset:l}}){let c,u=i.sql`(${e.getSQL()}) `,d=i.sql`(${s.getSQL()})`;if(o&&o.length>0){let e=[];for(let r of o)if((0,t.is)(r,k))e.push(i.sql.identifier(this.casing.getColumnCasing(r)));else if((0,t.is)(r,i.SQL)){for(let e=0;e<r.queryChunks.length;e++){let n=r.queryChunks[e];(0,t.is)(n,k)&&(r.queryChunks[e]=i.sql.identifier(this.casing.getColumnCasing(n)))}e.push(i.sql`${r}`)}else e.push(i.sql`${r}`);c=i.sql` order by ${i.sql.join(e,i.sql`, `)} `}let h="object"==typeof a||"number"==typeof a&&a>=0?i.sql` limit ${a}`:void 0,f=i.sql.raw(`${r} ${n?"all ":""}`),p=l?i.sql` offset ${l}`:void 0;return i.sql`${u}${f}${d}${c}${h}${p}`}buildInsertQuery({table:e,values:r,ignore:n,onConflict:s,select:a}){let o=[],c=Object.entries(e[l.Table.Symbol.Columns]).filter(([e,t])=>!t.shouldDisableInsert()),u=c.map(([,e])=>i.sql.identifier(this.casing.getColumnCasing(e))),d=[];if(a)(0,t.is)(r,i.SQL)?o.push(r):o.push(r.getSQL());else for(let[e,n]of(o.push(i.sql.raw("values ")),r.entries())){let s={},a=[];for(let[e,r]of c){let o=n[e];if(void 0===o||(0,t.is)(o,i.Param)&&void 0===o.value)if(void 0!==r.defaultFn){let n=r.defaultFn();s[e]=n;let o=(0,t.is)(n,i.SQL)?n:i.sql.param(n,r);a.push(o)}else if(r.default||void 0===r.onUpdateFn)a.push(i.sql`default`);else{let e=r.onUpdateFn(),n=(0,t.is)(e,i.SQL)?e:i.sql.param(e,r);a.push(n)}else r.defaultFn&&(0,t.is)(o,i.Param)&&(s[e]=o.value),a.push(o)}d.push(s),o.push(a),e<r.length-1&&o.push(i.sql`, `)}let h=i.sql.join(o),f=n?i.sql` ignore`:void 0,p=s?i.sql` on duplicate key ${s}`:void 0;return{sql:i.sql`insert${f} into ${e} ${u} ${h}${p}`,generatedIds:d}}sqlToQuery(e,t){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,invokeSource:t})}buildRelationalQuery({fullSchema:e,schema:r,tableNamesMap:s,table:a,tableConfig:o,queryConfig:c,tableAlias:u,nestedQueryRelation:d,joinOn:f}){let b,w,v,_,x,S=[],T=[];if(!0===c)S=Object.entries(o.columns).map(([e,t])=>({dbKey:t.name,tsKey:e,field:(0,h.aliasedTableColumn)(t,u),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let a=Object.fromEntries(Object.entries(o.columns).map(([e,t])=>[e,(0,h.aliasedTableColumn)(t,u)]));if(c.where){let e="function"==typeof c.where?c.where(a,(0,y.getOperators)()):c.where;_=e&&(0,h.mapColumnsInSQLToAlias)(e,u)}let d=[],f=[];if(c.columns){let e=!1;for(let[t,r]of Object.entries(c.columns))void 0!==r&&t in o.columns&&(e||!0!==r||(e=!0),f.push(t));f.length>0&&(f=e?f.filter(e=>c.columns?.[e]===!0):Object.keys(o.columns).filter(e=>!f.includes(e)))}else f=Object.keys(o.columns);for(let e of f){let t=o.columns[e];d.push({tsKey:e,value:t})}let m=[];if(c.with&&(m=Object.entries(c.with).filter(e=>!!e[1]).map(([e,t])=>({tsKey:e,queryConfig:t,relation:o.relations[e]}))),c.extras)for(let[e,t]of Object.entries("function"==typeof c.extras?c.extras(a,{sql:i.sql}):c.extras))d.push({tsKey:e,value:(0,h.mapColumnsInAliasedSQLToAlias)(t,u)});for(let{tsKey:e,value:r}of d)S.push({dbKey:(0,t.is)(r,i.SQL.Aliased)?r.fieldAlias:o.columns[e].name,tsKey:e,field:(0,t.is)(r,p.Column)?(0,h.aliasedTableColumn)(r,u):r,relationTableTsKey:void 0,isJson:!1,selection:[]});let x="function"==typeof c.orderBy?c.orderBy(a,(0,y.getOrderByOperators)()):c.orderBy??[];for(let{tsKey:a,queryConfig:o,relation:d}of(Array.isArray(x)||(x=[x]),v=x.map(e=>(0,t.is)(e,p.Column)?(0,h.aliasedTableColumn)(e,u):(0,h.mapColumnsInSQLToAlias)(e,u)),b=c.limit,w=c.offset,m)){let c=(0,y.normalizeRelation)(r,s,d),f=s[(0,l.getTableUniqueName)(d.referencedTable)],p=`${u}_${a}`,m=(0,g.and)(...c.fields.map((e,t)=>(0,g.eq)((0,h.aliasedTableColumn)(c.references[t],p),(0,h.aliasedTableColumn)(e,u)))),b=this.buildRelationalQuery({fullSchema:e,schema:r,tableNamesMap:s,table:e[f],tableConfig:r[f],queryConfig:(0,t.is)(d,y.One)?!0===o?{limit:1}:{...o,limit:1}:o,tableAlias:p,joinOn:m,nestedQueryRelation:d}),w=i.sql`${i.sql.identifier(p)}.${i.sql.identifier("data")}`.as(a);T.push({on:i.sql`true`,table:new n.Subquery(b.sql,{},p),alias:p,joinType:"left",lateral:!0}),S.push({dbKey:a,tsKey:a,field:w,relationTableTsKey:f,isJson:!0,selection:b.selection})}}if(0===S.length)throw new m.DrizzleError({message:`No fields selected for table "${o.tsName}" ("${u}")`});if(_=(0,g.and)(f,_),d){let e=i.sql`json_array(${i.sql.join(S.map(({field:e,tsKey:r,isJson:n})=>n?i.sql`${i.sql.identifier(`${u}_${r}`)}.${i.sql.identifier("data")}`:(0,t.is)(e,i.SQL.Aliased)?e.sql:e),i.sql`, `)})`;(0,t.is)(d,y.Many)&&(e=i.sql`coalesce(json_arrayagg(${e}), json_array())`);let r=[{dbKey:"data",tsKey:"data",field:e.as("data"),isJson:!0,relationTableTsKey:o.tsName,selection:S}];void 0!==b||void 0!==w||(v?.length??0)>0?(x=this.buildSelectQuery({table:(0,h.aliasedTable)(a,u),fields:{},fieldsFlat:[{path:[],field:i.sql.raw("*")},...(v?.length??0)>0?[{path:[],field:i.sql`row_number() over (order by ${i.sql.join(v,i.sql`, `)})`}]:[]],where:_,limit:b,offset:w,setOperators:[]}),_=void 0,b=void 0,w=void 0,v=void 0):x=(0,h.aliasedTable)(a,u),x=this.buildSelectQuery({table:(0,t.is)(x,tt)?x:new n.Subquery(x,{},u),fields:{},fieldsFlat:r.map(({field:e})=>({path:[],field:(0,t.is)(e,p.Column)?(0,h.aliasedTableColumn)(e,u):e})),joins:T,where:_,limit:b,offset:w,orderBy:v,setOperators:[]})}else x=this.buildSelectQuery({table:(0,h.aliasedTable)(a,u),fields:{},fieldsFlat:S.map(({field:e})=>({path:[],field:(0,t.is)(e,p.Column)?(0,h.aliasedTableColumn)(e,u):e})),joins:T,where:_,limit:b,offset:w,orderBy:v,setOperators:[]});return{tableTsKey:o.tsName,sql:x,selection:S}}buildRelationalQueryWithoutLateralSubqueries({fullSchema:e,schema:r,tableNamesMap:s,table:a,tableConfig:o,queryConfig:c,tableAlias:u,nestedQueryRelation:d,joinOn:f}){let b,w=[],v,_,x=[],S;if(!0===c)w=Object.entries(o.columns).map(([e,t])=>({dbKey:t.name,tsKey:e,field:(0,h.aliasedTableColumn)(t,u),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let n=Object.fromEntries(Object.entries(o.columns).map(([e,t])=>[e,(0,h.aliasedTableColumn)(t,u)]));if(c.where){let e="function"==typeof c.where?c.where(n,(0,y.getOperators)()):c.where;S=e&&(0,h.mapColumnsInSQLToAlias)(e,u)}let a=[],d=[];if(c.columns){let e=!1;for(let[t,r]of Object.entries(c.columns))void 0!==r&&t in o.columns&&(e||!0!==r||(e=!0),d.push(t));d.length>0&&(d=e?d.filter(e=>c.columns?.[e]===!0):Object.keys(o.columns).filter(e=>!d.includes(e)))}else d=Object.keys(o.columns);for(let e of d){let t=o.columns[e];a.push({tsKey:e,value:t})}let f=[];if(c.with&&(f=Object.entries(c.with).filter(e=>!!e[1]).map(([e,t])=>({tsKey:e,queryConfig:t,relation:o.relations[e]}))),c.extras)for(let[e,t]of Object.entries("function"==typeof c.extras?c.extras(n,{sql:i.sql}):c.extras))a.push({tsKey:e,value:(0,h.mapColumnsInAliasedSQLToAlias)(t,u)});for(let{tsKey:e,value:r}of a)w.push({dbKey:(0,t.is)(r,i.SQL.Aliased)?r.fieldAlias:o.columns[e].name,tsKey:e,field:(0,t.is)(r,p.Column)?(0,h.aliasedTableColumn)(r,u):r,relationTableTsKey:void 0,isJson:!1,selection:[]});let m="function"==typeof c.orderBy?c.orderBy(n,(0,y.getOrderByOperators)()):c.orderBy??[];for(let{tsKey:n,queryConfig:a,relation:o}of(Array.isArray(m)||(m=[m]),x=m.map(e=>(0,t.is)(e,p.Column)?(0,h.aliasedTableColumn)(e,u):(0,h.mapColumnsInSQLToAlias)(e,u)),v=c.limit,_=c.offset,f)){let c=(0,y.normalizeRelation)(r,s,o),d=s[(0,l.getTableUniqueName)(o.referencedTable)],f=`${u}_${n}`,p=(0,g.and)(...c.fields.map((e,t)=>(0,g.eq)((0,h.aliasedTableColumn)(c.references[t],f),(0,h.aliasedTableColumn)(e,u)))),m=this.buildRelationalQueryWithoutLateralSubqueries({fullSchema:e,schema:r,tableNamesMap:s,table:e[d],tableConfig:r[d],queryConfig:(0,t.is)(o,y.One)?!0===a?{limit:1}:{...a,limit:1}:a,tableAlias:f,joinOn:p,nestedQueryRelation:o}),b=i.sql`(${m.sql})`;(0,t.is)(o,y.Many)&&(b=i.sql`coalesce(${b}, json_array())`);let v=b.as(n);w.push({dbKey:n,tsKey:n,field:v,relationTableTsKey:d,isJson:!0,selection:m.selection})}}if(0===w.length)throw new m.DrizzleError({message:`No fields selected for table "${o.tsName}" ("${u}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`});if(S=(0,g.and)(f,S),d){let e=i.sql`json_array(${i.sql.join(w.map(({field:e})=>(0,t.is)(e,k)?i.sql.identifier(this.casing.getColumnCasing(e)):(0,t.is)(e,i.SQL.Aliased)?e.sql:e),i.sql`, `)})`;(0,t.is)(d,y.Many)&&(e=i.sql`json_arrayagg(${e})`);let r=[{dbKey:"data",tsKey:"data",field:e,isJson:!0,relationTableTsKey:o.tsName,selection:w}];void 0!==v||void 0!==_||x.length>0?(b=this.buildSelectQuery({table:(0,h.aliasedTable)(a,u),fields:{},fieldsFlat:[{path:[],field:i.sql.raw("*")},...x.length>0?[{path:[],field:i.sql`row_number() over (order by ${i.sql.join(x,i.sql`, `)})`}]:[]],where:S,limit:v,offset:_,setOperators:[]}),S=void 0,v=void 0,_=void 0,x=void 0):b=(0,h.aliasedTable)(a,u),b=this.buildSelectQuery({table:(0,t.is)(b,tt)?b:new n.Subquery(b,{},u),fields:{},fieldsFlat:r.map(({field:e})=>({path:[],field:(0,t.is)(e,p.Column)?(0,h.aliasedTableColumn)(e,u):e})),where:S,limit:v,offset:_,orderBy:x,setOperators:[]})}else b=this.buildSelectQuery({table:(0,h.aliasedTable)(a,u),fields:{},fieldsFlat:w.map(({field:e})=>({path:[],field:(0,t.is)(e,p.Column)?(0,h.aliasedTableColumn)(e,u):e})),where:S,limit:v,offset:_,orderBy:x,setOperators:[]});return{tableTsKey:o.tsName,sql:b,selection:w}}}var ta=e.i(57235);class to{constructor(e,t){this.name=e,this.value=t}static [t.entityKind]="MySqlCheckBuilder";brand;build(e){return new tl(e,this)}}class tl{constructor(e,t){this.table=e,this.name=t.name,this.value=t.value}static [t.entityKind]="MySqlCheck";name;value}class tc{constructor(e,t){this.name=e,this.unique=t}static [t.entityKind]="MySqlIndexBuilderOn";on(...e){return new tu(this.name,e,this.unique)}}class tu{static [t.entityKind]="MySqlIndexBuilder";config;constructor(e,t,r){this.config={name:e,columns:t,unique:r}}using(e){return this.config.using=e,this}algorythm(e){return this.config.algorythm=e,this}lock(e){return this.config.lock=e,this}build(e){return new td(this.config,e)}}class td{static [t.entityKind]="MySqlIndex";config;constructor(e,t){this.config={...e,table:t}}}function th(...e){return e[0].columns?new tf(e[0].columns,e[0].name):new tf(e)}class tf{static [t.entityKind]="MySqlPrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new tp(e,this.columns,this.name)}}class tp{constructor(e,t,r){this.table=e,this.columns=t,this.name=r}static [t.entityKind]="MySqlPrimaryKey";columns;name;getName(){return this.name??`${this.table[tt.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}function tm(e){return e.map(e=>"object"==typeof e?e.config.name:e)}function tg(e){return Array.isArray(e)?e:[e]}Symbol.for("drizzle:MySqlViewConfig");class ty{static [t.entityKind]="MySqlSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}from(e,r){let s,a=!!this.fields;s=this.fields?this.fields:(0,t.is)(e,n.Subquery)?Object.fromEntries(Object.keys(e._.selectedFields).map(t=>[t,e[t]])):(0,t.is)(e,tn)?e[b.ViewBaseConfig].selectedFields:(0,t.is)(e,i.SQL)?{}:(0,d.getTableColumns)(e);let o=[],l=[],c=[];return(0,t.is)(e,tt)&&r&&"string"!=typeof r&&(r.useIndex&&(o=tm(tg(r.useIndex))),r.forceIndex&&(l=tm(tg(r.forceIndex))),r.ignoreIndex&&(c=tm(tg(r.ignoreIndex)))),new tw({table:e,fields:s,isPartialSelect:a,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct,useIndex:o,forceIndex:l,ignoreIndex:c})}}class tb extends ta.TypedQueryBuilder{static [t.entityKind]="MySqlSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;constructor({table:e,fields:t,isPartialSelect:r,session:i,dialect:n,withList:s,distinct:a,useIndex:o,forceIndex:l,ignoreIndex:c}){super(),this.config={withList:s,table:e,fields:{...t},distinct:a,setOperators:[],useIndex:o,forceIndex:l,ignoreIndex:c},this.isPartialSelect=r,this.session=i,this.dialect=n,this._={selectedFields:t},this.tableName=(0,d.getTableLikeName)(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}createJoin(e){return(s,a,o)=>{let c=this.tableName,u=(0,d.getTableLikeName)(s);if("string"==typeof u&&this.config.joins?.some(e=>e.alias===u))throw Error(`Alias "${u}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof c&&(this.config.fields={[c]:this.config.fields}),"string"==typeof u&&!(0,t.is)(s,i.SQL))){let e=(0,t.is)(s,n.Subquery)?s._.selectedFields:(0,t.is)(s,i.View)?s[b.ViewBaseConfig].selectedFields:s[l.Table.Symbol.Columns];this.config.fields[u]=e}"function"==typeof a&&(a=a(new Proxy(this.config.fields,new r.SelectionProxyHandler({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]);let h=[],f=[],p=[];if((0,t.is)(s,tt)&&o&&"string"!=typeof o&&(o.useIndex&&(h=tm(tg(o.useIndex))),o.forceIndex&&(f=tm(tg(o.forceIndex))),o.ignoreIndex&&(p=tm(tg(o.ignoreIndex)))),this.config.joins.push({on:a,table:s,joinType:e,alias:u,useIndex:h,forceIndex:f,ignoreIndex:p}),"string"==typeof u)switch(e){case"left":this.joinsNotNullableMap[u]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[u]=!0;break;case"inner":this.joinsNotNullableMap[u]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[u]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");createSetOperator(e,t){return r=>{let i="function"==typeof r?r(t_()):r;if(!(0,d.haveSameKeys)(this.getSelectedFields(),i.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:t,rightSelect:i}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new r.SelectionProxyHandler({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new r.SelectionProxyHandler({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new r.SelectionProxyHandler({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(t)?t:[t]}else this.config.groupBy=e;return this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new r.SelectionProxyHandler({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),i=Array.isArray(t)?t:[t];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=i:this.config.orderBy=i}else this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=e:this.config.orderBy=e;return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,t={}){return this.config.lockingClause={strength:e,config:t},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}as(e){return new Proxy(new n.Subquery(this.getSQL(),this.config.fields,e),new r.SelectionProxyHandler({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new r.SelectionProxyHandler({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}class tw extends tb{static [t.entityKind]="MySqlSelect";prepare(){if(!this.session)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");let e=(0,d.orderSelectedFields)(this.config.fields),t=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),e);return t.joinsNotNullableMap=this.joinsNotNullableMap,t}execute=e=>this.prepare().execute(e);createIterator=()=>{let e=this;return async function*(t){yield*e.prepare().iterator(t)}};iterator=this.createIterator()}function tv(e,t){return(r,i,...n)=>{let s=[i,...n].map(r=>({type:e,isAll:t,rightSelect:r}));for(let e of s)if(!(0,d.haveSameKeys)(r.getSelectedFields(),e.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(s)}}(0,d.applyMixins)(tw,[o.QueryPromise]);let t_=()=>({union:tx,unionAll:tS,intersect:tT,intersectAll:tE,except:tA,exceptAll:tC}),tx=tv("union",!1),tS=tv("union",!0),tT=tv("intersect",!1),tE=tv("intersect",!0),tA=tv("except",!1),tC=tv("except",!0);class tP{static [t.entityKind]="MySqlQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=(0,t.is)(e,ts)?e:void 0,this.dialectConfig=(0,t.is)(e,ts)?void 0:e}$with=(e,t)=>{let i=this;return{as:s=>("function"==typeof s&&(s=s(i)),new Proxy(new n.WithSubquery(s.getSQL(),t??("getSelectedFields"in s?s.getSelectedFields()??{}:{}),e,!0),new r.SelectionProxyHandler({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let t=this;return{select:function(r){return new ty({fields:r??void 0,session:void 0,dialect:t.getDialect(),withList:e})},selectDistinct:function(r){return new ty({fields:r??void 0,session:void 0,dialect:t.getDialect(),withList:e,distinct:!0})}}}select(e){return new ty({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new ty({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}getDialect(){return this.dialect||(this.dialect=new ts(this.dialectConfig)),this.dialect}}class tk{constructor(e,t,r){this.table=e,this.session=t,this.dialect=r}static [t.entityKind]="MySqlInsertBuilder";shouldIgnore=!1;ignore(){return this.shouldIgnore=!0,this}values(e){if(0===(e=Array.isArray(e)?e:[e]).length)throw Error("values() must be called with at least one value");let r=e.map(e=>{let r={},n=this.table[l.Table.Symbol.Columns];for(let s of Object.keys(e)){let a=e[s];r[s]=(0,t.is)(a,i.SQL)?a:new i.Param(a,n[s])}return r});return new tN(this.table,r,this.shouldIgnore,this.session,this.dialect)}select(e){let r="function"==typeof e?e(new tP):e;if(!(0,t.is)(r,i.SQL)&&!(0,d.haveSameKeys)(this.table[l.Columns],r._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new tN(this.table,r,this.shouldIgnore,this.session,this.dialect,!0)}}class tN extends u.QueryPromise{constructor(e,t,r,i,n,s){super(),this.session=i,this.dialect=n,this.config={table:e,values:t,select:s,ignore:r}}static [t.entityKind]="MySqlInsert";config;onDuplicateKeyUpdate(e){let t=this.dialect.buildUpdateSet(this.config.table,(0,d.mapUpdateSet)(this.config.table,e.set));return this.config.onConflict=i.sql`update ${t}`,this}$returningId(){let e=[];for(let[t,r]of Object.entries(this.config.table[l.Table.Symbol.Columns]))r.primary&&e.push({field:r,path:[t]});return this.config.returning=e,this}getSQL(){return this.dialect.buildInsertQuery(this.config).sql}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}prepare(){let{sql:e,generatedIds:t}=this.dialect.buildInsertQuery(this.config);return this.session.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,t,this.config.returning)}execute=e=>this.prepare().execute(e);createIterator=()=>{let e=this;return async function*(t){yield*e.prepare().iterator(t)}};iterator=this.createIterator();$dynamic(){return this}}var tR=o;class tO{constructor(e,t,r,i){this.table=e,this.session=t,this.dialect=r,this.withList=i}static [t.entityKind]="MySqlUpdateBuilder";set(e){return new tq(this.table,(0,d.mapUpdateSet)(this.table,e),this.session,this.dialect,this.withList)}}class tq extends tR.QueryPromise{constructor(e,t,r,i,n){super(),this.session=r,this.dialect=i,this.config={set:t,table:e,withList:n}}static [t.entityKind]="MySqlUpdate";config;where(e){return this.config.where=e,this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.table[l.Table.Symbol.Columns],new r.SelectionProxyHandler({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),i=Array.isArray(t)?t:[t];this.config.orderBy=i}else this.config.orderBy=e;return this}limit(e){return this.config.limit=e,this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}prepare(){return this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning)}execute=e=>this.prepare().execute(e);createIterator=()=>{let e=this;return async function*(t){yield*e.prepare().iterator(t)}};iterator=this.createIterator();$dynamic(){return this}}var tI=o;class t${constructor(e,t,r,i,n,s,a,o){this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=i,this.tableConfig=n,this.dialect=s,this.session=a,this.mode=o}static [t.entityKind]="MySqlRelationalQueryBuilder";findMany(e){return new tj(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many",this.mode)}findFirst(e){return new tj(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first",this.mode)}}class tj extends tI.QueryPromise{constructor(e,t,r,i,n,s,a,o,l,c){super(),this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=i,this.tableConfig=n,this.dialect=s,this.session=a,this.config=o,this.queryMode=l,this.mode=c}static [t.entityKind]="MySqlRelationalQuery";prepare(){let{query:e,builtQuery:t}=this._toSQL();return this.session.prepareQuery(t,void 0,t=>{let r=t.map(t=>(0,y.mapRelationalRow)(this.schema,this.tableConfig,t,e.selection));return"first"===this.queryMode?r[0]:r})}_getQuery(){return"planetscale"===this.mode?this.dialect.buildRelationalQueryWithoutLateralSubqueries({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}):this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}_toSQL(){let e=this._getQuery();return{builtQuery:this.dialect.sqlToQuery(e.sql),query:e}}getSQL(){return this._getQuery().sql}toSQL(){return this._toSQL().builtQuery}execute(){return this.prepare().execute()}}class tL{constructor(e,t,r,i){if(this.dialect=e,this.session=t,this.mode=i,this._=r?{schema:r.schema,fullSchema:r.fullSchema,tableNamesMap:r.tableNamesMap}:{schema:void 0,fullSchema:{},tableNamesMap:{}},this.query={},this._.schema)for(const[i,n]of Object.entries(this._.schema))this.query[i]=new t$(r.fullSchema,this._.schema,this._.tableNamesMap,r.fullSchema[i],n,e,t,this.mode)}static [t.entityKind]="MySqlDatabase";query;$with=(e,t)=>{let i=this;return{as:s=>("function"==typeof s&&(s=s(new tP(i.dialect))),new Proxy(new n.WithSubquery(s.getSQL(),t??("getSelectedFields"in s?s.getSelectedFields()??{}:{}),e,!0),new r.SelectionProxyHandler({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,t){return new a({source:e,filters:t,session:this.session})}with(...e){let t=this;return{select:function(r){return new ty({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e})},selectDistinct:function(r){return new ty({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:!0})},update:function(r){return new tO(r,t.session,t.dialect,e)},delete:function(r){return new c(r,t.session,t.dialect,e)}}}select(e){return new ty({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new ty({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}update(e){return new tO(e,this.session,this.dialect)}insert(e){return new tk(e,this.session,this.dialect)}delete(e){return new c(e,this.session,this.dialect)}execute(e){return this.session.execute("string"==typeof e?i.sql.raw(e):e.getSQL())}transaction(e,t){return this.session.transaction(e,t)}}var tD=e.i(44482),tM=w,tU=p;class tB{static [t.entityKind]="SQLiteForeignKeyBuilder";reference;_onUpdate;_onDelete;constructor(e,t){this.reference=()=>{let{name:t,columns:r,foreignColumns:i}=e();return{name:t,columns:r,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=e,this}onDelete(e){return this._onDelete=e,this}build(e){return new tK(e,this)}}class tK{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [t.entityKind]="SQLiteForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:r}=this.reference(),i=t.map(e=>e.name),n=r.map(e=>e.name),s=[this.table[_.TableName],...i,r[0].table[_.TableName],...n];return e??`${s.join("_")}_fk`}}function tH(e,t){return`${e[_.TableName]}_${t.join("_")}_unique`}class tQ{constructor(e,t){this.name=t,this.columns=e}static [t.entityKind]="SQLiteUniqueConstraintBuilder";columns;build(e){return new tV(e,this.columns,this.name)}}class tF{static [t.entityKind]="SQLiteUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new tQ(e,this.name)}}class tV{constructor(e,t,r){this.table=e,this.columns=t,this.name=r??tH(this.table,this.columns.map(e=>e.name))}static [t.entityKind]="SQLiteUniqueConstraint";columns;name;getName(){return this.name}}class tW extends tM.ColumnBuilder{static [t.entityKind]="SQLiteColumnBuilder";foreignKeyConfigs=[];references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e){return this.config.isUnique=!0,this.config.uniqueName=e,this}generatedAlwaysAs(e,t){return this.config.generated={as:e,type:"always",mode:t?.mode??"virtual"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:r,actions:i})=>{let n;return n=new tB(()=>({columns:[e],foreignColumns:[r()]})),i.onUpdate&&n.onUpdate(i.onUpdate),i.onDelete&&n.onDelete(i.onDelete),n.build(t)})}}class tz extends tU.Column{constructor(e,t){t.uniqueName||(t.uniqueName=tH(e,[t.name])),super(e,t),this.table=e}static [t.entityKind]="SQLiteColumn"}var tJ=l;class tZ extends tW{static [t.entityKind]="SQLiteBigIntBuilder";constructor(e){super(e,"bigint","SQLiteBigInt")}build(e){return new tG(e,this.config)}}class tG extends tz{static [t.entityKind]="SQLiteBigInt";getSQLType(){return"blob"}mapFromDriverValue(e){return Buffer.isBuffer(e)?BigInt(e.toString()):e instanceof ArrayBuffer?BigInt(new TextDecoder().decode(e)):BigInt(String.fromCodePoint(...e))}mapToDriverValue(e){return Buffer.from(e.toString())}}class tX extends tW{static [t.entityKind]="SQLiteBlobJsonBuilder";constructor(e){super(e,"json","SQLiteBlobJson")}build(e){return new tY(e,this.config)}}class tY extends tz{static [t.entityKind]="SQLiteBlobJson";getSQLType(){return"blob"}mapFromDriverValue(e){return Buffer.isBuffer(e)?JSON.parse(e.toString()):e instanceof ArrayBuffer?JSON.parse(new TextDecoder().decode(e)):JSON.parse(String.fromCodePoint(...e))}mapToDriverValue(e){return Buffer.from(JSON.stringify(e))}}class t0 extends tW{static [t.entityKind]="SQLiteBlobBufferBuilder";constructor(e){super(e,"buffer","SQLiteBlobBuffer")}build(e){return new t1(e,this.config)}}class t1 extends tz{static [t.entityKind]="SQLiteBlobBuffer";getSQLType(){return"blob"}}function t2(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return i?.mode==="json"?new tX(r):i?.mode==="bigint"?new tZ(r):new t0(r)}class t5 extends tW{static [t.entityKind]="SQLiteCustomColumnBuilder";constructor(e,t,r){super(e,"custom","SQLiteCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=r}build(e){return new t4(e,this.config)}}class t4 extends tz{static [t.entityKind]="SQLiteCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function t6(e){return(t,r)=>{let{name:i,config:n}=(0,d.getColumnNameAndConfig)(t,r);return new t5(i,n,e)}}class t3 extends tW{static [t.entityKind]="SQLiteBaseIntegerBuilder";constructor(e,t,r){super(e,t,r),this.config.autoIncrement=!1}primaryKey(e){return e?.autoIncrement&&(this.config.autoIncrement=!0),this.config.hasDefault=!0,super.primaryKey()}}class t9 extends tz{static [t.entityKind]="SQLiteBaseInteger";autoIncrement=this.config.autoIncrement;getSQLType(){return"integer"}}class t8 extends t3{static [t.entityKind]="SQLiteIntegerBuilder";constructor(e){super(e,"number","SQLiteInteger")}build(e){return new t7(e,this.config)}}class t7 extends t9{static [t.entityKind]="SQLiteInteger"}class re extends t3{static [t.entityKind]="SQLiteTimestampBuilder";constructor(e,t){super(e,"date","SQLiteTimestamp"),this.config.mode=t}defaultNow(){return this.default(i.sql`(cast((julianday('now') - 2440587.5)*86400000 as integer))`)}build(e){return new rt(e,this.config)}}class rt extends t9{static [t.entityKind]="SQLiteTimestamp";mode=this.config.mode;mapFromDriverValue(e){return new Date("timestamp"===this.config.mode?1e3*e:e)}mapToDriverValue(e){let t=e.getTime();return"timestamp"===this.config.mode?Math.floor(t/1e3):t}}class rr extends t3{static [t.entityKind]="SQLiteBooleanBuilder";constructor(e,t){super(e,"boolean","SQLiteBoolean"),this.config.mode=t}build(e){return new ri(e,this.config)}}class ri extends t9{static [t.entityKind]="SQLiteBoolean";mode=this.config.mode;mapFromDriverValue(e){return 1===Number(e)}mapToDriverValue(e){return+!!e}}function rn(e,t){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return i?.mode==="timestamp"||i?.mode==="timestamp_ms"?new re(r,i.mode):i?.mode==="boolean"?new rr(r,i.mode):new t8(r)}class rs extends tW{static [t.entityKind]="SQLiteNumericBuilder";constructor(e){super(e,"string","SQLiteNumeric")}build(e){return new ra(e,this.config)}}class ra extends tz{static [t.entityKind]="SQLiteNumeric";getSQLType(){return"numeric"}}function ro(e){return new rs(e??"")}class rl extends tW{static [t.entityKind]="SQLiteRealBuilder";constructor(e){super(e,"number","SQLiteReal")}build(e){return new rc(e,this.config)}}class rc extends tz{static [t.entityKind]="SQLiteReal";getSQLType(){return"real"}}function ru(e){return new rl(e??"")}class rd extends tW{static [t.entityKind]="SQLiteTextBuilder";constructor(e,t){super(e,"string","SQLiteText"),this.config.enumValues=t.enum,this.config.length=t.length}build(e){return new rh(e,this.config)}}class rh extends tz{static [t.entityKind]="SQLiteText";enumValues=this.config.enumValues;length=this.config.length;constructor(e,t){super(e,t)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}class rf extends tW{static [t.entityKind]="SQLiteTextJsonBuilder";constructor(e){super(e,"json","SQLiteTextJson")}build(e){return new rp(e,this.config)}}class rp extends tz{static [t.entityKind]="SQLiteTextJson";getSQLType(){return"text"}mapFromDriverValue(e){return JSON.parse(e)}mapToDriverValue(e){return JSON.stringify(e)}}function rm(e,t={}){let{name:r,config:i}=(0,d.getColumnNameAndConfig)(e,t);return"json"===i.mode?new rf(r):new rd(r,i)}let rg=Symbol.for("drizzle:SQLiteInlineForeignKeys");class ry extends tJ.Table{static [t.entityKind]="SQLiteTable";static Symbol=Object.assign({},tJ.Table.Symbol,{InlineForeignKeys:rg});[tJ.Table.Symbol.Columns];[rg]=[];[tJ.Table.Symbol.ExtraConfigBuilder]=void 0}let rb=(e,t,r)=>(function(e,t,r,i,n=e){let s=new ry(e,void 0,n),a=Object.fromEntries(Object.entries("function"==typeof t?t({blob:t2,customType:t6,integer:rn,numeric:ro,real:ru,text:rm}):t).map(([e,t])=>{t.setName(e);let r=t.build(s);return s[rg].push(...t.buildForeignKeys(r,s)),[e,r]})),o=Object.assign(s,a);return o[tJ.Table.Symbol.Columns]=a,o[tJ.Table.Symbol.ExtraConfigColumns]=a,r&&(o[ry.Symbol.ExtraConfigBuilder]=r),o})(e,t,r);var rw=i;class rv extends rw.View{static [t.entityKind]="SQLiteViewBase"}class r_{static [t.entityKind]="SQLiteDialect";casing;constructor(e){this.casing=new f.CasingCache(e?.casing)}escapeName(e){return`"${e}"`}escapeParam(e){return"?"}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let t=[i.sql`with `];for(let[r,n]of e.entries())t.push(i.sql`${i.sql.identifier(n._.alias)} as (${n._.sql})`),r<e.length-1&&t.push(i.sql`, `);return t.push(i.sql` `),i.sql.join(t)}buildDeleteQuery({table:e,where:t,returning:r,withList:n,limit:s,orderBy:a}){let o=this.buildWithCTE(n),l=r?i.sql` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,c=t?i.sql` where ${t}`:void 0,u=this.buildOrderBy(a),d=this.buildLimit(s);return i.sql`${o}delete from ${e}${c}${l}${u}${d}`}buildUpdateSet(e,t){let r=e[l.Table.Symbol.Columns],n=Object.keys(r).filter(e=>void 0!==t[e]||r[e]?.onUpdateFn!==void 0),s=n.length;return i.sql.join(n.flatMap((e,n)=>{let a=r[e],o=t[e]??i.sql.param(a.onUpdateFn(),a),l=i.sql`${i.sql.identifier(this.casing.getColumnCasing(a))} = ${o}`;return n<s-1?[l,i.sql.raw(", ")]:[l]}))}buildUpdateQuery({table:e,set:t,where:r,returning:n,withList:s,joins:a,from:o,limit:l,orderBy:c}){let u=this.buildWithCTE(s),d=this.buildUpdateSet(e,t),h=o&&i.sql.join([i.sql.raw(" from "),this.buildFromTable(o)]),f=this.buildJoins(a),p=n?i.sql` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,m=r?i.sql` where ${r}`:void 0,g=this.buildOrderBy(c),y=this.buildLimit(l);return i.sql`${u}update ${e} set ${d}${h}${f}${m}${p}${g}${y}`}buildSelection(e,{isSingleTable:r=!1}={}){let n=e.length,s=e.flatMap(({field:e},s)=>{let a=[];if((0,t.is)(e,i.SQL.Aliased)&&e.isSelectionField)a.push(i.sql.identifier(e.fieldAlias));else if((0,t.is)(e,i.SQL.Aliased)||(0,t.is)(e,i.SQL)){let n=(0,t.is)(e,i.SQL.Aliased)?e.sql:e;r?a.push(new i.SQL(n.queryChunks.map(e=>(0,t.is)(e,p.Column)?i.sql.identifier(this.casing.getColumnCasing(e)):e))):a.push(n),(0,t.is)(e,i.SQL.Aliased)&&a.push(i.sql` as ${i.sql.identifier(e.fieldAlias)}`)}else if((0,t.is)(e,p.Column)){let t=e.table[l.Table.Symbol.Name];r?a.push(i.sql.identifier(this.casing.getColumnCasing(e))):a.push(i.sql`${i.sql.identifier(t)}.${i.sql.identifier(this.casing.getColumnCasing(e))}`)}return s<n-1&&a.push(i.sql`, `),a});return i.sql.join(s)}buildJoins(e){if(!e||0===e.length)return;let r=[];if(e)for(let[n,s]of e.entries()){0===n&&r.push(i.sql` `);let a=s.table;if((0,t.is)(a,ry)){let e=a[ry.Symbol.Name],t=a[ry.Symbol.Schema],n=a[ry.Symbol.OriginalName],o=e===n?void 0:s.alias;r.push(i.sql`${i.sql.raw(s.joinType)} join ${t?i.sql`${i.sql.identifier(t)}.`:void 0}${i.sql.identifier(n)}${o&&i.sql` ${i.sql.identifier(o)}`} on ${s.on}`)}else r.push(i.sql`${i.sql.raw(s.joinType)} join ${a} on ${s.on}`);n<e.length-1&&r.push(i.sql` `)}return i.sql.join(r)}buildLimit(e){return"object"==typeof e||"number"==typeof e&&e>=0?i.sql` limit ${e}`:void 0}buildOrderBy(e){let t=[];if(e)for(let[r,n]of e.entries())t.push(n),r<e.length-1&&t.push(i.sql`, `);return t.length>0?i.sql` order by ${i.sql.join(t)}`:void 0}buildFromTable(e){return(0,t.is)(e,l.Table)&&e[l.Table.Symbol.OriginalName]!==e[l.Table.Symbol.Name]?i.sql`${i.sql.identifier(e[l.Table.Symbol.OriginalName])} ${i.sql.identifier(e[l.Table.Symbol.Name])}`:e}buildSelectQuery({withList:e,fields:r,fieldsFlat:s,where:a,having:o,table:c,joins:u,orderBy:h,groupBy:f,limit:m,offset:g,distinct:y,setOperators:w}){let v=s??(0,d.orderSelectedFields)(r);for(let e of v){let r;if((0,t.is)(e.field,p.Column)&&(0,l.getTableName)(e.field.table)!==((0,t.is)(c,n.Subquery)?c._.alias:(0,t.is)(c,rv)?c[b.ViewBaseConfig].name:(0,t.is)(c,i.SQL)?void 0:(0,l.getTableName)(c))&&(r=e.field.table,!u?.some(({alias:e})=>e===(r[l.Table.Symbol.IsAlias]?(0,l.getTableName)(r):r[l.Table.Symbol.BaseName])))){let t=(0,l.getTableName)(e.field.table);throw Error(`Your "${e.path.join("->")}" field references a column "${t}"."${e.field.name}", but the table "${t}" is not part of the query! Did you forget to join it?`)}}let _=!u||0===u.length,x=this.buildWithCTE(e),S=y?i.sql` distinct`:void 0,T=this.buildSelection(v,{isSingleTable:_}),E=this.buildFromTable(c),A=this.buildJoins(u),C=a?i.sql` where ${a}`:void 0,P=o?i.sql` having ${o}`:void 0,k=[];if(f)for(let[e,t]of f.entries())k.push(t),e<f.length-1&&k.push(i.sql`, `);let N=k.length>0?i.sql` group by ${i.sql.join(k)}`:void 0,R=this.buildOrderBy(h),O=this.buildLimit(m),q=g?i.sql` offset ${g}`:void 0,I=i.sql`${x}select${S} ${T} from ${E}${A}${C}${N}${P}${R}${O}${q}`;return w.length>0?this.buildSetOperations(I,w):I}buildSetOperations(e,t){let[r,...i]=t;if(!r)throw Error("Cannot pass undefined values to any set operator");return 0===i.length?this.buildSetOperationQuery({leftSelect:e,setOperator:r}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:r}),i)}buildSetOperationQuery({leftSelect:e,setOperator:{type:r,isAll:n,rightSelect:s,limit:a,orderBy:o,offset:l}}){let c,u=i.sql`${e.getSQL()} `,d=i.sql`${s.getSQL()}`;if(o&&o.length>0){let e=[];for(let r of o)if((0,t.is)(r,tz))e.push(i.sql.identifier(r.name));else if((0,t.is)(r,i.SQL)){for(let e=0;e<r.queryChunks.length;e++){let n=r.queryChunks[e];(0,t.is)(n,tz)&&(r.queryChunks[e]=i.sql.identifier(this.casing.getColumnCasing(n)))}e.push(i.sql`${r}`)}else e.push(i.sql`${r}`);c=i.sql` order by ${i.sql.join(e,i.sql`, `)}`}let h="object"==typeof a||"number"==typeof a&&a>=0?i.sql` limit ${a}`:void 0,f=i.sql.raw(`${r} ${n?"all ":""}`),p=l?i.sql` offset ${l}`:void 0;return i.sql`${u}${f}${d}${c}${h}${p}`}buildInsertQuery({table:e,values:r,onConflict:n,returning:s,withList:a,select:o}){let c=[],u=Object.entries(e[l.Table.Symbol.Columns]).filter(([e,t])=>!t.shouldDisableInsert()),d=u.map(([,e])=>i.sql.identifier(this.casing.getColumnCasing(e)));if(o)(0,t.is)(r,i.SQL)?c.push(r):c.push(r.getSQL());else for(let[e,n]of(c.push(i.sql.raw("values ")),r.entries())){let s=[];for(let[e,r]of u){let a=n[e];if(void 0===a||(0,t.is)(a,i.Param)&&void 0===a.value){let e;if(null!==r.default&&void 0!==r.default)e=(0,t.is)(r.default,i.SQL)?r.default:i.sql.param(r.default,r);else if(void 0!==r.defaultFn){let n=r.defaultFn();e=(0,t.is)(n,i.SQL)?n:i.sql.param(n,r)}else if(r.default||void 0===r.onUpdateFn)e=i.sql`null`;else{let n=r.onUpdateFn();e=(0,t.is)(n,i.SQL)?n:i.sql.param(n,r)}s.push(e)}else s.push(a)}c.push(s),e<r.length-1&&c.push(i.sql`, `)}let h=this.buildWithCTE(a),f=i.sql.join(c),p=s?i.sql` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,m=n?.length?i.sql.join(n):void 0;return i.sql`${h}insert into ${e} ${d} ${f}${m}${p}`}sqlToQuery(e,t){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,invokeSource:t})}buildRelationalQuery({fullSchema:e,schema:r,tableNamesMap:s,table:a,tableConfig:o,queryConfig:c,tableAlias:u,nestedQueryRelation:d,joinOn:f}){let b,w=[],v,_,x=[],S,T=[];if(!0===c)w=Object.entries(o.columns).map(([e,t])=>({dbKey:t.name,tsKey:e,field:(0,h.aliasedTableColumn)(t,u),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let n=Object.fromEntries(Object.entries(o.columns).map(([e,t])=>[e,(0,h.aliasedTableColumn)(t,u)]));if(c.where){let e="function"==typeof c.where?c.where(n,(0,y.getOperators)()):c.where;S=e&&(0,h.mapColumnsInSQLToAlias)(e,u)}let a=[],d=[];if(c.columns){let e=!1;for(let[t,r]of Object.entries(c.columns))void 0!==r&&t in o.columns&&(e||!0!==r||(e=!0),d.push(t));d.length>0&&(d=e?d.filter(e=>c.columns?.[e]===!0):Object.keys(o.columns).filter(e=>!d.includes(e)))}else d=Object.keys(o.columns);for(let e of d){let t=o.columns[e];a.push({tsKey:e,value:t})}let f=[];if(c.with&&(f=Object.entries(c.with).filter(e=>!!e[1]).map(([e,t])=>({tsKey:e,queryConfig:t,relation:o.relations[e]}))),c.extras)for(let[e,t]of Object.entries("function"==typeof c.extras?c.extras(n,{sql:i.sql}):c.extras))a.push({tsKey:e,value:(0,h.mapColumnsInAliasedSQLToAlias)(t,u)});for(let{tsKey:e,value:r}of a)w.push({dbKey:(0,t.is)(r,i.SQL.Aliased)?r.fieldAlias:o.columns[e].name,tsKey:e,field:(0,t.is)(r,p.Column)?(0,h.aliasedTableColumn)(r,u):r,relationTableTsKey:void 0,isJson:!1,selection:[]});let m="function"==typeof c.orderBy?c.orderBy(n,(0,y.getOrderByOperators)()):c.orderBy??[];for(let{tsKey:n,queryConfig:a,relation:o}of(Array.isArray(m)||(m=[m]),x=m.map(e=>(0,t.is)(e,p.Column)?(0,h.aliasedTableColumn)(e,u):(0,h.mapColumnsInSQLToAlias)(e,u)),v=c.limit,_=c.offset,f)){let c=(0,y.normalizeRelation)(r,s,o),d=s[(0,l.getTableUniqueName)(o.referencedTable)],f=`${u}_${n}`,p=(0,g.and)(...c.fields.map((e,t)=>(0,g.eq)((0,h.aliasedTableColumn)(c.references[t],f),(0,h.aliasedTableColumn)(e,u)))),m=this.buildRelationalQuery({fullSchema:e,schema:r,tableNamesMap:s,table:e[d],tableConfig:r[d],queryConfig:(0,t.is)(o,y.One)?!0===a?{limit:1}:{...a,limit:1}:a,tableAlias:f,joinOn:p,nestedQueryRelation:o}),b=i.sql`(${m.sql})`.as(n);w.push({dbKey:n,tsKey:n,field:b,relationTableTsKey:d,isJson:!0,selection:m.selection})}}if(0===w.length)throw new m.DrizzleError({message:`No fields selected for table "${o.tsName}" ("${u}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`});if(S=(0,g.and)(f,S),d){let e=i.sql`json_array(${i.sql.join(w.map(({field:e})=>(0,t.is)(e,tz)?i.sql.identifier(this.casing.getColumnCasing(e)):(0,t.is)(e,i.SQL.Aliased)?e.sql:e),i.sql`, `)})`;(0,t.is)(d,y.Many)&&(e=i.sql`coalesce(json_group_array(${e}), json_array())`);let r=[{dbKey:"data",tsKey:"data",field:e.as("data"),isJson:!0,relationTableTsKey:o.tsName,selection:w}];void 0!==v||void 0!==_||x.length>0?(b=this.buildSelectQuery({table:(0,h.aliasedTable)(a,u),fields:{},fieldsFlat:[{path:[],field:i.sql.raw("*")}],where:S,limit:v,offset:_,orderBy:x,setOperators:[]}),S=void 0,v=void 0,_=void 0,x=void 0):b=(0,h.aliasedTable)(a,u),b=this.buildSelectQuery({table:(0,t.is)(b,ry)?b:new n.Subquery(b,{},u),fields:{},fieldsFlat:r.map(({field:e})=>({path:[],field:(0,t.is)(e,p.Column)?(0,h.aliasedTableColumn)(e,u):e})),joins:T,where:S,limit:v,offset:_,orderBy:x,setOperators:[]})}else b=this.buildSelectQuery({table:(0,h.aliasedTable)(a,u),fields:{},fieldsFlat:w.map(({field:e})=>({path:[],field:(0,t.is)(e,p.Column)?(0,h.aliasedTableColumn)(e,u):e})),joins:T,where:S,limit:v,offset:_,orderBy:x,setOperators:[]});return{tableTsKey:o.tsName,sql:b,selection:w}}}class rx extends r_{static [t.entityKind]="SQLiteSyncDialect";migrate(e,t,r){let n=void 0===r||"string"==typeof r?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",s=i.sql`
			CREATE TABLE IF NOT EXISTS ${i.sql.identifier(n)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;t.run(s);let a=t.values(i.sql`SELECT id, hash, created_at FROM ${i.sql.identifier(n)} ORDER BY created_at DESC LIMIT 1`)[0]??void 0;t.run(i.sql`BEGIN`);try{for(let r of e)if(!a||Number(a[2])<r.folderMillis){for(let e of r.sql)t.run(i.sql.raw(e));t.run(i.sql`INSERT INTO ${i.sql.identifier(n)} ("hash", "created_at") VALUES(${r.hash}, ${r.folderMillis})`)}t.run(i.sql`COMMIT`)}catch(e){throw t.run(i.sql`ROLLBACK`),e}}}class rS extends r_{static [t.entityKind]="SQLiteAsyncDialect";async migrate(e,t,r){let n=void 0===r||"string"==typeof r?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",s=i.sql`
			CREATE TABLE IF NOT EXISTS ${i.sql.identifier(n)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;await t.run(s);let a=(await t.values(i.sql`SELECT id, hash, created_at FROM ${i.sql.identifier(n)} ORDER BY created_at DESC LIMIT 1`))[0]??void 0;await t.transaction(async t=>{for(let r of e)if(!a||Number(a[2])<r.folderMillis){for(let e of r.sql)await t.run(i.sql.raw(e));await t.run(i.sql`INSERT INTO ${i.sql.identifier(n)} ("hash", "created_at") VALUES(${r.hash}, ${r.folderMillis})`)}})}}var rT=ta;class rE{static [t.entityKind]="SQLiteSelectBuilder";fields;session;dialect;withList;distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,this.withList=e.withList,this.distinct=e.distinct}from(e){let r,s=!!this.fields;return r=this.fields?this.fields:(0,t.is)(e,n.Subquery)?Object.fromEntries(Object.keys(e._.selectedFields).map(t=>[t,e[t]])):(0,t.is)(e,rv)?e[b.ViewBaseConfig].selectedFields:(0,t.is)(e,i.SQL)?{}:(0,d.getTableColumns)(e),new rC({table:e,fields:r,isPartialSelect:s,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}}class rA extends rT.TypedQueryBuilder{static [t.entityKind]="SQLiteSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;constructor({table:e,fields:t,isPartialSelect:r,session:i,dialect:n,withList:s,distinct:a}){super(),this.config={withList:s,table:e,fields:{...t},distinct:a,setOperators:[]},this.isPartialSelect=r,this.session=i,this.dialect=n,this._={selectedFields:t},this.tableName=(0,d.getTableLikeName)(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}createJoin(e){return(s,a)=>{let o=this.tableName,c=(0,d.getTableLikeName)(s);if("string"==typeof c&&this.config.joins?.some(e=>e.alias===c))throw Error(`Alias "${c}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof o&&(this.config.fields={[o]:this.config.fields}),"string"==typeof c&&!(0,t.is)(s,i.SQL))){let e=(0,t.is)(s,n.Subquery)?s._.selectedFields:(0,t.is)(s,i.View)?s[b.ViewBaseConfig].selectedFields:s[l.Table.Symbol.Columns];this.config.fields[c]=e}if("function"==typeof a&&(a=a(new Proxy(this.config.fields,new r.SelectionProxyHandler({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:a,table:s,joinType:e,alias:c}),"string"==typeof c)switch(e){case"left":this.joinsNotNullableMap[c]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[c]=!0;break;case"inner":this.joinsNotNullableMap[c]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[c]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");createSetOperator(e,t){return r=>{let i="function"==typeof r?r(rk()):r;if(!(0,d.haveSameKeys)(this.getSelectedFields(),i.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:t,rightSelect:i}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);except=this.createSetOperator("except",!1);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new r.SelectionProxyHandler({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new r.SelectionProxyHandler({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new r.SelectionProxyHandler({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(t)?t:[t]}else this.config.groupBy=e;return this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new r.SelectionProxyHandler({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),i=Array.isArray(t)?t:[t];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=i:this.config.orderBy=i}else this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=e:this.config.orderBy=e;return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}as(e){return new Proxy(new n.Subquery(this.getSQL(),this.config.fields,e),new r.SelectionProxyHandler({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new r.SelectionProxyHandler({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}class rC extends rA{static [t.entityKind]="SQLiteSelect";_prepare(e=!0){if(!this.session)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");let t=(0,d.orderSelectedFields)(this.config.fields),r=this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),t,"all",!0);return r.joinsNotNullableMap=this.joinsNotNullableMap,r}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(){return this.all()}}function rP(e,t){return(r,i,...n)=>{let s=[i,...n].map(r=>({type:e,isAll:t,rightSelect:r}));for(let e of s)if(!(0,d.haveSameKeys)(r.getSelectedFields(),e.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(s)}}(0,d.applyMixins)(rC,[o.QueryPromise]);let rk=()=>({union:rN,unionAll:rR,intersect:rO,except:rq}),rN=rP("union",!1),rR=rP("union",!0),rO=rP("intersect",!1),rq=rP("except",!1);class rI{static [t.entityKind]="SQLiteQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=(0,t.is)(e,r_)?e:void 0,this.dialectConfig=(0,t.is)(e,r_)?void 0:e}$with=(e,t)=>{let i=this;return{as:s=>("function"==typeof s&&(s=s(i)),new Proxy(new n.WithSubquery(s.getSQL(),t??("getSelectedFields"in s?s.getSelectedFields()??{}:{}),e,!0),new r.SelectionProxyHandler({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let t=this;return{select:function(r){return new rE({fields:r??void 0,session:void 0,dialect:t.getDialect(),withList:e})},selectDistinct:function(r){return new rE({fields:r??void 0,session:void 0,dialect:t.getDialect(),withList:e,distinct:!0})}}}select(e){return new rE({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new rE({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}getDialect(){return this.dialect||(this.dialect=new rx(this.dialectConfig)),this.dialect}}var r$=o;class rj extends r$.QueryPromise{constructor(e,t,r,i){super(),this.table=e,this.session=t,this.dialect=r,this.config={table:e,withList:i}}static [t.entityKind]="SQLiteDelete";config;where(e){return this.config.where=e,this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.table[l.Table.Symbol.Columns],new r.SelectionProxyHandler({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),i=Array.isArray(t)?t:[t];this.config.orderBy=i}else this.config.orderBy=e;return this}limit(e){return this.config.limit=e,this}returning(e=this.table[ry.Symbol.Columns]){return this.config.returning=(0,d.orderSelectedFields)(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e=!0){return this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0)}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(e){return this._prepare().execute(e)}$dynamic(){return this}}var rL=o;class rD{constructor(e,t,r,i){this.table=e,this.session=t,this.dialect=r,this.withList=i}static [t.entityKind]="SQLiteInsertBuilder";values(e){if(0===(e=Array.isArray(e)?e:[e]).length)throw Error("values() must be called with at least one value");let r=e.map(e=>{let r={},n=this.table[l.Table.Symbol.Columns];for(let s of Object.keys(e)){let a=e[s];r[s]=(0,t.is)(a,i.SQL)?a:new i.Param(a,n[s])}return r});return new rM(this.table,r,this.session,this.dialect,this.withList)}select(e){let r="function"==typeof e?e(new rI):e;if(!(0,t.is)(r,i.SQL)&&!(0,d.haveSameKeys)(this.table[l.Columns],r._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new rM(this.table,r,this.session,this.dialect,this.withList,!0)}}class rM extends rL.QueryPromise{constructor(e,t,r,i,n,s){super(),this.session=r,this.dialect=i,this.config={table:e,values:t,withList:n,select:s}}static [t.entityKind]="SQLiteInsert";config;returning(e=this.config.table[ry.Symbol.Columns]){return this.config.returning=(0,d.orderSelectedFields)(e),this}onConflictDoNothing(e={}){if(this.config.onConflict||(this.config.onConflict=[]),void 0===e.target)this.config.onConflict.push(i.sql` on conflict do nothing`);else{let t=Array.isArray(e.target)?i.sql`${e.target}`:i.sql`${[e.target]}`,r=e.where?i.sql` where ${e.where}`:i.sql``;this.config.onConflict.push(i.sql` on conflict ${t} do nothing${r}`)}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');this.config.onConflict||(this.config.onConflict=[]);let t=e.where?i.sql` where ${e.where}`:void 0,r=e.targetWhere?i.sql` where ${e.targetWhere}`:void 0,n=e.setWhere?i.sql` where ${e.setWhere}`:void 0,s=Array.isArray(e.target)?i.sql`${e.target}`:i.sql`${[e.target]}`,a=this.dialect.buildUpdateSet(this.config.table,(0,d.mapUpdateSet)(this.config.table,e.set));return this.config.onConflict.push(i.sql` on conflict ${s}${r} do update set ${a}${t}${n}`),this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e=!0){return this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0)}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}var rU=o;class rB{constructor(e,t,r,i){this.table=e,this.session=t,this.dialect=r,this.withList=i}static [t.entityKind]="SQLiteUpdateBuilder";set(e){return new rK(this.table,(0,d.mapUpdateSet)(this.table,e),this.session,this.dialect,this.withList)}}class rK extends rU.QueryPromise{constructor(e,t,r,i,n){super(),this.session=r,this.dialect=i,this.config={set:t,table:e,withList:n,joins:[]}}static [t.entityKind]="SQLiteUpdate";config;from(e){return this.config.from=e,this}createJoin(e){return(i,s)=>{let a=(0,d.getTableLikeName)(i);if("string"==typeof a&&this.config.joins.some(e=>e.alias===a))throw Error(`Alias "${a}" is already used in this query`);if("function"==typeof s){let e=this.config.from?(0,t.is)(i,ry)?i[l.Table.Symbol.Columns]:(0,t.is)(i,n.Subquery)?i._.selectedFields:(0,t.is)(i,rv)?i[b.ViewBaseConfig].selectedFields:void 0:void 0;s=s(new Proxy(this.config.table[l.Table.Symbol.Columns],new r.SelectionProxyHandler({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),e&&new Proxy(e,new r.SelectionProxyHandler({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}return this.config.joins.push({on:s,table:i,joinType:e,alias:a}),this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.table[l.Table.Symbol.Columns],new r.SelectionProxyHandler({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),i=Array.isArray(t)?t:[t];this.config.orderBy=i}else this.config.orderBy=e;return this}limit(e){return this.config.limit=e,this}returning(e=this.config.table[ry.Symbol.Columns]){return this.config.returning=(0,d.orderSelectedFields)(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e=!0){return this.session[e?"prepareOneTimeQuery":"prepareQuery"](this.dialect.sqlToQuery(this.getSQL()),this.config.returning,this.config.returning?"all":"run",!0)}prepare(){return this._prepare(!1)}run=e=>this._prepare().run(e);all=e=>this._prepare().all(e);get=e=>this._prepare().get(e);values=e=>this._prepare().values(e);async execute(){return this.config.returning?this.all():this.run()}$dynamic(){return this}}var rH=i;class rQ extends rH.SQL{constructor(e){super(rQ.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.session=e.session,this.sql=rQ.buildCount(e.source,e.filters)}sql;static [t.entityKind]="SQLiteCountBuilderAsync";[Symbol.toStringTag]="SQLiteCountBuilderAsync";session;static buildEmbeddedCount(e,t){return rH.sql`(select count(*) from ${e}${rH.sql.raw(" where ").if(t)}${t})`}static buildCount(e,t){return rH.sql`select count(*) from ${e}${rH.sql.raw(" where ").if(t)}${t}`}then(e,t){return Promise.resolve(this.session.count(this.sql)).then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}}var rF=o;class rV{constructor(e,t,r,i,n,s,a,o){this.mode=e,this.fullSchema=t,this.schema=r,this.tableNamesMap=i,this.table=n,this.tableConfig=s,this.dialect=a,this.session=o}static [t.entityKind]="SQLiteAsyncRelationalQueryBuilder";findMany(e){return"sync"===this.mode?new rz(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many"):new rW(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return"sync"===this.mode?new rz(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first"):new rW(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}class rW extends rF.QueryPromise{constructor(e,t,r,i,n,s,a,o,l){super(),this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=i,this.tableConfig=n,this.dialect=s,this.session=a,this.config=o,this.mode=l}static [t.entityKind]="SQLiteAsyncRelationalQuery";mode;getSQL(){return this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}).sql}_prepare(e=!1){let{query:t,builtQuery:r}=this._toSQL();return this.session[e?"prepareOneTimeQuery":"prepareQuery"](r,void 0,"first"===this.mode?"get":"all",!0,(e,r)=>{let i=e.map(e=>(0,y.mapRelationalRow)(this.schema,this.tableConfig,e,t.selection,r));return"first"===this.mode?i[0]:i})}prepare(){return this._prepare(!1)}_toSQL(){let e=this.dialect.buildRelationalQuery({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName}),t=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:t}}toSQL(){return this._toSQL().builtQuery}executeRaw(){return"first"===this.mode?this._prepare(!1).get():this._prepare(!1).all()}async execute(){return this.executeRaw()}}class rz extends rW{static [t.entityKind]="SQLiteSyncRelationalQuery";sync(){return this.executeRaw()}}var rJ=o;class rZ extends rJ.QueryPromise{constructor(e,t,r,i,n){super(),this.execute=e,this.getSQL=t,this.dialect=i,this.mapBatchResult=n,this.config={action:r}}static [t.entityKind]="SQLiteRaw";config;getQuery(){return{...this.dialect.sqlToQuery(this.getSQL()),method:this.config.action}}mapResult(e,t){return t?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}class rG{constructor(e,t,r,i){this.resultKind=e,this.dialect=t,this.session=r,this._=i?{schema:i.schema,fullSchema:i.fullSchema,tableNamesMap:i.tableNamesMap}:{schema:void 0,fullSchema:{},tableNamesMap:{}},this.query={};const n=this.query;if(this._.schema)for(const[s,a]of Object.entries(this._.schema))n[s]=new rV(e,i.fullSchema,this._.schema,this._.tableNamesMap,i.fullSchema[s],a,t,r)}static [t.entityKind]="BaseSQLiteDatabase";query;$with=(e,t)=>{let i=this;return{as:s=>("function"==typeof s&&(s=s(new rI(i.dialect))),new Proxy(new n.WithSubquery(s.getSQL(),t??("getSelectedFields"in s?s.getSelectedFields()??{}:{}),e,!0),new r.SelectionProxyHandler({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,t){return new rQ({source:e,filters:t,session:this.session})}with(...e){let t=this;return{select:function(r){return new rE({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e})},selectDistinct:function(r){return new rE({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:!0})},update:function(r){return new rB(r,t.session,t.dialect,e)},insert:function(r){return new rD(r,t.session,t.dialect,e)},delete:function(r){return new rj(r,t.session,t.dialect,e)}}}select(e){return new rE({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new rE({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}update(e){return new rB(e,this.session,this.dialect)}insert(e){return new rD(e,this.session,this.dialect)}delete(e){return new rj(e,this.session,this.dialect)}run(e){let t="string"==typeof e?i.sql.raw(e):e.getSQL();return"async"===this.resultKind?new rZ(async()=>this.session.run(t),()=>t,"run",this.dialect,this.session.extractRawRunValueFromBatchResult.bind(this.session)):this.session.run(t)}all(e){let t="string"==typeof e?i.sql.raw(e):e.getSQL();return"async"===this.resultKind?new rZ(async()=>this.session.all(t),()=>t,"all",this.dialect,this.session.extractRawAllValueFromBatchResult.bind(this.session)):this.session.all(t)}get(e){let t="string"==typeof e?i.sql.raw(e):e.getSQL();return"async"===this.resultKind?new rZ(async()=>this.session.get(t),()=>t,"get",this.dialect,this.session.extractRawGetValueFromBatchResult.bind(this.session)):this.session.get(t)}values(e){let t="string"==typeof e?i.sql.raw(e):e.getSQL();return"async"===this.resultKind?new rZ(async()=>this.session.values(t),()=>t,"values",this.dialect,this.session.extractRawValuesValueFromBatchResult.bind(this.session)):this.session.values(t)}transaction(e,t){return this.session.transaction(e,t)}}var rX=e.i(2847),rY=e.i(70988),r0=e.i(94093),r1=e.i(44902),r2=e.i(84259),r5=e.i(3090);function r4(...e){return e[0].columns?new r6(e[0].columns,e[0].name):new r6(e)}class r6{static [t.entityKind]="SQLitePrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new r3(e,this.columns,this.name)}}class r3{constructor(e,t,r){this.table=e,this.columns=t,this.name=r}static [t.entityKind]="SQLitePrimaryKey";columns;name;getName(){return this.name??`${this.table[ry.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}function r9(e,r){if((0,t.is)(e,tL))return function(e,t){let{usersTable:r,accountsTable:i,sessionsTable:n,verificationTokensTable:s,authenticatorsTable:a}=function(e={}){let t=e.usersTable??tr("user",{id:e3("id",{length:255}).primaryKey().$defaultFn(()=>crypto.randomUUID()),name:e3("name",{length:255}),email:e3("email",{length:255}).unique(),emailVerified:eG("emailVerified",{mode:"date",fsp:3}),image:e3("image",{length:255})}),r=e.accountsTable??tr("account",{userId:e3("userId",{length:255}).notNull().references(()=>t.id,{onDelete:"cascade"}),type:e3("type",{length:255}).$type().notNull(),provider:e3("provider",{length:255}).notNull(),providerAccountId:e3("providerAccountId",{length:255}).notNull(),refresh_token:e3("refresh_token",{length:255}),access_token:e3("access_token",{length:255}),expires_at:ev("expires_at"),token_type:e3("token_type",{length:255}),scope:e3("scope",{length:255}),id_token:e3("id_token",{length:2048}),session_state:e3("session_state",{length:255})},e=>({compositePk:th({columns:[e.provider,e.providerAccountId]})})),i=e.sessionsTable??tr("session",{sessionToken:e3("sessionToken",{length:255}).primaryKey(),userId:e3("userId",{length:255}).notNull().references(()=>t.id,{onDelete:"cascade"}),expires:eG("expires",{mode:"date"}).notNull()}),n=e.verificationTokensTable??tr("verificationToken",{identifier:e3("identifier",{length:255}).notNull(),token:e3("token",{length:255}).notNull(),expires:eG("expires",{mode:"date"}).notNull()},e=>({compositePk:th({columns:[e.identifier,e.token]})})),s=e.authenticatorsTable??tr("authenticator",{credentialID:e3("credentialID",{length:255}).notNull().unique(),userId:e3("userId",{length:255}).notNull().references(()=>t.id,{onDelete:"cascade"}),providerAccountId:e3("providerAccountId",{length:255}).notNull(),credentialPublicKey:e3("credentialPublicKey",{length:255}).notNull(),counter:ev("counter").notNull(),credentialDeviceType:e3("credentialDeviceType",{length:255}).notNull(),credentialBackedUp:H("credentialBackedUp").notNull(),transports:e3("transports",{length:255})},e=>({compositePk:th({columns:[e.userId,e.credentialID]})}));return{usersTable:t,accountsTable:r,sessionsTable:i,verificationTokensTable:n,authenticatorsTable:s}}(t);return{async createUser(t){let{id:i,...n}=t,s=(0,d.getTableColumns)(r).id.defaultFn,[a]=await e.insert(r).values(s?n:{...n,id:i}).$returningId();return e.select().from(r).where((0,g.eq)(r.id,a?a.id:i)).then(e=>e[0])},getUser:async t=>e.select().from(r).where((0,g.eq)(r.id,t)).then(e=>e.length>0?e[0]:null),getUserByEmail:async t=>e.select().from(r).where((0,g.eq)(r.email,t)).then(e=>e.length>0?e[0]:null),createSession:async t=>(await e.insert(n).values(t),e.select().from(n).where((0,g.eq)(n.sessionToken,t.sessionToken)).then(e=>e[0])),getSessionAndUser:async t=>e.select({session:n,user:r}).from(n).where((0,g.eq)(n.sessionToken,t)).innerJoin(r,(0,g.eq)(r.id,n.userId)).then(e=>e.length>0?e[0]:null),async updateUser(t){if(!t.id)throw Error("No user id.");await e.update(r).set(t).where((0,g.eq)(r.id,t.id));let[i]=await e.select().from(r).where((0,g.eq)(r.id,t.id));if(!i)throw Error("No user found.");return i},updateSession:async t=>(await e.update(n).set(t).where((0,g.eq)(n.sessionToken,t.sessionToken)),e.select().from(n).where((0,g.eq)(n.sessionToken,t.sessionToken)).then(e=>e[0])),async linkAccount(t){await e.insert(i).values(t)},async getUserByAccount(t){let n=await e.select({account:i,user:r}).from(i).innerJoin(r,(0,g.eq)(i.userId,r.id)).where((0,g.and)((0,g.eq)(i.provider,t.provider),(0,g.eq)(i.providerAccountId,t.providerAccountId))).then(e=>e[0]);return n?.user??null},async deleteSession(t){await e.delete(n).where((0,g.eq)(n.sessionToken,t))},createVerificationToken:async t=>(await e.insert(s).values(t),e.select().from(s).where((0,g.eq)(s.identifier,t.identifier)).then(e=>e[0])),async useVerificationToken(t){let r=await e.select().from(s).where((0,g.and)((0,g.eq)(s.identifier,t.identifier),(0,g.eq)(s.token,t.token))).then(e=>e.length>0?e[0]:null);return r&&await e.delete(s).where((0,g.and)((0,g.eq)(s.identifier,t.identifier),(0,g.eq)(s.token,t.token))),r},async deleteUser(t){await e.delete(r).where((0,g.eq)(r.id,t))},async unlinkAccount(t){await e.delete(i).where((0,g.and)((0,g.eq)(i.provider,t.provider),(0,g.eq)(i.providerAccountId,t.providerAccountId)))},getAccount:async(t,r)=>e.select().from(i).where((0,g.and)((0,g.eq)(i.provider,r),(0,g.eq)(i.providerAccountId,t))).then(e=>e[0]??null),createAuthenticator:async t=>(await e.insert(a).values(t),await e.select().from(a).where((0,g.eq)(a.credentialID,t.credentialID)).then(e=>e[0]??null)),getAuthenticator:async t=>await e.select().from(a).where((0,g.eq)(a.credentialID,t)).then(e=>e[0]??null),listAuthenticatorsByUserId:async t=>await e.select().from(a).where((0,g.eq)(a.userId,t)).then(e=>e),async updateAuthenticatorCounter(t,r){await e.update(a).set({counter:r}).where((0,g.eq)(a.credentialID,t));let i=await e.select().from(a).where((0,g.eq)(a.credentialID,t)).then(e=>e[0]);if(!i)throw Error("Authenticator not found.");return i}}}(e,r);if((0,t.is)(e,tD.PgDatabase))return function(e,t){let{usersTable:r,accountsTable:i,sessionsTable:n,verificationTokensTable:s,authenticatorsTable:a}=function(e={}){let t=e.usersTable??(0,r0.pgTable)("user",{id:(0,r2.text)("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:(0,r2.text)("name"),email:(0,r2.text)("email").unique(),emailVerified:(0,r5.timestamp)("emailVerified",{mode:"date"}),image:(0,r2.text)("image")}),r=e.accountsTable??(0,r0.pgTable)("account",{userId:(0,r2.text)("userId").notNull().references(()=>t.id,{onDelete:"cascade"}),type:(0,r2.text)("type").$type().notNull(),provider:(0,r2.text)("provider").notNull(),providerAccountId:(0,r2.text)("providerAccountId").notNull(),refresh_token:(0,r2.text)("refresh_token"),access_token:(0,r2.text)("access_token"),expires_at:(0,rY.integer)("expires_at"),token_type:(0,r2.text)("token_type"),scope:(0,r2.text)("scope"),id_token:(0,r2.text)("id_token"),session_state:(0,r2.text)("session_state")},e=>({compositePk:(0,r1.primaryKey)({columns:[e.provider,e.providerAccountId]})})),i=e.sessionsTable??(0,r0.pgTable)("session",{sessionToken:(0,r2.text)("sessionToken").primaryKey(),userId:(0,r2.text)("userId").notNull().references(()=>t.id,{onDelete:"cascade"}),expires:(0,r5.timestamp)("expires",{mode:"date"}).notNull()}),n=e.verificationTokensTable??(0,r0.pgTable)("verificationToken",{identifier:(0,r2.text)("identifier").notNull(),token:(0,r2.text)("token").notNull(),expires:(0,r5.timestamp)("expires",{mode:"date"}).notNull()},e=>({compositePk:(0,r1.primaryKey)({columns:[e.identifier,e.token]})})),s=e.authenticatorsTable??(0,r0.pgTable)("authenticator",{credentialID:(0,r2.text)("credentialID").notNull().unique(),userId:(0,r2.text)("userId").notNull().references(()=>t.id,{onDelete:"cascade"}),providerAccountId:(0,r2.text)("providerAccountId").notNull(),credentialPublicKey:(0,r2.text)("credentialPublicKey").notNull(),counter:(0,rY.integer)("counter").notNull(),credentialDeviceType:(0,r2.text)("credentialDeviceType").notNull(),credentialBackedUp:(0,rX.boolean)("credentialBackedUp").notNull(),transports:(0,r2.text)("transports")},e=>({compositePK:(0,r1.primaryKey)({columns:[e.userId,e.credentialID]})}));return{usersTable:t,accountsTable:r,sessionsTable:i,verificationTokensTable:n,authenticatorsTable:s}}(t);return{async createUser(t){let{id:i,...n}=t,s=(0,d.getTableColumns)(r).id.hasDefault;return e.insert(r).values(s?n:{...n,id:i}).returning().then(e=>e[0])},getUser:async t=>e.select().from(r).where((0,g.eq)(r.id,t)).then(e=>e.length>0?e[0]:null),getUserByEmail:async t=>e.select().from(r).where((0,g.eq)(r.email,t)).then(e=>e.length>0?e[0]:null),createSession:async t=>e.insert(n).values(t).returning().then(e=>e[0]),getSessionAndUser:async t=>e.select({session:n,user:r}).from(n).where((0,g.eq)(n.sessionToken,t)).innerJoin(r,(0,g.eq)(r.id,n.userId)).then(e=>e.length>0?e[0]:null),async updateUser(t){if(!t.id)throw Error("No user id.");let[i]=await e.update(r).set(t).where((0,g.eq)(r.id,t.id)).returning();if(!i)throw Error("No user found.");return i},updateSession:async t=>e.update(n).set(t).where((0,g.eq)(n.sessionToken,t.sessionToken)).returning().then(e=>e[0]),async linkAccount(t){await e.insert(i).values(t)},async getUserByAccount(t){let n=await e.select({account:i,user:r}).from(i).innerJoin(r,(0,g.eq)(i.userId,r.id)).where((0,g.and)((0,g.eq)(i.provider,t.provider),(0,g.eq)(i.providerAccountId,t.providerAccountId))).then(e=>e[0]);return n?.user??null},async deleteSession(t){await e.delete(n).where((0,g.eq)(n.sessionToken,t))},createVerificationToken:async t=>e.insert(s).values(t).returning().then(e=>e[0]),useVerificationToken:async t=>e.delete(s).where((0,g.and)((0,g.eq)(s.identifier,t.identifier),(0,g.eq)(s.token,t.token))).returning().then(e=>e.length>0?e[0]:null),async deleteUser(t){await e.delete(r).where((0,g.eq)(r.id,t))},async unlinkAccount(t){await e.delete(i).where((0,g.and)((0,g.eq)(i.provider,t.provider),(0,g.eq)(i.providerAccountId,t.providerAccountId)))},getAccount:async(t,r)=>e.select().from(i).where((0,g.and)((0,g.eq)(i.provider,r),(0,g.eq)(i.providerAccountId,t))).then(e=>e[0]??null),createAuthenticator:async t=>e.insert(a).values(t).returning().then(e=>e[0]??null),getAuthenticator:async t=>e.select().from(a).where((0,g.eq)(a.credentialID,t)).then(e=>e[0]??null),listAuthenticatorsByUserId:async t=>e.select().from(a).where((0,g.eq)(a.userId,t)).then(e=>e),async updateAuthenticatorCounter(t,r){let i=await e.update(a).set({counter:r}).where((0,g.eq)(a.credentialID,t)).returning().then(e=>e[0]);if(!i)throw Error("Authenticator not found.");return i}}}(e,r);if((0,t.is)(e,rG))return function(e,t){let{usersTable:r,accountsTable:i,sessionsTable:n,verificationTokensTable:s,authenticatorsTable:a}=function(e={}){let t=e.usersTable??rb("user",{id:rm("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:rm("name"),email:rm("email").unique(),emailVerified:rn("emailVerified",{mode:"timestamp_ms"}),image:rm("image")}),r=e.accountsTable??rb("account",{userId:rm("userId").notNull().references(()=>t.id,{onDelete:"cascade"}),type:rm("type").$type().notNull(),provider:rm("provider").notNull(),providerAccountId:rm("providerAccountId").notNull(),refresh_token:rm("refresh_token"),access_token:rm("access_token"),expires_at:rn("expires_at"),token_type:rm("token_type"),scope:rm("scope"),id_token:rm("id_token"),session_state:rm("session_state")},e=>({compositePk:r4({columns:[e.provider,e.providerAccountId]})})),i=e.sessionsTable??rb("session",{sessionToken:rm("sessionToken").primaryKey(),userId:rm("userId").notNull().references(()=>t.id,{onDelete:"cascade"}),expires:rn("expires",{mode:"timestamp_ms"}).notNull()}),n=e.verificationTokensTable??rb("verificationToken",{identifier:rm("identifier").notNull(),token:rm("token").notNull(),expires:rn("expires",{mode:"timestamp_ms"}).notNull()},e=>({compositePk:r4({columns:[e.identifier,e.token]})})),s=e.authenticatorsTable??rb("authenticator",{credentialID:rm("credentialID").notNull().unique(),userId:rm("userId").notNull().references(()=>t.id,{onDelete:"cascade"}),providerAccountId:rm("providerAccountId").notNull(),credentialPublicKey:rm("credentialPublicKey").notNull(),counter:rn("counter").notNull(),credentialDeviceType:rm("credentialDeviceType").notNull(),credentialBackedUp:rn("credentialBackedUp",{mode:"boolean"}).notNull(),transports:rm("transports")},e=>({compositePK:r4({columns:[e.userId,e.credentialID]})}));return{usersTable:t,accountsTable:r,sessionsTable:i,verificationTokensTable:n,authenticatorsTable:s}}(t);return{async createUser(t){let{id:i,...n}=t,s=(0,d.getTableColumns)(r).id.hasDefault;return e.insert(r).values(s?n:{...n,id:i}).returning().get()},getUser:async t=>await e.select().from(r).where((0,g.eq)(r.id,t)).get()??null,getUserByEmail:async t=>await e.select().from(r).where((0,g.eq)(r.email,t)).get()??null,createSession:async t=>e.insert(n).values(t).returning().get(),getSessionAndUser:async t=>await e.select({session:n,user:r}).from(n).where((0,g.eq)(n.sessionToken,t)).innerJoin(r,(0,g.eq)(r.id,n.userId)).get()??null,async updateUser(t){if(!t.id)throw Error("No user id.");let i=await e.update(r).set(t).where((0,g.eq)(r.id,t.id)).returning().get();if(!i)throw Error("User not found.");return i},updateSession:async t=>await e.update(n).set(t).where((0,g.eq)(n.sessionToken,t.sessionToken)).returning().get()??null,async linkAccount(t){await e.insert(i).values(t).run()},async getUserByAccount(t){let n=await e.select({account:i,user:r}).from(i).innerJoin(r,(0,g.eq)(i.userId,r.id)).where((0,g.and)((0,g.eq)(i.provider,t.provider),(0,g.eq)(i.providerAccountId,t.providerAccountId))).get();return n?.user??null},async deleteSession(t){await e.delete(n).where((0,g.eq)(n.sessionToken,t)).run()},createVerificationToken:async t=>e.insert(s).values(t).returning().get(),useVerificationToken:async t=>await e.delete(s).where((0,g.and)((0,g.eq)(s.identifier,t.identifier),(0,g.eq)(s.token,t.token))).returning().get()??null,async deleteUser(t){await e.delete(r).where((0,g.eq)(r.id,t)).run()},async unlinkAccount(t){await e.delete(i).where((0,g.and)((0,g.eq)(i.provider,t.provider),(0,g.eq)(i.providerAccountId,t.providerAccountId))).run()},getAccount:async(t,r)=>e.select().from(i).where((0,g.and)((0,g.eq)(i.provider,r),(0,g.eq)(i.providerAccountId,t))).then(e=>e[0]??null),createAuthenticator:async t=>e.insert(a).values(t).returning().then(e=>e[0]??null),getAuthenticator:async t=>e.select().from(a).where((0,g.eq)(a.credentialID,t)).then(e=>e[0]??null),listAuthenticatorsByUserId:async t=>e.select().from(a).where((0,g.eq)(a.userId,t)).then(e=>e),async updateAuthenticatorCounter(t,r){let i=await e.update(a).set({counter:r}).where((0,g.eq)(a.credentialID,t)).returning().then(e=>e[0]);if(!i)throw Error("Authenticator not found.");return i}}}(e,r);throw Error(`Unsupported database type (${typeof e}) in Auth.js Drizzle adapter.`)}e.s(["DrizzleAdapter",()=>r9],3967)},7932,e=>{"use strict";var t=e.i(44988);class r{static [t.entityKind]="ConsoleLogWriter";write(e){console.log(e)}}class i{static [t.entityKind]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new r}logQuery(e,t){let r=t.map(e=>{try{return JSON.stringify(e)}catch{return String(e)}}),i=r.length?` -- params: [${r.join(", ")}]`:"";this.writer.write(`Query: ${e}${i}`)}}class n{static [t.entityKind]="NoopLogger";logQuery(){}}e.s(["DefaultLogger",()=>i,"NoopLogger",()=>n])},68581,e=>{"use strict";var t=e.i(44988),r=e.i(71783),i=e.i(18899),n=e.i(22360),s=e.i(44482);class a{constructor(e){this.query=e}authToken;getQuery(){return this.query}mapResult(e,t){return e}setToken(e){return this.authToken=e,this}static [t.entityKind]="PgPreparedQuery";joinsNotNullableMap}class o{constructor(e){this.dialect=e}static [t.entityKind]="PgSession";execute(e,t){return n.tracer.startActiveSpan("drizzle.operation",()=>n.tracer.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(t).execute(void 0,t))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,t){return Number((await this.execute(e,t))[0].count)}}class l extends s.PgDatabase{constructor(e,t,r,i=0){super(e,t,r),this.schema=r,this.nestedIndex=i}static [t.entityKind]="PgTransaction";rollback(){throw new r.TransactionRollbackError}getTransactionConfigSQL(e){let t=[];return e.isolationLevel&&t.push(`isolation level ${e.isolationLevel}`),e.accessMode&&t.push(e.accessMode),"boolean"==typeof e.deferrable&&t.push(e.deferrable?"deferrable":"not deferrable"),i.sql.raw(t.join(" "))}setTransaction(e){return this.session.execute(i.sql`set transaction ${this.getTransactionConfigSQL(e)}`)}}e.s(["PgPreparedQuery",()=>a,"PgSession",()=>o,"PgTransaction",()=>l])},29529,e=>e.a(async(t,r)=>{try{var i=e.i(23862),n=e.i(44988),s=e.i(7932),a=e.i(68581),o=e.i(18899),l=e.i(22360),c=e.i(4313),u=t([i]);[i]=u.then?(await u)():u;let{Pool:d,types:h}=i.default;class f extends a.PgPreparedQuery{constructor(e,t,r,i,n,s,a,o){super({sql:t,params:r}),this.client=e,this.params=r,this.logger=i,this.fields=n,this._isResponseInArrayMode=a,this.customResultMapper=o,this.rawQueryConfig={name:s,text:t,types:{getTypeParser:(e,t)=>e===h.builtins.TIMESTAMPTZ||e===h.builtins.TIMESTAMP||e===h.builtins.DATE||e===h.builtins.INTERVAL?e=>e:h.getTypeParser(e,t)}},this.queryConfig={name:s,text:t,rowMode:"array",types:{getTypeParser:(e,t)=>e===h.builtins.TIMESTAMPTZ||e===h.builtins.TIMESTAMP||e===h.builtins.DATE||e===h.builtins.INTERVAL?e=>e:h.getTypeParser(e,t)}}}static [n.entityKind]="NodePgPreparedQuery";rawQueryConfig;queryConfig;async execute(e={}){return l.tracer.startActiveSpan("drizzle.execute",async()=>{let t=(0,o.fillPlaceholders)(this.params,e);this.logger.logQuery(this.rawQueryConfig.text,t);let{fields:r,rawQueryConfig:i,client:n,queryConfig:s,joinsNotNullableMap:a,customResultMapper:u}=this;if(!r&&!u)return l.tracer.startActiveSpan("drizzle.driver.execute",async e=>(e?.setAttributes({"drizzle.query.name":i.name,"drizzle.query.text":i.text,"drizzle.query.params":JSON.stringify(t)}),n.query(i,t)));let d=await l.tracer.startActiveSpan("drizzle.driver.execute",e=>(e?.setAttributes({"drizzle.query.name":s.name,"drizzle.query.text":s.text,"drizzle.query.params":JSON.stringify(t)}),n.query(s,t)));return l.tracer.startActiveSpan("drizzle.mapResponse",()=>u?u(d.rows):d.rows.map(e=>(0,c.mapResultRow)(r,e,a)))})}all(e={}){return l.tracer.startActiveSpan("drizzle.execute",()=>{let t=(0,o.fillPlaceholders)(this.params,e);return this.logger.logQuery(this.rawQueryConfig.text,t),l.tracer.startActiveSpan("drizzle.driver.execute",e=>(e?.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(t)}),this.client.query(this.rawQueryConfig,t).then(e=>e.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}}class p extends a.PgSession{constructor(e,t,r,i={}){super(t),this.client=e,this.schema=r,this.options=i,this.logger=i.logger??new s.NoopLogger}static [n.entityKind]="NodePgSession";logger;prepareQuery(e,t,r,i,n){return new f(this.client,e.sql,e.params,this.logger,t,r,i,n)}async transaction(e,t){let r=this.client instanceof d?new p(await this.client.connect(),this.dialect,this.schema,this.options):this,i=new m(this.dialect,r,this.schema);await i.execute(o.sql`begin${t?o.sql` ${i.getTransactionConfigSQL(t)}`:void 0}`);try{let t=await e(i);return await i.execute(o.sql`commit`),t}catch(e){throw await i.execute(o.sql`rollback`),e}finally{this.client instanceof d&&r.client.release()}}async count(e){let t=await this.execute(e);return Number(t.rows[0].count)}}class m extends a.PgTransaction{static [n.entityKind]="NodePgTransaction";async transaction(e){let t=`sp${this.nestedIndex+1}`,r=new m(this.dialect,this.session,this.schema,this.nestedIndex+1);await r.execute(o.sql.raw(`savepoint ${t}`));try{let i=await e(r);return await r.execute(o.sql.raw(`release savepoint ${t}`)),i}catch(e){throw await r.execute(o.sql.raw(`rollback to savepoint ${t}`)),e}}}e.s(["NodePgSession",()=>p]),r()}catch(e){r(e)}},!1),51103,e=>e.a(async(t,r)=>{try{var i=e.i(23862),n=e.i(44988),s=e.i(7932),a=e.i(44482),o=e.i(15428),l=e.i(79822),c=e.i(4313),u=e.i(29529),d=t([i,u]);[i,u]=d.then?(await d)():d;class p{constructor(e,t,r={}){this.client=e,this.dialect=t,this.options=r}static [n.entityKind]="NodePgDriver";createSession(e){return new u.NodePgSession(this.client,this.dialect,e,{logger:this.options.logger})}}class m extends a.PgDatabase{static [n.entityKind]="NodePgDatabase"}function h(e,t={}){let r,i,n=new o.PgDialect({casing:t.casing});if(!0===t.logger?r=new s.DefaultLogger:!1!==t.logger&&(r=t.logger),t.schema){let e=(0,l.extractTablesRelationalConfig)(t.schema,l.createTableRelationsHelpers);i={fullSchema:t.schema,schema:e.tables,tableNamesMap:e.tableNamesMap}}let a=new p(e,n,{logger:r}).createSession(i),c=new m(n,a,i);return c.$client=e,c}function f(...e){if("string"==typeof e[0]){let t=new i.default.Pool({connectionString:e[0]});return h(t,e[1])}if((0,c.isConfig)(e[0])){let{connection:t,client:r,...n}=e[0];if(r)return h(r,n);let s=new i.default.Pool("string"==typeof t?{connectionString:t}:t);return h(s,n)}return h(e[0],e[1])}(f||(f={})).mock=function(e){return h({},e)},e.s(["drizzle",()=>f]),r()}catch(e){r(e)}},!1),7304,e=>{"use strict";var t=e.i(18899),r=e.i(79822),i=e.i(94093),n=e.i(84259),s=e.i(23624),a=e.i(70988),o=e.i(2847),l=e.i(89705),c=e.i(3090),u=e.i(31779),d=e.i(56923),h=e.i(38257),f=e.i(44988),p=e.i(4775);class m{constructor(e,t){this.unique=e,this.name=t}static [f.entityKind]="PgIndexBuilderOn";on(...e){return new g(e.map(e=>{if((0,f.is)(e,t.SQL))return e;let r=new p.IndexedColumn(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...e){return new g(e.map(e=>{if((0,f.is)(e,t.SQL))return e;let r=new p.IndexedColumn(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=e.defaultConfig,r}),this.unique,!0,this.name)}using(e,...r){return new g(r.map(e=>{if((0,f.is)(e,t.SQL))return e;let r=new p.IndexedColumn(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),r}),this.unique,!0,this.name,e)}}class g{static [f.entityKind]="PgIndexBuilder";config;constructor(e,t,r,i,n="btree"){this.config={name:i,columns:e,unique:t,only:r,method:n}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new y(this.config,e)}}class y{static [f.entityKind]="PgIndex";config;constructor(e,t){this.config={...e,table:t}}}function b(e){return new m(!0,e)}let w=(0,u.pgEnum)("transaction_type",["Despesa","Receita"]),v=(0,u.pgEnum)("fix_var",["Fixo","Varivel"]),_=(0,u.pgEnum)("category_1",["Receitas","Moradia","Mercado","Compras Online","Transporte","Sade","Lazer","Viagem","Roupas","Tecnologia","Alimentao","Energia","Internet","Educao","Presentes","Streaming","Academia","Investimentos","Outros","Interno","Assinaturas","Compras","Doaes","Esportes","Finanas","Frias","Mobilidade","Pets","Telefone","Trabalho","Transferncias","Vendas"]),x=(0,u.pgEnum)("upload_status",["processing","ready","duplicate","error"]),S=(0,u.pgEnum)("account_type",["credit_card","debit_card","bank_account","cash"]),T=(0,u.pgEnum)("transaction_source",["Sparkasse","Amex","M&M"]),E=(0,u.pgEnum)("transaction_status",["FINAL","OPEN"]),A=(0,u.pgEnum)("transaction_classified_by",["AUTO_KEYWORDS","MANUAL","AI_SUGGESTION"]),C=(0,u.pgEnum)("ingestion_source_type",["csv","screenshot"]),P=(0,u.pgEnum)("ingestion_batch_status",["processing","preview","committed","rolled_back","error"]),k=(0,i.pgTable)("users",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),username:(0,n.text)("username").notNull().unique(),passwordHash:(0,n.text)("password_hash"),email:(0,n.text)("email").unique(),googleId:(0,n.text)("google_id").unique(),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow(),updatedAt:(0,c.timestamp)("updated_at").notNull().defaultNow()}),N=(0,i.pgTable)("settings",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().unique().references(()=>k.id),autoConfirmHighConfidence:(0,o.boolean)("auto_confirm_high_confidence").notNull().default(!1),confidenceThreshold:(0,a.integer)("confidence_threshold").notNull().default(80),language:(0,n.text)("language").notNull().default("pt-BR"),currency:(0,n.text)("currency").notNull().default("EUR"),fiscalRegion:(0,n.text)("fiscal_region").notNull().default("Portugal/PT"),notifyImportStatus:(0,o.boolean)("notify_import_status").notNull().default(!0),notifyReviewQueue:(0,o.boolean)("notify_review_queue").notNull().default(!0),notifyMonthlyReport:(0,o.boolean)("notify_monthly_report").notNull().default(!0),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow(),updatedAt:(0,c.timestamp)("updated_at").notNull().defaultNow()}),R=(0,r.relations)(N,({one:e})=>({user:e(k,{fields:[N.userId],references:[k.id]})})),O=(0,i.pgTable)("accounts",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id),name:(0,n.text)("name").notNull(),type:S("type").notNull(),accountNumber:(0,n.text)("account_number"),icon:(0,n.text)("icon").default("credit-card"),color:(0,n.text)("color").default("#6366f1"),isActive:(0,o.boolean)("is_active").notNull().default(!0),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow()}),q=(0,r.relations)(O,({one:e})=>({user:e(k,{fields:[O.userId],references:[k.id]})})),I=(0,i.pgTable)("oauth_accounts",{userId:(0,s.varchar)("user_id").notNull().references(()=>k.id,{onDelete:"cascade"}),type:(0,n.text)("type").$type().notNull(),provider:(0,n.text)("provider").notNull(),providerAccountId:(0,n.text)("provider_account_id").notNull(),refresh_token:(0,n.text)("refresh_token"),access_token:(0,n.text)("access_token"),expires_at:(0,a.integer)("expires_at"),token_type:(0,n.text)("token_type"),scope:(0,n.text)("scope"),id_token:(0,n.text)("id_token"),session_state:(0,n.text)("session_state")},e=>({compoundKey:b("oauth_accounts_provider_provider_account_id_idx").on(e.provider,e.providerAccountId)})),$=(0,i.pgTable)("sessions",{sessionToken:(0,n.text)("session_token").primaryKey(),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id,{onDelete:"cascade"}),expires:(0,c.timestamp)("expires",{mode:"date"}).notNull()}),j=(0,i.pgTable)("verification_tokens",{identifier:(0,n.text)("identifier").notNull(),token:(0,n.text)("token").notNull(),expires:(0,c.timestamp)("expires",{mode:"date"}).notNull()},e=>({compositePk:b("verification_tokens_identifier_token_idx").on(e.identifier,e.token)})),L=(0,i.pgTable)("authenticators",{credentialID:(0,n.text)("credential_id").notNull().unique(),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id,{onDelete:"cascade"}),providerAccountId:(0,n.text)("provider_account_id").notNull(),credentialPublicKey:(0,n.text)("credential_public_key").notNull(),counter:(0,a.integer)("counter").notNull(),credentialDeviceType:(0,n.text)("credential_device_type").notNull(),credentialBackedUp:(0,o.boolean)("credential_backed_up").notNull(),transports:(0,n.text)("transports")},e=>({compositePK:b("authenticators_user_id_credential_id_idx").on(e.userId,e.credentialID)})),D=(0,i.pgTable)("ingestion_batches",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id),sourceType:C("source_type").notNull(),status:P("status").notNull().default("processing"),filename:(0,n.text)("filename"),diagnosticsJson:(0,h.jsonb)("diagnostics_json"),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow(),updatedAt:(0,c.timestamp)("updated_at").notNull().defaultNow()}),M=(0,r.relations)(D,({one:e,many:t})=>({user:e(k,{fields:[D.userId],references:[k.id]}),items:t(U)})),U=(0,i.pgTable)("ingestion_items",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),batchId:(0,s.varchar)("batch_id").notNull().references(()=>D.id,{onDelete:"cascade"}),rawPayload:(0,h.jsonb)("raw_payload").notNull(),parsedPayload:(0,h.jsonb)("parsed_payload"),itemFingerprint:(0,n.text)("item_fingerprint").notNull(),status:(0,n.text)("status").notNull().default("pending"),source:(0,n.text)("source"),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow()},e=>({fingerprintIdx:new m(!1,"ingestion_items_fingerprint_idx").on(e.itemFingerprint)})),B=(0,r.relations)(U,({one:e})=>({batch:e(D,{fields:[U.batchId],references:[D.id]})})),K=(0,i.pgTable)("attachments",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id),batchId:(0,s.varchar)("batch_id").references(()=>D.id),storageKey:(0,n.text)("storage_key").notNull(),mimeType:(0,n.text)("mime_type").notNull(),sizeBytes:(0,a.integer)("size_bytes").notNull(),ocrStatus:(0,n.text)("ocr_status").default("pending"),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow()}),H=(0,i.pgTable)("ocr_extractions",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),attachmentId:(0,s.varchar)("attachment_id").notNull().references(()=>K.id,{onDelete:"cascade"}),textRaw:(0,n.text)("text_raw"),blocksJson:(0,h.jsonb)("blocks_json"),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow()}),Q=(0,i.pgTable)("transaction_evidence_link",{transactionId:(0,s.varchar)("transaction_id").notNull().references(()=>X.id,{onDelete:"cascade"}),ingestionItemId:(0,s.varchar)("ingestion_item_id").notNull().references(()=>U.id,{onDelete:"cascade"}),matchConfidence:(0,a.integer)("match_confidence"),isPrimary:(0,o.boolean)("is_primary").notNull().default(!0),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow()},e=>({pk:b("transaction_evidence_link_pk").on(e.transactionId,e.ingestionItemId)})),F=(0,i.pgTable)("rules",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").references(()=>k.id),name:(0,n.text)("name"),keywords:(0,n.text)("keywords"),type:w("type"),fixVar:v("fix_var"),category1:_("category_1"),category2:(0,n.text)("category_2"),category3:(0,n.text)("category_3"),priority:(0,a.integer)("priority").notNull().default(500),strict:(0,o.boolean)("strict").notNull().default(!1),isSystem:(0,o.boolean)("is_system").notNull().default(!1),leafId:(0,s.varchar)("leaf_id"),keyWords:(0,n.text)("key_words"),keyWordsNegative:(0,n.text)("key_words_negative"),active:(0,o.boolean)("active").notNull().default(!0),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow()}),V=(0,r.relations)(F,({one:e})=>({user:e(k,{fields:[F.userId],references:[k.id]})})),W=(0,i.pgTable)("taxonomy_level_1",{level1Id:(0,s.varchar)("level_1_id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id,{onDelete:"cascade"}),nivel1Pt:(0,n.text)("nivel_1_pt").notNull(),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow(),updatedAt:(0,c.timestamp)("updated_at").notNull().defaultNow()}),z=(0,i.pgTable)("taxonomy_level_2",{level2Id:(0,s.varchar)("level_2_id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id,{onDelete:"cascade"}),level1Id:(0,s.varchar)("level_1_id").notNull().references(()=>W.level1Id,{onDelete:"cascade"}),nivel2Pt:(0,n.text)("nivel_2_pt").notNull(),recorrenteDefault:(0,n.text)("recorrente_default"),fixoVariavelDefault:(0,n.text)("fixo_variavel_default"),receitaDespesaDefault:(0,n.text)("receita_despesa_default"),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow(),updatedAt:(0,c.timestamp)("updated_at").notNull().defaultNow()}),J=(0,i.pgTable)("taxonomy_leaf",{leafId:(0,s.varchar)("leaf_id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id,{onDelete:"cascade"}),level2Id:(0,s.varchar)("level_2_id").notNull().references(()=>z.level2Id,{onDelete:"cascade"}),nivel3Pt:(0,n.text)("nivel_3_pt").notNull(),recorrenteDefault:(0,n.text)("recorrente_default"),fixoVariavelDefault:(0,n.text)("fixo_variavel_default"),receitaDespesaDefault:(0,n.text)("receita_despesa_default"),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow(),updatedAt:(0,c.timestamp)("updated_at").notNull().defaultNow()}),Z=(0,i.pgTable)("app_category",{appCatId:(0,s.varchar)("app_cat_id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id,{onDelete:"cascade"}),name:(0,n.text)("name").notNull(),active:(0,o.boolean)("active").notNull().default(!0),versionId:(0,s.varchar)("version_id").notNull().default(t.sql`gen_random_uuid()`),orderIndex:(0,a.integer)("order_index").notNull().default(0),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow(),updatedAt:(0,c.timestamp)("updated_at").notNull().defaultNow()}),G=(0,i.pgTable)("app_category_leaf",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id,{onDelete:"cascade"}),appCatId:(0,s.varchar)("app_cat_id").notNull().references(()=>Z.appCatId,{onDelete:"cascade"}),leafId:(0,s.varchar)("leaf_id").notNull().references(()=>J.leafId,{onDelete:"cascade"}),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow()}),X=(0,i.pgTable)("transactions",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id),paymentDate:(0,c.timestamp)("payment_date").notNull(),bookingDate:(0,d.date)("booking_date"),importedAt:(0,c.timestamp)("imported_at").notNull().defaultNow(),accountSource:(0,n.text)("account_source").notNull().default("M&M"),accountId:(0,s.varchar)("account_id").references(()=>O.id),descRaw:(0,n.text)("desc_raw").notNull(),descNorm:(0,n.text)("desc_norm").notNull(),rawDescription:(0,n.text)("raw_description"),normalizedDescription:(0,n.text)("normalized_description"),amount:(0,l.real)("amount").notNull(),currency:(0,n.text)("currency").notNull().default("EUR"),foreignAmount:(0,l.real)("foreign_amount"),foreignCurrency:(0,n.text)("foreign_currency"),exchangeRate:(0,l.real)("exchange_rate"),key:(0,n.text)("key").notNull(),source:T("source"),keyDesc:(0,n.text)("key_desc"),simpleDesc:(0,n.text)("simple_desc"),aliasDesc:(0,n.text)("alias_desc"),leafId:(0,s.varchar)("leaf_id"),classifiedBy:A("classified_by"),status:E("status"),recurringFlag:(0,o.boolean)("recurring_flag").notNull().default(!1),recurringGroupId:(0,s.varchar)("recurring_group_id"),recurringConfidence:(0,l.real)("recurring_confidence"),recurringDayOfMonth:(0,a.integer)("recurring_day_of_month"),recurringDayWindow:(0,a.integer)("recurring_day_window"),type:w("type"),fixVar:v("fix_var"),category1:_("category_1"),category2:(0,n.text)("category_2"),category3:(0,n.text)("category_3"),manualOverride:(0,o.boolean)("manual_override").notNull().default(!1),internalTransfer:(0,o.boolean)("internal_transfer").notNull().default(!1),excludeFromBudget:(0,o.boolean)("exclude_from_budget").notNull().default(!1),needsReview:(0,o.boolean)("needs_review").notNull().default(!0),ruleIdApplied:(0,s.varchar)("rule_id_applied").references(()=>F.id),uploadId:(0,s.varchar)("upload_id"),confidence:(0,a.integer)("confidence"),suggestedKeyword:(0,n.text)("suggested_keyword")},e=>({uniqueKeyPerUser:b("transactions_unique_key_per_user").on(e.userId,e.key)})),Y=(0,r.relations)(X,({one:e,many:t})=>({user:e(k,{fields:[X.userId],references:[k.id]}),rule:e(F,{fields:[X.ruleIdApplied],references:[F.id]}),account:e(O,{fields:[X.accountId],references:[O.id]}),leaf:e(J,{fields:[X.leafId],references:[J.leafId]}),evidenceLinks:t(Q)})),ee=(0,i.pgTable)("uploads",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id),filename:(0,n.text)("filename").notNull(),status:x("status").notNull().default("processing"),rowsTotal:(0,a.integer)("rows_total").notNull().default(0),rowsImported:(0,a.integer)("rows_imported").notNull().default(0),monthAffected:(0,n.text)("month_affected"),errorMessage:(0,n.text)("error_message"),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow()}),et=(0,r.relations)(Q,({one:e})=>({transaction:e(X,{fields:[Q.transactionId],references:[X.id]}),ingestionItem:e(U,{fields:[Q.ingestionItemId],references:[U.id]})})),er=(0,i.pgTable)("budgets",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id),month:(0,n.text)("month").notNull(),category1:_("category_1").notNull(),amount:(0,l.real)("amount").notNull()}),ei=(0,i.pgTable)("calendar_events",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id),name:(0,n.text)("name").notNull(),amount:(0,l.real)("amount").notNull(),category1:_("category_1").notNull(),category2:(0,n.text)("category_2"),recurrence:(0,n.text)("recurrence").notNull().default("none"),nextDueDate:(0,c.timestamp)("next_due_date").notNull(),accountId:(0,s.varchar)("account_id").references(()=>O.id),isActive:(0,o.boolean)("is_active").notNull().default(!0),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow()}),en=(0,i.pgTable)("goals",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id),month:(0,n.text)("month").notNull(),estimatedIncome:(0,l.real)("estimated_income").notNull().default(0),totalPlanned:(0,l.real)("total_planned").notNull().default(0),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow()}),es=(0,i.pgTable)("category_goals",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),goalId:(0,s.varchar)("goal_id").notNull().references(()=>en.id),category1:_("category_1").notNull(),targetAmount:(0,l.real)("target_amount").notNull()}),ea=(0,i.pgTable)("rituals",{id:(0,s.varchar)("id").primaryKey().default(t.sql`gen_random_uuid()`),userId:(0,s.varchar)("user_id").notNull().references(()=>k.id),type:(0,n.text)("type").notNull(),period:(0,n.text)("period").notNull(),completedAt:(0,c.timestamp)("completed_at"),notes:(0,n.text)("notes"),createdAt:(0,c.timestamp)("created_at").notNull().defaultNow()});e.s(["accountTypeEnum",0,S,"accounts",0,O,"accountsRelations",0,q,"appCategory",0,Z,"appCategoryLeaf",0,G,"attachments",0,K,"authenticators",0,L,"budgets",0,er,"calendarEvents",0,ei,"category1Enum",0,_,"categoryGoals",0,es,"fixVarEnum",0,v,"goals",0,en,"ingestionBatchStatusEnum",0,P,"ingestionBatches",0,D,"ingestionBatchesRelations",0,M,"ingestionItems",0,U,"ingestionItemsRelations",0,B,"ingestionSourceTypeEnum",0,C,"oauthAccounts",0,I,"ocrExtractions",0,H,"rituals",0,ea,"rules",0,F,"rulesRelations",0,V,"sessions",0,$,"settings",0,N,"settingsRelations",0,R,"taxonomyLeaf",0,J,"taxonomyLevel1",0,W,"taxonomyLevel2",0,z,"transactionClassifiedByEnum",0,A,"transactionEvidenceLink",0,Q,"transactionEvidenceLinkRelations",0,et,"transactionSourceEnum",0,T,"transactionStatusEnum",0,E,"transactionTypeEnum",0,w,"transactions",0,X,"transactionsRelations",0,Y,"uploadStatusEnum",0,x,"uploads",0,ee,"users",0,k,"verificationTokens",0,j],7304)},84501,e=>e.a(async(t,r)=>{try{var i=e.i(51103),n=e.i(23862),s=e.i(7304),a=t([i,n]);[i,n]=a.then?(await a)():a;let o=new n.default.Pool({connectionString:process.env.DATABASE_URL}),l=(0,i.drizzle)(o,{schema:s});e.s(["db",0,l]),r()}catch(e){r(e)}},!1),84297,e=>{"use strict";e.s(["authConfig",0,{pages:{signIn:"/login"},callbacks:{authorized({auth:e,request:{nextUrl:t}}){let r=!!e?.user,i=t.pathname.startsWith("/dashboard"),n=t.pathname.startsWith("/login");return i?!!r:!r||!n||Response.redirect(new URL("/dashboard",t))},session:({session:e,user:t,token:r})=>(e.user&&(e.user.id=t?.id||r?.sub),e)},providers:[]}])},49632,e=>{"use strict";var t=e.i(54799),r=null;function i(e,i){if("number"!=typeof(e=e||m))throw Error("Illegal arguments: "+typeof e+", "+typeof i);e<4?e=4:e>31&&(e=31);var n=[];return n.push("$2b$"),e<10&&n.push("0"),n.push(e.toString()),n.push("$"),n.push(h(function(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return t.default.randomBytes(e)}catch{}if(!r)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return r(e)}(p),p)),n.join("")}function n(e,t,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e=void 0),void 0===e)e=m;else if("number"!=typeof e)throw Error("illegal arguments: "+typeof e);function n(t){l(function(){try{t(null,i(e))}catch(e){t(e)}})}if(!r)return new Promise(function(e,t){n(function(r,i){r?t(r):e(i)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);n(r)}function s(e,t){if(void 0===t&&(t=m),"number"==typeof t&&(t=i(t)),"string"!=typeof e||"string"!=typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return S(e,t)}function a(e,t,r,i){function s(r){"string"==typeof e&&"number"==typeof t?n(t,function(t,n){S(e,n,r,i)}):"string"==typeof e&&"string"==typeof t?S(e,t,r,i):l(r.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!r)return new Promise(function(e,t){s(function(r,i){r?t(r):e(i)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);s(r)}function o(e,t){for(var r=e.length^t.length,i=0;i<e.length;++i)r|=e.charCodeAt(i)^t.charCodeAt(i);return 0===r}var l="function"==typeof setImmediate?setImmediate:"object"==typeof scheduler&&"function"==typeof scheduler.postTask?scheduler.postTask.bind(scheduler):setTimeout;function c(e){for(var t=0,r=0,i=0;i<e.length;++i)(r=e.charCodeAt(i))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(i+1))==56320?(++i,t+=4):t+=3;return t}var u="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),d=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function h(e,t){var r,i,n=0,s=[];if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;n<t;){if(r=255&e[n++],s.push(u[r>>2&63]),r=(3&r)<<4,n>=t||(r|=(i=255&e[n++])>>4&15,s.push(u[63&r]),r=(15&i)<<2,n>=t)){s.push(u[63&r]);break}r|=(i=255&e[n++])>>6&3,s.push(u[63&r]),s.push(u[63&i])}return s.join("")}function f(e,t){var r,i,n,s,a,o=0,l=e.length,c=0,u=[];if(t<=0)throw Error("Illegal len: "+t);for(;o<l-1&&c<t&&(r=(a=e.charCodeAt(o++))<d.length?d[a]:-1,i=(a=e.charCodeAt(o++))<d.length?d[a]:-1,-1!=r&&-1!=i)&&(s=r<<2>>>0|(48&i)>>4,u.push(String.fromCharCode(s)),!(++c>=t||o>=l||-1==(n=(a=e.charCodeAt(o++))<d.length?d[a]:-1)||(s=(15&i)<<4>>>0|(60&n)>>2,u.push(String.fromCharCode(s)),++c>=t||o>=l)));){;s=(3&n)<<6>>>0|((a=e.charCodeAt(o++))<d.length?d[a]:-1),u.push(String.fromCharCode(s)),++c}var h=[];for(o=0;o<c;o++)h.push(u[o].charCodeAt(0));return h}var p=16,m=10,g=[0x243f6a88,0x85a308d3,0x13198a2e,0x3707344,0xa4093822,0x299f31d0,0x82efa98,0xec4e6c89,0x452821e6,0x38d01377,0xbe5466cf,0x34e90c6c,0xc0ac29b7,0xc97c50dd,0x3f84d5b5,0xb5470917,0x9216d5d9,0x8979fb1b],y=[0xd1310ba6,0x98dfb5ac,0x2ffd72db,0xd01adfb7,0xb8e1afed,0x6a267e96,0xba7c9045,0xf12c7f99,0x24a19947,0xb3916cf7,0x801f2e2,0x858efc16,0x636920d8,0x71574e69,0xa458fea3,0xf4933d7e,0xd95748f,0x728eb658,0x718bcd58,0x82154aee,0x7b54a41d,0xc25a59b5,0x9c30d539,0x2af26013,0xc5d1b023,0x286085f0,0xca417918,0xb8db38ef,0x8e79dcb0,0x603a180e,0x6c9e0e8b,0xb01e8a3e,0xd71577c1,0xbd314b27,0x78af2fda,0x55605c60,0xe65525f3,0xaa55ab94,0x57489862,0x63e81440,0x55ca396a,0x2aab10b6,0xb4cc5c34,0x1141e8ce,0xa15486af,0x7c72e993,0xb3ee1411,0x636fbc2a,0x2ba9c55d,0x741831f6,0xce5c3e16,0x9b87931e,0xafd6ba33,0x6c24cf5c,0x7a325381,0x28958677,0x3b8f4898,0x6b4bb9af,0xc4bfe81b,0x66282193,0x61d809cc,0xfb21a991,0x487cac60,0x5dec8032,0xef845d5d,0xe98575b1,0xdc262302,0xeb651b88,0x23893e81,0xd396acc5,0xf6d6ff3,0x83f44239,0x2e0b4482,0xa4842004,0x69c8f04a,0x9e1f9b5e,0x21c66842,0xf6e96c9a,0x670c9c61,0xabd388f0,0x6a51a0d2,0xd8542f68,0x960fa728,0xab5133a3,0x6eef0b6c,0x137a3be4,0xba3bf050,0x7efb2a98,0xa1f1651d,0x39af0176,0x66ca593e,0x82430e88,0x8cee8619,0x456f9fb4,0x7d84a5c3,0x3b8b5ebe,0xe06f75d8,0x85c12073,0x401a449f,0x56c16aa6,0x4ed3aa62,0x363f7706,0x1bfedf72,0x429b023d,0x37d0d724,0xd00a1248,0xdb0fead3,0x49f1c09b,0x75372c9,0x80991b7b,0x25d479d8,0xf6e8def7,0xe3fe501a,0xb6794c3b,0x976ce0bd,0x4c006ba,0xc1a94fb6,0x409f60c4,0x5e5c9ec2,0x196a2463,0x68fb6faf,0x3e6c53b5,0x1339b2eb,0x3b52ec6f,0x6dfc511f,0x9b30952c,0xcc814544,0xaf5ebd09,0xbee3d004,0xde334afd,0x660f2807,0x192e4bb3,0xc0cba857,0x45c8740f,0xd20b5f39,0xb9d3fbdb,0x5579c0bd,0x1a60320a,0xd6a100c6,0x402c7279,0x679f25fe,0xfb1fa3cc,0x8ea5e9f8,0xdb3222f8,0x3c7516df,0xfd616b15,0x2f501ec8,0xad0552ab,0x323db5fa,0xfd238760,0x53317b48,0x3e00df82,0x9e5c57bb,0xca6f8ca0,0x1a87562e,0xdf1769db,0xd542a8f6,0x287effc3,0xac6732c6,0x8c4f5573,0x695b27b0,0xbbca58c8,0xe1ffa35d,0xb8f011a0,0x10fa3d98,0xfd2183b8,0x4afcb56c,0x2dd1d35b,0x9a53e479,0xb6f84565,0xd28e49bc,0x4bfb9790,0xe1ddf2da,0xa4cb7e33,0x62fb1341,0xcee4c6e8,0xef20cada,0x36774c01,0xd07e9efe,0x2bf11fb4,0x95dbda4d,0xae909198,0xeaad8e71,0x6b93d5a0,0xd08ed1d0,0xafc725e0,0x8e3c5b2f,0x8e7594b7,0x8ff6e2fb,0xf2122b64,0x8888b812,0x900df01c,0x4fad5ea0,0x688fc31c,0xd1cff191,0xb3a8c1ad,0x2f2f2218,0xbe0e1777,0xea752dfe,0x8b021fa1,0xe5a0cc0f,0xb56f74e8,0x18acf3d6,0xce89e299,0xb4a84fe0,0xfd13e0b7,0x7cc43b81,0xd2ada8d9,0x165fa266,0x80957705,0x93cc7314,0x211a1477,0xe6ad2065,0x77b5fa86,0xc75442f5,0xfb9d35cf,0xebcdaf0c,0x7b3e89a0,0xd6411bd3,0xae1e7e49,2428461,0x2071b35e,0x226800bb,0x57b8e0af,0x2464369b,0xf009b91e,0x5563911d,0x59dfa6aa,0x78c14389,0xd95a537f,0x207d5ba2,0x2e5b9c5,0x83260376,0x6295cfa9,0x11c81968,0x4e734a41,0xb3472dca,0x7b14a94a,0x1b510052,0x9a532915,0xd60f573f,0xbc9bc6e4,0x2b60a476,0x81e67400,0x8ba6fb5,0x571be91f,0xf296ec6b,0x2a0dd915,0xb6636521,0xe7b9f9b6,0xff34052e,0xc5855664,0x53b02d5d,0xa99f8fa1,0x8ba4799,0x6e85076a,0x4b7a70e9,0xb5b32944,0xdb75092e,0xc4192623,290971e4,0x49a7df7d,0x9cee60b8,0x8fedb266,0xecaa8c71,0x699a17ff,0x5664526c,0xc2b19ee1,0x193602a5,0x75094c29,0xa0591340,0xe4183a3e,0x3f54989a,0x5b429d65,0x6b8fe4d6,0x99f73fd6,0xa1d29c07,0xefe830f5,0x4d2d38e6,0xf0255dc1,0x4cdd2086,0x8470eb26,0x6382e9c6,0x21ecc5e,0x9686b3f,0x3ebaefc9,0x3c971814,0x6b6a70a1,0x687f3584,0x52a0e286,0xb79c5305,0xaa500737,0x3e07841c,0x7fdeae5c,0x8e7d44ec,0x5716f2b8,0xb03ada37,0xf0500c0d,0xf01c1f04,0x200b3ff,0xae0cf51a,0x3cb574b2,0x25837a58,0xdc0921bd,0xd19113f9,0x7ca92ff6,0x94324773,0x22f54701,0x3ae5e581,0x37c2dadc,0xc8b57634,0x9af3dda7,0xa9446146,0xfd0030e,0xecc8c73e,0xa4751e41,0xe238cd99,0x3bea0e2f,0x3280bba1,0x183eb331,0x4e548b38,0x4f6db908,0x6f420d03,0xf60a04bf,0x2cb81290,0x24977c79,0x5679b072,0xbcaf89af,0xde9a771f,0xd9930810,0xb38bae12,0xdccf3f2e,0x5512721f,0x2e6b7124,0x501adde6,0x9f84cd87,0x7a584718,0x7408da17,0xbc9f9abc,0xe94b7d8c,0xec7aec3a,0xdb851dfa,0x63094366,0xc464c3d2,0xef1c1847,0x3215d908,0xdd433b37,0x24c2ba16,0x12a14d43,0x2a65c451,0x50940002,0x133ae4dd,0x71dff89e,0x10314e55,0x81ac77d6,0x5f11199b,0x43556f1,0xd7a3c76b,0x3c11183b,0x5924a509,0xf28fe6ed,0x97f1fbfa,0x9ebabf2c,0x1e153c6e,0x86e34570,0xeae96fb1,0x860e5e0a,0x5a3e2ab3,0x771fe71c,0x4e3d06fa,0x2965dcb9,0x99e71d0f,0x803e89d6,0x5266c825,0x2e4cc978,0x9c10b36a,0xc6150eba,0x94e2ea78,0xa5fc3c53,0x1e0a2df4,0xf2f74ea7,0x361d2b3d,0x1939260f,0x19c27960,0x5223a708,0xf71312b6,0xebadfe6e,0xeac31f66,0xe3bc4595,0xa67bc883,0xb17f37d1,0x18cff28,0xc332ddef,0xbe6c5aa5,0x65582185,0x68ab9802,0xeecea50f,0xdb2f953b,0x2aef7dad,0x5b6e2f84,0x1521b628,0x29076170,0xecdd4775,0x619f1510,0x13cca830,0xeb61bd96,0x334fe1e,0xaa0363cf,0xb5735c90,0x4c70a239,0xd59e9e0b,0xcbaade14,0xeecc86bc,0x60622ca7,0x9cab5cab,0xb2f3846e,0x648b1eaf,0x19bdf0ca,0xa02369b9,0x655abb50,0x40685a32,0x3c2ab4b3,0x319ee9d5,0xc021b8f7,0x9b540b19,0x875fa099,0x95f7997e,0x623d7da8,0xf837889a,0x97e32d77,0x11ed935f,0x16681281,0xe358829,0xc7e61fd6,0x96dedfa1,0x7858ba99,0x57f584a5,0x1b227263,0x9b83c3ff,0x1ac24696,0xcdb30aeb,0x532e3054,0x8fd948e4,0x6dbc3128,0x58ebf2ef,0x34c6ffea,0xfe28ed61,0xee7c3c73,0x5d4a14d9,0xe864b7e3,0x42105d14,0x203e13e0,0x45eee2b6,0xa3aaabea,0xdb6c4f15,0xfacb4fd0,0xc742f442,0xef6abbb5,0x654f3b1d,0x41cd2105,0xd81e799e,0x86854dc7,0xe44b476a,0x3d816250,0xcf62a1f2,0x5b8d2646,0xfc8883a0,0xc1c7b6a3,0x7f1524c3,0x69cb7492,0x47848a0b,0x5692b285,0x95bbf00,0xad19489d,0x1462b174,0x23820e00,0x58428d2a,0xc55f5ea,0x1dadf43e,0x233f7061,0x3372f092,0x8d937e41,0xd65fecf1,0x6c223bdb,0x7cde3759,0xcbee7460,0x4085f2a7,0xce77326e,0xa6078084,0x19f8509e,0xe8efd855,0x61d99735,0xa969a7aa,0xc50c06c2,0x5a04abfc,0x800bcadc,0x9e447a2e,0xc3453484,0xfdd56705,0xe1e9ec9,0xdb73dbd3,0x105588cd,0x675fda79,0xe3674340,0xc5c43465,0x713e38d8,0x3d28f89e,0xf16dff20,0x153e21e7,0x8fb03d4a,0xe6e39f2b,0xdb83adf7,0xe93d5a68,0x948140f7,0xf64c261c,0x94692934,0x411520f7,0x7602d4f7,0xbcf46b2e,0xd4a20068,0xd4082471,0x3320f46a,0x43b7d4b7,0x500061af,0x1e39f62e,0x97244546,0x14214f74,0xbf8b8840,0x4d95fc1d,0x96b591af,0x70f4ddd3,0x66a02f45,0xbfbc09ec,0x3bd9785,0x7fac6dd0,0x31cb8504,0x96eb27b3,0x55fd3941,0xda2547e6,0xabca0a9a,0x28507825,0x530429f4,0xa2c86da,0xe9b66dfb,0x68dc1462,0xd7486900,0x680ec0a4,0x27a18dee,0x4f3ffea2,0xe887ad8c,0xb58ce006,0x7af4d6b6,0xaace1e7c,0xd3375fec,0xce78a399,0x406b2a42,0x20fe9e35,0xd9f385b9,0xee39d7ab,0x3b124e8b,0x1dc9faf7,0x4b6d1856,0x26a36631,0xeae397b2,0x3a6efa74,0xdd5b4332,0x6841e7f7,0xca7820fb,0xfb0af54e,0xd8feb397,0x454056ac,0xba489527,0x55533a3a,0x20838d87,0xfe6ba9b7,0xd096954b,0x55a867bc,0xa1159a58,0xcca92963,0x99e1db33,0xa62a4a56,0x3f3125f9,0x5ef47e1c,0x9029317c,0xfdf8e802,0x4272f70,0x80bb155c,0x5282ce3,0x95c11548,0xe4c66d22,0x48c1133f,0xc70f86dc,0x7f9c9ee,0x41041f0f,0x404779a4,0x5d886e17,0x325f51eb,0xd59bc0d1,0xf2bcc18f,0x41113564,0x257b7834,0x602a9c60,0xdff8e8a3,0x1f636c1b,0xe12b4c2,0x2e1329e,0xaf664fd1,0xcad18115,0x6b2395e0,0x333e92e1,0x3b240b62,0xeebeb922,0x85b2a20e,0xe6ba0d99,0xde720c8c,0x2da2f728,0xd0127845,0x95b794fd,0x647d0862,0xe7ccf5f0,0x5449a36f,0x877d48fa,0xc39dfd27,0xf33e8d1e,0xa476341,0x992eff74,0x3a6f6eab,0xf4f8fd37,0xa812dc60,0xa1ebddf8,0x991be14c,0xdb6e6b0d,0xc67b5510,0x6d672c37,0x2765d43b,0xdcd0e804,0xf1290dc7,0xcc00ffa3,0xb5390f92,0x690fed0b,0x667b9ffb,0xcedb7d9c,0xa091cf0b,0xd9155ea3,0xbb132f88,0x515bad24,0x7b9479bf,0x763bd6eb,0x37392eb3,0xcc115979,0x8026e297,0xf42e312d,0x6842ada7,0xc66a2b3b,0x12754ccc,0x782ef11c,0x6a124237,0xb79251e7,0x6a1bbe6,0x4bfb6350,0x1a6b1018,0x11caedfa,0x3d25bdd8,0xe2e1c3c9,0x44421659,0xa121386,0xd90cec6e,0xd5abea2a,0x64af674e,0xda86a85f,0xbebfe988,0x64e4c3fe,0x9dbc8057,0xf0f7c086,0x60787bf8,0x6003604d,0xd1fd8346,0xf6381fb0,0x7745ae04,0xd736fccc,0x83426b33,0xf01eab71,0xb0804187,0x3c005e5f,0x77a057be,0xbde8ae24,0x55464299,0xbf582e61,0x4e58f48f,0xf2ddfda2,0xf474ef38,0x8789bdc2,0x5366f9c3,0xc8b38e74,0xb475f255,0x46fcd9b9,0x7aeb2661,0x8b1ddf84,0x846a0e79,0x915f95e2,0x466e598e,0x20b45770,0x8cd55591,0xc902de4c,0xb90bace1,0xbb8205d0,0x11a86248,0x7574a99e,0xb77f19b6,0xe0a9dc09,0x662d09a1,0xc4324633,0xe85a1f02,0x9f0be8c,0x4a99a025,0x1d6efe10,0x1ab93d1d,0xba5a4df,0xa186f20f,0x2868f169,0xdcb7da83,0x573906fe,0xa1e2ce9b,0x4fcd7f52,0x50115e01,0xa70683fa,0xa002b5c4,0xde6d027,0x9af88c27,0x773f8641,0xc3604c06,0x61a806b5,0xf0177a28,0xc0f586e0,6314154,0x30dc7d62,0x11e69ed7,0x2338ea63,0x53c2dd94,0xc2c21634,0xbbcbee56,0x90bcb6de,0xebfc7da1,0xce591d76,0x6f05e409,0x4b7c0188,0x39720a3d,0x7c927c24,0x86e3725f,0x724d9db9,0x1ac15bb4,0xd39eb8fc,0xed545578,0x8fca5b5,0xd83d7cd3,0x4dad0fc4,0x1e50ef5e,0xb161e6f8,0xa28514d9,0x6c51133c,0x6fd5c7e7,0x56e14ec4,0x362abfce,0xddc6c837,0xd79a3234,0x92638212,0x670efa8e,0x406000e0,0x3a39ce37,0xd3faf5cf,0xabc27737,0x5ac52d1b,0x5cb0679e,0x4fa33742,0xd3822740,0x99bc9bbe,0xd5118e9d,0xbf0f7315,0xd62d1c7e,0xc700c47b,0xb78c1b6b,0x21a19045,0xb26eb1be,0x6a366eb4,0x5748ab2f,0xbc946e79,0xc6a376d2,0x6549c2c8,0x530ff8ee,0x468dde7d,0xd5730a1d,0x4cd04dc6,0x2939bbdb,0xa9ba4650,0xac9526e8,0xbe5ee304,0xa1fad5f0,0x6a2d519a,0x63ef8ce2,0x9a86ee22,0xc089c2b8,0x43242ef6,0xa51e03aa,0x9cf2d0a4,0x83c061ba,0x9be96a4d,0x8fe51550,0xba645bd6,0x2826a2f9,0xa73a3ae1,0x4ba99586,0xef5562e9,0xc72fefd3,0xf752f7da,0x3f046f69,0x77fa0a59,0x80e4a915,0x87b08601,0x9b09e6ad,0x3b3ee593,0xe990fd5a,0x9e34d797,0x2cf0b7d9,0x22b8b51,0x96d5ac3a,0x17da67d,0xd1cf3ed6,0x7c7d2d28,0x1f9f25cf,0xadf2b89b,0x5ad6b472,0x5a88f54c,0xe029ac71,0xe019a5e6,0x47b0acfd,0xed93fa9b,0xe8d3c48d,0x283b57cc,0xf8d56629,0x79132e28,0x785f0191,0xed756055,0xf7960e44,0xe3d35e8c,0x15056dd4,0x88f46dba,0x3a16125,0x564f0bd,0xc3eb9e15,0x3c9057a2,0x97271aec,0xa93a072a,0x1b3f6d9b,0x1e6321f5,0xf59c66fb,0x26dcf319,0x7533d928,0xb155fdf5,0x3563482,0x8aba3cbb,0x28517711,0xc20ad9f8,0xabcc5167,0xccad925f,0x4de81751,0x3830dc8e,0x379d5862,0x9320f991,0xea7a90c2,0xfb3e7bce,0x5121ce64,0x774fbe32,0xa8b6e37e,0xc3293d46,0x48de5369,0x6413e680,0xa2ae0810,0xdd6db224,0x69852dfd,0x9072166,0xb39a460a,0x6445c0dd,0x586cdecf,0x1c20c8ae,0x5bbef7dd,0x1b588d40,0xccd2017f,0x6bb4e3bb,0xdda26a7e,0x3a59ff45,0x3e350a44,0xbcb4cdd5,0x72eacea8,0xfa6484bb,0x8d6612ae,0xbf3c6f47,0xd29be463,0x542f5d9e,0xaec2771b,0xf64e6370,0x740e0d8d,0xe75b1357,0xf8721671,0xaf537d5d,0x4040cb08,0x4eb4e2cc,0x34d2466a,0x115af84,3786409e3,0x95983a1d,0x6b89fb4,0xce6ea048,0x6f3f3b82,0x3520ab82,0x11a1d4b,0x277227f8,0x611560b1,0xe7933fdc,0xbb3a792b,0x344525bd,0xa08839e1,0x51ce794b,0x2f32c9b7,0xa01fbac9,0xe01cc87e,0xbcc7d1f6,0xcf0111c3,0xa1e8aac7,0x1a908749,0xd44fbd9a,0xd0dadecb,0xd50ada38,0x339c32a,0xc6913667,0x8df9317c,0xe0b12b4f,0xf79e59b7,0x43f5bb3a,0xf2d519ff,0x27d9459c,0xbf97222c,0x15e6fc2a,0xf91fc71,0x9b941525,0xfae59361,0xceb69ceb,0xc2a86459,0x12baa8d1,0xb6c1075e,0xe3056a0c,0x10d25065,0xcb03a442,0xe0ec6e0e,0x1698db3b,0x4c98a0be,0x3278e964,0x9f1f9532,0xe0d392df,0xd3a0342b,0x8971f21e,0x1b0a7441,0x4ba3348c,0xc5be7120,0xc37632d8,0xdf359f8d,0x9b992f2e,0xe60b6f47,0xfe3f11d,0xe54cda54,0x1edad891,0xce6279cf,0xcd3e7e6f,0x1618b166,0xfd2c1d05,0x848fd2c5,0xf6fb2299,0xf523f357,0xa6327623,0x93a83531,0x56cccd02,0xacf08162,0x5a75ebb5,0x6e163697,0x88d273cc,0xde966292,0x81b949d0,0x4c50901b,0x71c65614,0xe6c6c7bd,0x327a140a,0x45e1d006,0xc3f27b9a,0xc9aa53fd,0x62a80f00,0xbb25bfe2,0x35bdd2f6,0x71126905,0xb2040222,0xb6cbcf7c,0xcd769c2b,0x53113ec0,0x1640e3d3,0x38abbd60,0x2547adf0,0xba38209c,0xf746ce76,0x77afa1c5,0x20756060,0x85cbfe4e,0x8ae88dd8,0x7aaaf9b0,0x4cf9aa7e,0x1948c25c,0x2fb8a8c,0x1c36ae4,0xd6ebe1f9,0x90d4f869,0xa65cdea0,0x3f09252d,0xc208e69f,0xb74e6132,0xce77e25b,0x578fdfe3,0x3ac372e6],b=[0x4f727068,0x65616e42,0x65686f6c,0x64657253,0x63727944,0x6f756274];function w(e,t,r,i){var n=e[t],s=e[t+1];return n^=r[0],s^=(i[n>>>24]+i[256|n>>16&255]^i[512|n>>8&255])+i[768|255&n]^r[1],n^=(i[s>>>24]+i[256|s>>16&255]^i[512|s>>8&255])+i[768|255&s]^r[2],s^=(i[n>>>24]+i[256|n>>16&255]^i[512|n>>8&255])+i[768|255&n]^r[3],n^=(i[s>>>24]+i[256|s>>16&255]^i[512|s>>8&255])+i[768|255&s]^r[4],s^=(i[n>>>24]+i[256|n>>16&255]^i[512|n>>8&255])+i[768|255&n]^r[5],n^=(i[s>>>24]+i[256|s>>16&255]^i[512|s>>8&255])+i[768|255&s]^r[6],s^=(i[n>>>24]+i[256|n>>16&255]^i[512|n>>8&255])+i[768|255&n]^r[7],n^=(i[s>>>24]+i[256|s>>16&255]^i[512|s>>8&255])+i[768|255&s]^r[8],s^=(i[n>>>24]+i[256|n>>16&255]^i[512|n>>8&255])+i[768|255&n]^r[9],n^=(i[s>>>24]+i[256|s>>16&255]^i[512|s>>8&255])+i[768|255&s]^r[10],s^=(i[n>>>24]+i[256|n>>16&255]^i[512|n>>8&255])+i[768|255&n]^r[11],n^=(i[s>>>24]+i[256|s>>16&255]^i[512|s>>8&255])+i[768|255&s]^r[12],s^=(i[n>>>24]+i[256|n>>16&255]^i[512|n>>8&255])+i[768|255&n]^r[13],n^=(i[s>>>24]+i[256|s>>16&255]^i[512|s>>8&255])+i[768|255&s]^r[14],s^=(i[n>>>24]+i[256|n>>16&255]^i[512|n>>8&255])+i[768|255&n]^r[15],n^=(i[s>>>24]+i[256|s>>16&255]^i[512|s>>8&255])+i[768|255&s]^r[16],e[t]=s^r[17],e[t+1]=n,e}function v(e,t){for(var r=0,i=0;r<4;++r)i=i<<8|255&e[t],t=(t+1)%e.length;return{key:i,offp:t}}function _(e,t,r){for(var i,n=0,s=[0,0],a=t.length,o=r.length,l=0;l<a;l++)n=(i=v(e,n)).offp,t[l]=t[l]^i.key;for(l=0;l<a;l+=2)s=w(s,0,t,r),t[l]=s[0],t[l+1]=s[1];for(l=0;l<o;l+=2)s=w(s,0,t,r),r[l]=s[0],r[l+1]=s[1]}function x(e,t,r,i,n){var s,a,o=b.slice(),c=o.length;if(r<4||r>31){if(a=Error("Illegal number of rounds (4-31): "+r),i)return void l(i.bind(this,a));throw a}if(t.length!==p){if(a=Error("Illegal salt length: "+t.length+" != "+p),i)return void l(i.bind(this,a));throw a}r=1<<r>>>0;var u,d,h,f=0;function m(){if(n&&n(f/r),f<r)for(var s=Date.now();f<r&&(f+=1,_(e,u,d),_(t,u,d),!(Date.now()-s>100)););else{for(f=0;f<64;f++)for(h=0;h<c>>1;h++)w(o,h<<1,u,d);var a=[];for(f=0;f<c;f++)a.push((o[f]>>24&255)>>>0),a.push((o[f]>>16&255)>>>0),a.push((o[f]>>8&255)>>>0),a.push((255&o[f])>>>0);return i?void i(null,a):a}i&&l(m)}if("function"==typeof Int32Array?(u=new Int32Array(g),d=new Int32Array(y)):(u=g.slice(),d=y.slice()),!function(e,t,r,i){for(var n,s=0,a=[0,0],o=r.length,l=i.length,c=0;c<o;c++)s=(n=v(t,s)).offp,r[c]=r[c]^n.key;for(c=0,s=0;c<o;c+=2)s=(n=v(e,s)).offp,a[0]^=n.key,s=(n=v(e,s)).offp,a[1]^=n.key,a=w(a,0,r,i),r[c]=a[0],r[c+1]=a[1];for(c=0;c<l;c+=2)s=(n=v(e,s)).offp,a[0]^=n.key,s=(n=v(e,s)).offp,a[1]^=n.key,a=w(a,0,r,i),i[c]=a[0],i[c+1]=a[1]}(t,e,u,d),void 0!==i)m();else for(;;)if(void 0!==(s=m()))return s||[]}function S(e,t,r,i){if("string"!=typeof e||"string"!=typeof t){if(n=Error("Invalid string / salt: Not a string"),r)return void l(r.bind(this,n));throw n}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){if(n=Error("Invalid salt version: "+t.substring(0,2)),r)return void l(r.bind(this,n));throw n}if("$"===t.charAt(2))s="\0",a=3;else{if("a"!==(s=t.charAt(2))&&"b"!==s&&"y"!==s||"$"!==t.charAt(3)){if(n=Error("Invalid salt revision: "+t.substring(2,4)),r)return void l(r.bind(this,n));throw n}a=4}if(t.charAt(a+2)>"$"){if(n=Error("Missing salt rounds"),r)return void l(r.bind(this,n));throw n}var n,s,a,o=10*parseInt(t.substring(a,a+1),10)+parseInt(t.substring(a+1,a+2),10),u=t.substring(a+3,a+25),d=function(e){for(var t,r,i=0,n=Array(c(e)),s=0,a=e.length;s<a;++s)(t=e.charCodeAt(s))<128?n[i++]=t:(t<2048?n[i++]=t>>6|192:((64512&t)==55296&&(64512&(r=e.charCodeAt(s+1)))==56320?(t=65536+((1023&t)<<10)+(1023&r),++s,n[i++]=t>>18|240,n[i++]=t>>12&63|128):n[i++]=t>>12|224,n[i++]=t>>6&63|128),n[i++]=63&t|128);return n}(e+=s>="a"?"\0":""),m=f(u,p);function g(e){var t=[];return t.push("$2"),s>="a"&&t.push(s),t.push("$"),o<10&&t.push("0"),t.push(o.toString()),t.push("$"),t.push(h(m,m.length)),t.push(h(e,4*b.length-1)),t.join("")}if(void 0===r)return g(x(d,m,o));x(d,m,o,function(e,t){e?r(e,null):r(null,g(t))},i)}e.s(["default",0,{setRandomFallback:function(e){r=e},genSaltSync:i,genSalt:n,hashSync:s,hash:a,compareSync:function(e,t){if("string"!=typeof e||"string"!=typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return 60===t.length&&o(s(e,t.substring(0,t.length-31)),t)},compare:function(e,t,r,i){function n(r){"string"!=typeof e||"string"!=typeof t?l(r.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t))):60!==t.length?l(r.bind(this,null,!1)):a(e,t.substring(0,29),function(e,i){e?r(e):r(null,o(i,t))},i)}if(!r)return new Promise(function(e,t){n(function(r,i){r?t(r):e(i)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);n(r)},getRounds:function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)},getSalt:function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);if(60!==e.length)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)},truncates:function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);return c(e)>72},encodeBase64:function(e,t){return h(e,t)},decodeBase64:function(e,t){return f(e,t)}}])},22632,e=>{"use strict";let t;e.s([],54033),e.i(54033),(to=tu||(tu={})).assertEqual=e=>{},to.assertIs=function(e){},to.assertNever=function(e){throw Error()},to.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},to.getValidEnumValues=e=>{let t=to.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let i of t)r[i]=e[i];return to.objectValues(r)},to.objectValues=e=>to.objectKeys(e).map(function(t){return e[t]}),to.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},to.find=(e,t)=>{for(let r of e)if(t(r))return r},to.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,to.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},to.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(td||(td={})).mergeShapes=(e,t)=>({...e,...t});let r=tu.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),i=e=>{switch(typeof e){case"undefined":return r.undefined;case"string":return r.string;case"number":return Number.isNaN(e)?r.nan:r.number;case"boolean":return r.boolean;case"function":return r.function;case"bigint":return r.bigint;case"symbol":return r.symbol;case"object":if(Array.isArray(e))return r.array;if(null===e)return r.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return r.promise;if("undefined"!=typeof Map&&e instanceof Map)return r.map;if("undefined"!=typeof Set&&e instanceof Set)return r.set;if("undefined"!=typeof Date&&e instanceof Date)return r.date;return r.object;default:return r.unknown}};e.s(["ZodParsedType",0,r,"getParsedType",0,i,"objectUtil",()=>td,"util",()=>tu],42944);let n=tu.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),s=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class a extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(i);else if("invalid_return_type"===n.code)i(n.returnTypeError);else if("invalid_arguments"===n.code)i(n.argumentsError);else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i];i===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof a))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tu.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}a.create=e=>new a(e),e.s(["ZodError",()=>a,"ZodIssueCode",0,n,"quotelessJson",0,s],15235);let o=(e,t)=>{let i;switch(e.code){case n.invalid_type:i=e.received===r.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case n.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(e.expected,tu.jsonStringifyReplacer)}`;break;case n.unrecognized_keys:i=`Unrecognized key(s) in object: ${tu.joinValues(e.keys,", ")}`;break;case n.invalid_union:i="Invalid input";break;case n.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${tu.joinValues(e.options)}`;break;case n.invalid_enum_value:i=`Invalid enum value. Expected ${tu.joinValues(e.options)}, received '${e.received}'`;break;case n.invalid_arguments:i="Invalid function arguments";break;case n.invalid_return_type:i="Invalid function return type";break;case n.invalid_date:i="Invalid date";break;case n.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(i=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(i=`${i} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?i=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?i=`Invalid input: must end with "${e.validation.endsWith}"`:tu.assertNever(e.validation):i="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case n.too_small:i="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case n.too_big:i="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case n.custom:i="Invalid input";break;case n.invalid_intersection_types:i="Intersection results could not be merged";break;case n.not_multiple_of:i=`Number must be a multiple of ${e.multipleOf}`;break;case n.not_finite:i="Number must be finite";break;default:i=t.defaultError,tu.assertNever(e)}return{message:i}},l=o;function c(e){l=e}function u(){return l}e.s(["getErrorMap",()=>u,"setErrorMap",()=>c],85676),e.i(85676),e.s(["defaultErrorMap",0,o,"getErrorMap",()=>u,"setErrorMap",()=>c],76733),e.i(76733);let d=e=>{let{data:t,path:r,errorMaps:i,issueData:n}=e,s=[...r,...n.path||[]],a={...n,path:s};if(void 0!==n.message)return{...n,path:s,message:n.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(a,{data:t,defaultError:o}).message;return{...n,path:s,message:o}},h=[];function f(e,t){let r=l,i=d({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===o?void 0:o].filter(e=>!!e)});e.common.issues.push(i)}class p{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return m;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return p.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:n}=i;if("aborted"===t.status||"aborted"===n.status)return m;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==n.value||i.alwaysSet)&&(r[t.value]=n.value)}return{status:e.value,value:r}}}let m=Object.freeze({status:"aborted"}),g=e=>({status:"dirty",value:e}),y=e=>({status:"valid",value:e}),b=e=>"aborted"===e.status,w=e=>"dirty"===e.status,v=e=>"valid"===e.status,_=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,g,"EMPTY_PATH",0,h,"INVALID",0,m,"OK",0,y,"ParseStatus",()=>p,"addIssueToContext",()=>f,"isAborted",0,b,"isAsync",0,_,"isDirty",0,w,"isValid",0,v,"makeIssue",0,d],84488),e.i(84488),e.s([],91316),e.i(91316),e.i(42944),(tl=th||(th={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},tl.toString=e=>"string"==typeof e?e:e?.message;class x{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let S=(e,t)=>{if(v(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new a(e.common.issues);return this._error=t,this._error}}};function T(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:n}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??n.defaultError}:void 0===n.data?{message:s??i??n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:s??r??n.defaultError}},description:n}}class E{get description(){return this._def.description}_getType(e){return i(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:i(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new p,ctx:{common:e.parent.common,data:e.data,parsedType:i(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(_(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:i(e)},n=this._parseSync({data:e,path:r.path,parent:r});return S(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:i(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return v(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>v(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:i(e)},n=this._parse({data:e,path:r.path,parent:r});return S(r,await (_(n)?n:Promise.resolve(n)))}refine(e,t){return this._refinement((r,i)=>{let s=e(r),a=()=>i.addIssue({code:n.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"undefined"!=typeof Promise&&s instanceof Promise?s.then(e=>!!e||(a(),!1)):!!s||(a(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new ew({schema:this,typeName:tf.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ev.create(this,this._def)}nullable(){return e_.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return er.create(this)}promise(){return eb.create(this,this._def)}or(e){return en.create([this,e],this._def)}and(e){return eo.create(this,e,this._def)}transform(e){return new ew({...T(this._def),schema:this,typeName:tf.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new ex({...T(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:tf.ZodDefault})}brand(){return new eA({typeName:tf.ZodBranded,type:this,...T(this._def)})}catch(e){return new eS({...T(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:tf.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eC.create(this,e)}readonly(){return eP.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let A=/^c[^\s-]{8,}$/i,C=/^[0-9a-z]+$/,P=/^[0-9A-HJKMNP-TV-Z]{26}$/i,k=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,N=/^[a-z0-9_-]{21}$/i,R=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,O=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,q=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,I=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,j=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,L=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,D=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,M=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,U="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",B=RegExp(`^${U}$`);function K(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function H(e){let t=`${U}T${K(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class Q extends E{_parse(e){var i,s,a,o;let l;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==r.string){let t=this._getOrReturnCtx(e);return f(t,{code:n.invalid_type,expected:r.string,received:t.parsedType}),m}let c=new p;for(let r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(f(l=this._getOrReturnCtx(e,l),{code:n.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),c.dirty());else if("max"===r.kind)e.data.length>r.value&&(f(l=this._getOrReturnCtx(e,l),{code:n.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),c.dirty());else if("length"===r.kind){let t=e.data.length>r.value,i=e.data.length<r.value;(t||i)&&(l=this._getOrReturnCtx(e,l),t?f(l,{code:n.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):i&&f(l,{code:n.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),c.dirty())}else if("email"===r.kind)q.test(e.data)||(f(l=this._getOrReturnCtx(e,l),{validation:"email",code:n.invalid_string,message:r.message}),c.dirty());else if("emoji"===r.kind)t||(t=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),t.test(e.data)||(f(l=this._getOrReturnCtx(e,l),{validation:"emoji",code:n.invalid_string,message:r.message}),c.dirty());else if("uuid"===r.kind)k.test(e.data)||(f(l=this._getOrReturnCtx(e,l),{validation:"uuid",code:n.invalid_string,message:r.message}),c.dirty());else if("nanoid"===r.kind)N.test(e.data)||(f(l=this._getOrReturnCtx(e,l),{validation:"nanoid",code:n.invalid_string,message:r.message}),c.dirty());else if("cuid"===r.kind)A.test(e.data)||(f(l=this._getOrReturnCtx(e,l),{validation:"cuid",code:n.invalid_string,message:r.message}),c.dirty());else if("cuid2"===r.kind)C.test(e.data)||(f(l=this._getOrReturnCtx(e,l),{validation:"cuid2",code:n.invalid_string,message:r.message}),c.dirty());else if("ulid"===r.kind)P.test(e.data)||(f(l=this._getOrReturnCtx(e,l),{validation:"ulid",code:n.invalid_string,message:r.message}),c.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{f(l=this._getOrReturnCtx(e,l),{validation:"url",code:n.invalid_string,message:r.message}),c.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(f(l=this._getOrReturnCtx(e,l),{validation:"regex",code:n.invalid_string,message:r.message}),c.dirty())):"trim"===r.kind?e.data=e.data.trim():"includes"===r.kind?e.data.includes(r.value,r.position)||(f(l=this._getOrReturnCtx(e,l),{code:n.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),c.dirty()):"toLowerCase"===r.kind?e.data=e.data.toLowerCase():"toUpperCase"===r.kind?e.data=e.data.toUpperCase():"startsWith"===r.kind?e.data.startsWith(r.value)||(f(l=this._getOrReturnCtx(e,l),{code:n.invalid_string,validation:{startsWith:r.value},message:r.message}),c.dirty()):"endsWith"===r.kind?e.data.endsWith(r.value)||(f(l=this._getOrReturnCtx(e,l),{code:n.invalid_string,validation:{endsWith:r.value},message:r.message}),c.dirty()):"datetime"===r.kind?H(r).test(e.data)||(f(l=this._getOrReturnCtx(e,l),{code:n.invalid_string,validation:"datetime",message:r.message}),c.dirty()):"date"===r.kind?B.test(e.data)||(f(l=this._getOrReturnCtx(e,l),{code:n.invalid_string,validation:"date",message:r.message}),c.dirty()):"time"===r.kind?RegExp(`^${K(r)}$`).test(e.data)||(f(l=this._getOrReturnCtx(e,l),{code:n.invalid_string,validation:"time",message:r.message}),c.dirty()):"duration"===r.kind?O.test(e.data)||(f(l=this._getOrReturnCtx(e,l),{validation:"duration",code:n.invalid_string,message:r.message}),c.dirty()):"ip"===r.kind?(i=e.data,!(("v4"===(s=r.version)||!s)&&I.test(i)||("v6"===s||!s)&&j.test(i))&&1&&(f(l=this._getOrReturnCtx(e,l),{validation:"ip",code:n.invalid_string,message:r.message}),c.dirty())):"jwt"===r.kind?!function(e,t){if(!R.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(i));if("object"!=typeof n||null===n||"typ"in n&&n?.typ!=="JWT"||!n.alg||t&&n.alg!==t)return!1;return!0}catch{return!1}}(e.data,r.alg)&&(f(l=this._getOrReturnCtx(e,l),{validation:"jwt",code:n.invalid_string,message:r.message}),c.dirty()):"cidr"===r.kind?(a=e.data,!(("v4"===(o=r.version)||!o)&&$.test(a)||("v6"===o||!o)&&L.test(a))&&1&&(f(l=this._getOrReturnCtx(e,l),{validation:"cidr",code:n.invalid_string,message:r.message}),c.dirty())):"base64"===r.kind?D.test(e.data)||(f(l=this._getOrReturnCtx(e,l),{validation:"base64",code:n.invalid_string,message:r.message}),c.dirty()):"base64url"===r.kind?M.test(e.data)||(f(l=this._getOrReturnCtx(e,l),{validation:"base64url",code:n.invalid_string,message:r.message}),c.dirty()):tu.assertNever(r);return{status:c.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:n.invalid_string,...th.errToObj(r)})}_addCheck(e){return new Q({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...th.errToObj(e)})}url(e){return this._addCheck({kind:"url",...th.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...th.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...th.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...th.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...th.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...th.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...th.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...th.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...th.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...th.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...th.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...th.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...th.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...th.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...th.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...th.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...th.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...th.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...th.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...th.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...th.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...th.errToObj(t)})}nonempty(e){return this.min(1,th.errToObj(e))}trim(){return new Q({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Q({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Q({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Q.create=e=>new Q({checks:[],typeName:tf.ZodString,coerce:e?.coerce??!1,...T(e)});class F extends E{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==r.number){let t=this._getOrReturnCtx(e);return f(t,{code:n.invalid_type,expected:r.number,received:t.parsedType}),m}let i=new p;for(let r of this._def.checks)"int"===r.kind?tu.isInteger(e.data)||(f(t=this._getOrReturnCtx(e,t),{code:n.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(f(t=this._getOrReturnCtx(e,t),{code:n.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(f(t=this._getOrReturnCtx(e,t),{code:n.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):"multipleOf"===r.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=r>i?r:i;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}(e.data,r.value)&&(f(t=this._getOrReturnCtx(e,t),{code:n.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(f(t=this._getOrReturnCtx(e,t),{code:n.not_finite,message:r.message}),i.dirty()):tu.assertNever(r);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,th.toString(t))}gt(e,t){return this.setLimit("min",e,!1,th.toString(t))}lte(e,t){return this.setLimit("max",e,!0,th.toString(t))}lt(e,t){return this.setLimit("max",e,!1,th.toString(t))}setLimit(e,t,r,i){return new F({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:th.toString(i)}]})}_addCheck(e){return new F({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:th.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:th.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:th.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:th.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:th.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:th.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:th.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:th.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:th.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&tu.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}F.create=e=>new F({checks:[],typeName:tf.ZodNumber,coerce:e?.coerce||!1,...T(e)});class V extends E{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==r.bigint)return this._getInvalidInput(e);let i=new p;for(let r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(f(t=this._getOrReturnCtx(e,t),{code:n.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(f(t=this._getOrReturnCtx(e,t),{code:n.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(f(t=this._getOrReturnCtx(e,t),{code:n.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):tu.assertNever(r);return{status:i.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return f(t,{code:n.invalid_type,expected:r.bigint,received:t.parsedType}),m}gte(e,t){return this.setLimit("min",e,!0,th.toString(t))}gt(e,t){return this.setLimit("min",e,!1,th.toString(t))}lte(e,t){return this.setLimit("max",e,!0,th.toString(t))}lt(e,t){return this.setLimit("max",e,!1,th.toString(t))}setLimit(e,t,r,i){return new V({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:th.toString(i)}]})}_addCheck(e){return new V({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:th.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:th.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:th.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:th.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:th.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}V.create=e=>new V({checks:[],typeName:tf.ZodBigInt,coerce:e?.coerce??!1,...T(e)});class W extends E{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==r.boolean){let t=this._getOrReturnCtx(e);return f(t,{code:n.invalid_type,expected:r.boolean,received:t.parsedType}),m}return y(e.data)}}W.create=e=>new W({typeName:tf.ZodBoolean,coerce:e?.coerce||!1,...T(e)});class z extends E{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==r.date){let t=this._getOrReturnCtx(e);return f(t,{code:n.invalid_type,expected:r.date,received:t.parsedType}),m}if(Number.isNaN(e.data.getTime()))return f(this._getOrReturnCtx(e),{code:n.invalid_date}),m;let i=new p;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(f(t=this._getOrReturnCtx(e,t),{code:n.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),i.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(f(t=this._getOrReturnCtx(e,t),{code:n.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),i.dirty()):tu.assertNever(r);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new z({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:th.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:th.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}z.create=e=>new z({checks:[],coerce:e?.coerce||!1,typeName:tf.ZodDate,...T(e)});class J extends E{_parse(e){if(this._getType(e)!==r.symbol){let t=this._getOrReturnCtx(e);return f(t,{code:n.invalid_type,expected:r.symbol,received:t.parsedType}),m}return y(e.data)}}J.create=e=>new J({typeName:tf.ZodSymbol,...T(e)});class Z extends E{_parse(e){if(this._getType(e)!==r.undefined){let t=this._getOrReturnCtx(e);return f(t,{code:n.invalid_type,expected:r.undefined,received:t.parsedType}),m}return y(e.data)}}Z.create=e=>new Z({typeName:tf.ZodUndefined,...T(e)});class G extends E{_parse(e){if(this._getType(e)!==r.null){let t=this._getOrReturnCtx(e);return f(t,{code:n.invalid_type,expected:r.null,received:t.parsedType}),m}return y(e.data)}}G.create=e=>new G({typeName:tf.ZodNull,...T(e)});class X extends E{constructor(){super(...arguments),this._any=!0}_parse(e){return y(e.data)}}X.create=e=>new X({typeName:tf.ZodAny,...T(e)});class Y extends E{constructor(){super(...arguments),this._unknown=!0}_parse(e){return y(e.data)}}Y.create=e=>new Y({typeName:tf.ZodUnknown,...T(e)});class ee extends E{_parse(e){let t=this._getOrReturnCtx(e);return f(t,{code:n.invalid_type,expected:r.never,received:t.parsedType}),m}}ee.create=e=>new ee({typeName:tf.ZodNever,...T(e)});class et extends E{_parse(e){if(this._getType(e)!==r.undefined){let t=this._getOrReturnCtx(e);return f(t,{code:n.invalid_type,expected:r.void,received:t.parsedType}),m}return y(e.data)}}et.create=e=>new et({typeName:tf.ZodVoid,...T(e)});class er extends E{_parse(e){let{ctx:t,status:i}=this._processInputParams(e),s=this._def;if(t.parsedType!==r.array)return f(t,{code:n.invalid_type,expected:r.array,received:t.parsedType}),m;if(null!==s.exactLength){let e=t.data.length>s.exactLength.value,r=t.data.length<s.exactLength.value;(e||r)&&(f(t,{code:e?n.too_big:n.too_small,minimum:r?s.exactLength.value:void 0,maximum:e?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(null!==s.minLength&&t.data.length<s.minLength.value&&(f(t,{code:n.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),null!==s.maxLength&&t.data.length>s.maxLength.value&&(f(t,{code:n.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>s.type._parseAsync(new x(t,e,t.path,r)))).then(e=>p.mergeArray(i,e));let a=[...t.data].map((e,r)=>s.type._parseSync(new x(t,e,t.path,r)));return p.mergeArray(i,a)}get element(){return this._def.type}min(e,t){return new er({...this._def,minLength:{value:e,message:th.toString(t)}})}max(e,t){return new er({...this._def,maxLength:{value:e,message:th.toString(t)}})}length(e,t){return new er({...this._def,exactLength:{value:e,message:th.toString(t)}})}nonempty(e){return this.min(1,e)}}er.create=(e,t)=>new er({type:e,minLength:null,maxLength:null,exactLength:null,typeName:tf.ZodArray,...T(t)});class ei extends E{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=tu.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==r.object){let t=this._getOrReturnCtx(e);return f(t,{code:n.invalid_type,expected:r.object,received:t.parsedType}),m}let{status:t,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof ee&&"strip"===this._def.unknownKeys))for(let e in i.data)a.includes(e)||o.push(e);let l=[];for(let e of a){let t=s[e],r=i.data[e];l.push({key:{status:"valid",value:e},value:t._parse(new x(i,r,i.path,e)),alwaysSet:e in i.data})}if(this._def.catchall instanceof ee){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of o)l.push({key:{status:"valid",value:e},value:{status:"valid",value:i.data[e]}});else if("strict"===e)o.length>0&&(f(i,{code:n.unrecognized_keys,keys:o}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of o){let r=i.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new x(i,r,i.path,t)),alwaysSet:t in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of l){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>p.mergeObjectSync(t,e)):p.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return th.errToObj,new ei({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:th.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ei({...this._def,unknownKeys:"strip"})}passthrough(){return new ei({...this._def,unknownKeys:"passthrough"})}extend(e){return new ei({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ei({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tf.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ei({...this._def,catchall:e})}pick(e){let t={};for(let r of tu.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new ei({...this._def,shape:()=>t})}omit(e){let t={};for(let r of tu.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new ei({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof ei){let r={};for(let i in t.shape){let n=t.shape[i];r[i]=ev.create(e(n))}return new ei({...t._def,shape:()=>r})}if(t instanceof er)return new er({...t._def,type:e(t.element)});if(t instanceof ev)return ev.create(e(t.unwrap()));if(t instanceof e_)return e_.create(e(t.unwrap()));if(t instanceof el)return el.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of tu.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new ei({...this._def,shape:()=>t})}required(e){let t={};for(let r of tu.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof ev;)e=e._def.innerType;t[r]=e}return new ei({...this._def,shape:()=>t})}keyof(){return em(tu.objectKeys(this.shape))}}ei.create=(e,t)=>new ei({shape:()=>e,unknownKeys:"strip",catchall:ee.create(),typeName:tf.ZodObject,...T(t)}),ei.strictCreate=(e,t)=>new ei({shape:()=>e,unknownKeys:"strict",catchall:ee.create(),typeName:tf.ZodObject,...T(t)}),ei.lazycreate=(e,t)=>new ei({shape:e,unknownKeys:"strip",catchall:ee.create(),typeName:tf.ZodObject,...T(t)});class en extends E{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new a(e.ctx.common.issues));return f(t,{code:n.invalid_union,unionErrors:r}),m});{let e,i=[];for(let n of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=n._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let s=i.map(e=>new a(e));return f(t,{code:n.invalid_union,unionErrors:s}),m}}get options(){return this._def.options}}en.create=(e,t)=>new en({options:e,typeName:tf.ZodUnion,...T(t)});let es=e=>{if(e instanceof ef)return es(e.schema);if(e instanceof ew)return es(e.innerType());if(e instanceof ep)return[e.value];if(e instanceof eg)return e.options;if(e instanceof ey)return tu.objectValues(e.enum);else if(e instanceof ex)return es(e._def.innerType);else if(e instanceof Z)return[void 0];else if(e instanceof G)return[null];else if(e instanceof ev)return[void 0,...es(e.unwrap())];else if(e instanceof e_)return[null,...es(e.unwrap())];else if(e instanceof eA)return es(e.unwrap());else if(e instanceof eP)return es(e.unwrap());else if(e instanceof eS)return es(e._def.innerType);else return[]};class ea extends E{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==r.object)return f(t,{code:n.invalid_type,expected:r.object,received:t.parsedType}),m;let i=this.discriminator,s=t.data[i],a=this.optionsMap.get(s);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(f(t,{code:n.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),m)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=es(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(i.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);i.set(n,r)}}return new ea({typeName:tf.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...T(r)})}}class eo extends E{_parse(e){let{status:t,ctx:s}=this._processInputParams(e),a=(e,a)=>{if(b(e)||b(a))return m;let o=function e(t,n){let s=i(t),a=i(n);if(t===n)return{valid:!0,data:t};if(s===r.object&&a===r.object){let r=tu.objectKeys(n),i=tu.objectKeys(t).filter(e=>-1!==r.indexOf(e)),s={...t,...n};for(let r of i){let i=e(t[r],n[r]);if(!i.valid)return{valid:!1};s[r]=i.data}return{valid:!0,data:s}}if(s===r.array&&a===r.array){if(t.length!==n.length)return{valid:!1};let r=[];for(let i=0;i<t.length;i++){let s=e(t[i],n[i]);if(!s.valid)return{valid:!1};r.push(s.data)}return{valid:!0,data:r}}if(s===r.date&&a===r.date&&+t==+n)return{valid:!0,data:t};return{valid:!1}}(e.value,a.value);return o.valid?((w(e)||w(a))&&t.dirty(),{status:t.value,value:o.data}):(f(s,{code:n.invalid_intersection_types}),m)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([e,t])=>a(e,t)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}eo.create=(e,t,r)=>new eo({left:e,right:t,typeName:tf.ZodIntersection,...T(r)});class el extends E{_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==r.array)return f(i,{code:n.invalid_type,expected:r.array,received:i.parsedType}),m;if(i.data.length<this._def.items.length)return f(i,{code:n.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),m;!this._def.rest&&i.data.length>this._def.items.length&&(f(i,{code:n.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let s=[...i.data].map((e,t)=>{let r=this._def.items[t]||this._def.rest;return r?r._parse(new x(i,e,i.path,t)):null}).filter(e=>!!e);return i.common.async?Promise.all(s).then(e=>p.mergeArray(t,e)):p.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new el({...this._def,rest:e})}}el.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new el({items:e,typeName:tf.ZodTuple,rest:null,...T(t)})};class ec extends E{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==r.object)return f(i,{code:n.invalid_type,expected:r.object,received:i.parsedType}),m;let s=[],a=this._def.keyType,o=this._def.valueType;for(let e in i.data)s.push({key:a._parse(new x(i,e,i.path,e)),value:o._parse(new x(i,i.data[e],i.path,e)),alwaysSet:e in i.data});return i.common.async?p.mergeObjectAsync(t,s):p.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return new ec(t instanceof E?{keyType:e,valueType:t,typeName:tf.ZodRecord,...T(r)}:{keyType:Q.create(),valueType:e,typeName:tf.ZodRecord,...T(t)})}}class eu extends E{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==r.map)return f(i,{code:n.invalid_type,expected:r.map,received:i.parsedType}),m;let s=this._def.keyType,a=this._def.valueType,o=[...i.data.entries()].map(([e,t],r)=>({key:s._parse(new x(i,e,i.path,[r,"key"])),value:a._parse(new x(i,t,i.path,[r,"value"]))}));if(i.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of o){let i=await r.key,n=await r.value;if("aborted"===i.status||"aborted"===n.status)return m;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of o){let i=r.key,n=r.value;if("aborted"===i.status||"aborted"===n.status)return m;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}}}}eu.create=(e,t,r)=>new eu({valueType:t,keyType:e,typeName:tf.ZodMap,...T(r)});class ed extends E{_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==r.set)return f(i,{code:n.invalid_type,expected:r.set,received:i.parsedType}),m;let s=this._def;null!==s.minSize&&i.data.size<s.minSize.value&&(f(i,{code:n.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),null!==s.maxSize&&i.data.size>s.maxSize.value&&(f(i,{code:n.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());let a=this._def.valueType;function o(e){let r=new Set;for(let i of e){if("aborted"===i.status)return m;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let l=[...i.data.values()].map((e,t)=>a._parse(new x(i,e,i.path,t)));return i.common.async?Promise.all(l).then(e=>o(e)):o(l)}min(e,t){return new ed({...this._def,minSize:{value:e,message:th.toString(t)}})}max(e,t){return new ed({...this._def,maxSize:{value:e,message:th.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ed.create=(e,t)=>new ed({valueType:e,minSize:null,maxSize:null,typeName:tf.ZodSet,...T(t)});class eh extends E{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==r.function)return f(t,{code:n.invalid_type,expected:r.function,received:t.parsedType}),m;function i(e,r){return d({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,l,o].filter(e=>!!e),issueData:{code:n.invalid_arguments,argumentsError:r}})}function s(e,r){return d({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,l,o].filter(e=>!!e),issueData:{code:n.invalid_return_type,returnTypeError:r}})}let c={errorMap:t.common.contextualErrorMap},u=t.data;if(this._def.returns instanceof eb){let e=this;return y(async function(...t){let r=new a([]),n=await e._def.args.parseAsync(t,c).catch(e=>{throw r.addIssue(i(t,e)),r}),o=await Reflect.apply(u,this,n);return await e._def.returns._def.type.parseAsync(o,c).catch(e=>{throw r.addIssue(s(o,e)),r})})}{let e=this;return y(function(...t){let r=e._def.args.safeParse(t,c);if(!r.success)throw new a([i(t,r.error)]);let n=Reflect.apply(u,this,r.data),o=e._def.returns.safeParse(n,c);if(!o.success)throw new a([s(n,o.error)]);return o.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new eh({...this._def,args:el.create(e).rest(Y.create())})}returns(e){return new eh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new eh({args:e||el.create([]).rest(Y.create()),returns:t||Y.create(),typeName:tf.ZodFunction,...T(r)})}}class ef extends E{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ef.create=(e,t)=>new ef({getter:e,typeName:tf.ZodLazy,...T(t)});class ep extends E{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return f(t,{received:t.data,code:n.invalid_literal,expected:this._def.value}),m}return{status:"valid",value:e.data}}get value(){return this._def.value}}function em(e,t){return new eg({values:e,typeName:tf.ZodEnum,...T(t)})}ep.create=(e,t)=>new ep({value:e,typeName:tf.ZodLiteral,...T(t)});class eg extends E{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return f(t,{expected:tu.joinValues(r),received:t.parsedType,code:n.invalid_type}),m}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return f(t,{received:t.data,code:n.invalid_enum_value,options:r}),m}return y(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return eg.create(e,{...this._def,...t})}exclude(e,t=this._def){return eg.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}eg.create=em;class ey extends E{_parse(e){let t=tu.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==r.string&&i.parsedType!==r.number){let e=tu.objectValues(t);return f(i,{expected:tu.joinValues(e),received:i.parsedType,code:n.invalid_type}),m}if(this._cache||(this._cache=new Set(tu.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=tu.objectValues(t);return f(i,{received:i.data,code:n.invalid_enum_value,options:e}),m}return y(e.data)}get enum(){return this._def.values}}ey.create=(e,t)=>new ey({values:e,typeName:tf.ZodNativeEnum,...T(t)});class eb extends E{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==r.promise&&!1===t.common.async?(f(t,{code:n.invalid_type,expected:r.promise,received:t.parsedType}),m):y((t.parsedType===r.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eb.create=(e,t)=>new eb({type:e,typeName:tf.ZodPromise,...T(t)});class ew extends E{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tf.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,n={addIssue:e=>{f(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===i.type){let e=i.transform(r.data,n);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return m;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?m:"dirty"===i.status||"dirty"===t.value?g(i.value):i});{if("aborted"===t.value)return m;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?m:"dirty"===i.status||"dirty"===t.value?g(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,n);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?m:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?m:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>v(e)?Promise.resolve(i.transform(e.value,n)).then(e=>({status:t.value,value:e})):m);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!v(e))return m;let s=i.transform(e.value,n);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}tu.assertNever(i)}}ew.create=(e,t,r)=>new ew({schema:e,typeName:tf.ZodEffects,effect:t,...T(r)}),ew.createWithPreprocess=(e,t,r)=>new ew({schema:t,effect:{type:"preprocess",transform:e},typeName:tf.ZodEffects,...T(r)});class ev extends E{_parse(e){return this._getType(e)===r.undefined?y(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ev.create=(e,t)=>new ev({innerType:e,typeName:tf.ZodOptional,...T(t)});class e_ extends E{_parse(e){return this._getType(e)===r.null?y(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}e_.create=(e,t)=>new e_({innerType:e,typeName:tf.ZodNullable,...T(t)});class ex extends E{_parse(e){let{ctx:t}=this._processInputParams(e),i=t.data;return t.parsedType===r.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ex.create=(e,t)=>new ex({innerType:e,typeName:tf.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...T(t)});class eS extends E{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return _(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new a(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new a(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eS.create=(e,t)=>new eS({innerType:e,typeName:tf.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...T(t)});class eT extends E{_parse(e){if(this._getType(e)!==r.nan){let t=this._getOrReturnCtx(e);return f(t,{code:n.invalid_type,expected:r.nan,received:t.parsedType}),m}return{status:"valid",value:e.data}}}eT.create=e=>new eT({typeName:tf.ZodNaN,...T(e)});let eE=Symbol("zod_brand");class eA extends E{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class eC extends E{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?m:"dirty"===e.status?(t.dirty(),g(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?m:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eC({in:e,out:t,typeName:tf.ZodPipeline})}}class eP extends E{_parse(e){let t=this._def.innerType._parse(e),r=e=>(v(e)&&(e.value=Object.freeze(e.value)),e);return _(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function ek(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function eN(e,t={},r){return e?X.create().superRefine((i,n)=>{let s=e(i);if(s instanceof Promise)return s.then(e=>{if(!e){let e=ek(t,i),s=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:s})}});if(!s){let e=ek(t,i),s=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:s})}}):X.create()}eP.create=(e,t)=>new eP({innerType:e,typeName:tf.ZodReadonly,...T(t)});let eR={object:ei.lazycreate};(tc=tf||(tf={})).ZodString="ZodString",tc.ZodNumber="ZodNumber",tc.ZodNaN="ZodNaN",tc.ZodBigInt="ZodBigInt",tc.ZodBoolean="ZodBoolean",tc.ZodDate="ZodDate",tc.ZodSymbol="ZodSymbol",tc.ZodUndefined="ZodUndefined",tc.ZodNull="ZodNull",tc.ZodAny="ZodAny",tc.ZodUnknown="ZodUnknown",tc.ZodNever="ZodNever",tc.ZodVoid="ZodVoid",tc.ZodArray="ZodArray",tc.ZodObject="ZodObject",tc.ZodUnion="ZodUnion",tc.ZodDiscriminatedUnion="ZodDiscriminatedUnion",tc.ZodIntersection="ZodIntersection",tc.ZodTuple="ZodTuple",tc.ZodRecord="ZodRecord",tc.ZodMap="ZodMap",tc.ZodSet="ZodSet",tc.ZodFunction="ZodFunction",tc.ZodLazy="ZodLazy",tc.ZodLiteral="ZodLiteral",tc.ZodEnum="ZodEnum",tc.ZodEffects="ZodEffects",tc.ZodNativeEnum="ZodNativeEnum",tc.ZodOptional="ZodOptional",tc.ZodNullable="ZodNullable",tc.ZodDefault="ZodDefault",tc.ZodCatch="ZodCatch",tc.ZodPromise="ZodPromise",tc.ZodBranded="ZodBranded",tc.ZodPipeline="ZodPipeline",tc.ZodReadonly="ZodReadonly";let eO=(e,t={message:`Input not instance of ${e.name}`})=>eN(t=>t instanceof e,t),eq=Q.create,eI=F.create,e$=eT.create,ej=V.create,eL=W.create,eD=z.create,eM=J.create,eU=Z.create,eB=G.create,eK=X.create,eH=Y.create,eQ=ee.create,eF=et.create,eV=er.create,eW=ei.create,ez=ei.strictCreate,eJ=en.create,eZ=ea.create,eG=eo.create,eX=el.create,eY=ec.create,e0=eu.create,e1=ed.create,e2=eh.create,e5=ef.create,e4=ep.create,e6=eg.create,e3=ey.create,e9=eb.create,e8=ew.create,e7=ev.create,te=e_.create,tt=ew.createWithPreprocess,tr=eC.create,ti=()=>eq().optional(),tn=()=>eI().optional(),ts=()=>eL().optional(),ta={string:e=>Q.create({...e,coerce:!0}),number:e=>F.create({...e,coerce:!0}),boolean:e=>W.create({...e,coerce:!0}),bigint:e=>V.create({...e,coerce:!0}),date:e=>z.create({...e,coerce:!0})};e.s(["BRAND",0,eE,"NEVER",0,m,"Schema",()=>E,"ZodAny",()=>X,"ZodArray",()=>er,"ZodBigInt",()=>V,"ZodBoolean",()=>W,"ZodBranded",()=>eA,"ZodCatch",()=>eS,"ZodDate",()=>z,"ZodDefault",()=>ex,"ZodDiscriminatedUnion",()=>ea,"ZodEffects",()=>ew,"ZodEnum",()=>eg,"ZodFirstPartyTypeKind",()=>tf,"ZodFunction",()=>eh,"ZodIntersection",()=>eo,"ZodLazy",()=>ef,"ZodLiteral",()=>ep,"ZodMap",()=>eu,"ZodNaN",()=>eT,"ZodNativeEnum",()=>ey,"ZodNever",()=>ee,"ZodNull",()=>G,"ZodNullable",()=>e_,"ZodNumber",()=>F,"ZodObject",()=>ei,"ZodOptional",()=>ev,"ZodPipeline",()=>eC,"ZodPromise",()=>eb,"ZodReadonly",()=>eP,"ZodRecord",()=>ec,"ZodSchema",()=>E,"ZodSet",()=>ed,"ZodString",()=>Q,"ZodSymbol",()=>J,"ZodTransformer",()=>ew,"ZodTuple",()=>el,"ZodType",()=>E,"ZodUndefined",()=>Z,"ZodUnion",()=>en,"ZodUnknown",()=>Y,"ZodVoid",()=>et,"any",()=>eK,"array",()=>eV,"bigint",()=>ej,"boolean",()=>eL,"coerce",0,ta,"custom",()=>eN,"date",()=>eD,"datetimeRegex",()=>H,"discriminatedUnion",()=>eZ,"effect",()=>e8,"enum",()=>e6,"function",()=>e2,"instanceof",()=>eO,"intersection",()=>eG,"late",0,eR,"lazy",()=>e5,"literal",()=>e4,"map",()=>e0,"nan",()=>e$,"nativeEnum",()=>e3,"never",()=>eQ,"null",()=>eB,"nullable",()=>te,"number",()=>eI,"object",()=>eW,"oboolean",()=>ts,"onumber",()=>tn,"optional",()=>e7,"ostring",()=>ti,"pipeline",()=>tr,"preprocess",()=>tt,"promise",()=>e9,"record",()=>eY,"set",()=>e1,"strictObject",()=>ez,"string",()=>eq,"symbol",()=>eM,"transformer",()=>e8,"tuple",()=>eX,"undefined",()=>eU,"union",()=>eJ,"unknown",()=>eH,"void",()=>eF],17958),e.i(17958),e.i(15235),e.s(["BRAND",0,eE,"DIRTY",0,g,"EMPTY_PATH",0,h,"INVALID",0,m,"NEVER",0,m,"OK",0,y,"ParseStatus",()=>p,"Schema",()=>E,"ZodAny",()=>X,"ZodArray",()=>er,"ZodBigInt",()=>V,"ZodBoolean",()=>W,"ZodBranded",()=>eA,"ZodCatch",()=>eS,"ZodDate",()=>z,"ZodDefault",()=>ex,"ZodDiscriminatedUnion",()=>ea,"ZodEffects",()=>ew,"ZodEnum",()=>eg,"ZodError",()=>a,"ZodFirstPartyTypeKind",()=>tf,"ZodFunction",()=>eh,"ZodIntersection",()=>eo,"ZodIssueCode",0,n,"ZodLazy",()=>ef,"ZodLiteral",()=>ep,"ZodMap",()=>eu,"ZodNaN",()=>eT,"ZodNativeEnum",()=>ey,"ZodNever",()=>ee,"ZodNull",()=>G,"ZodNullable",()=>e_,"ZodNumber",()=>F,"ZodObject",()=>ei,"ZodOptional",()=>ev,"ZodParsedType",0,r,"ZodPipeline",()=>eC,"ZodPromise",()=>eb,"ZodReadonly",()=>eP,"ZodRecord",()=>ec,"ZodSchema",()=>E,"ZodSet",()=>ed,"ZodString",()=>Q,"ZodSymbol",()=>J,"ZodTransformer",()=>ew,"ZodTuple",()=>el,"ZodType",()=>E,"ZodUndefined",()=>Z,"ZodUnion",()=>en,"ZodUnknown",()=>Y,"ZodVoid",()=>et,"addIssueToContext",()=>f,"any",()=>eK,"array",()=>eV,"bigint",()=>ej,"boolean",()=>eL,"coerce",0,ta,"custom",()=>eN,"date",()=>eD,"datetimeRegex",()=>H,"defaultErrorMap",0,o,"discriminatedUnion",()=>eZ,"effect",()=>e8,"enum",()=>e6,"function",()=>e2,"getErrorMap",()=>u,"getParsedType",0,i,"instanceof",()=>eO,"intersection",()=>eG,"isAborted",0,b,"isAsync",0,_,"isDirty",0,w,"isValid",0,v,"late",0,eR,"lazy",()=>e5,"literal",()=>e4,"makeIssue",0,d,"map",()=>e0,"nan",()=>e$,"nativeEnum",()=>e3,"never",()=>eQ,"null",()=>eB,"nullable",()=>te,"number",()=>eI,"object",()=>eW,"objectUtil",()=>td,"oboolean",()=>ts,"onumber",()=>tn,"optional",()=>e7,"ostring",()=>ti,"pipeline",()=>tr,"preprocess",()=>tt,"promise",()=>e9,"quotelessJson",0,s,"record",()=>eY,"set",()=>e1,"setErrorMap",()=>c,"strictObject",()=>ez,"string",()=>eq,"symbol",()=>eM,"transformer",()=>e8,"tuple",()=>eX,"undefined",()=>eU,"union",()=>eJ,"unknown",()=>eH,"util",()=>tu,"void",()=>eF],35907);var to,tl,tc,tu,td,th,tf,tp=e.i(35907);e.s(["z",0,tp],22632)},98902,e=>e.a(async(t,r)=>{try{var i=e.i(27553);e.i(70429);var n=e.i(26727);e.i(49969);var s=e.i(43755),a=e.i(3967),o=e.i(84501),l=e.i(84297),c=e.i(7304),u=e.i(75225),d=e.i(49632),h=e.i(22632),f=t([o]);[o]=f.then?(await f)():f;let{auth:p,handlers:m,signIn:g,signOut:y}=(0,i.default)({...l.authConfig,adapter:(0,a.DrizzleAdapter)(o.db,{usersTable:c.users,accountsTable:c.oauthAccounts,sessionsTable:c.sessions,verificationTokensTable:c.verificationTokens}),session:{strategy:"database"},providers:[(0,n.default)({clientId:process.env.AUTH_GOOGLE_ID||process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.AUTH_GOOGLE_SECRET||process.env.GOOGLE_CLIENT_SECRET}),(0,s.default)({async authorize(e){let t=h.z.object({email:h.z.string().email(),password:h.z.string().min(6)}).safeParse(e);if(t.success){let{email:e,password:r}=t.data,[i]=await o.db.select().from(c.users).where((0,u.eq)(c.users.email,e)).limit(1);if(!i||!i.passwordHash)return null;if(await d.default.compare(r,i.passwordHash))return i}return null}})]});e.s(["handlers",0,m]),r()}catch(e){r(e)}},!1),27157,e=>e.a(async(t,r)=>{try{var i=e.i(98902),n=t([i]);[i]=n.then?(await n)():n;let{GET:s,POST:a}=i.handlers;e.s(["GET",0,s,"POST",0,a]),r()}catch(e){r(e)}},!1),31811,e=>e.a(async(t,r)=>{try{var i=e.i(47909),n=e.i(74017),s=e.i(96250),a=e.i(59756),o=e.i(61916),l=e.i(74677),c=e.i(69741),u=e.i(16795),d=e.i(87718),h=e.i(95169),f=e.i(47587),p=e.i(66012),m=e.i(70101),g=e.i(26937),y=e.i(10372),b=e.i(93695);e.i(52474);var w=e.i(220),v=e.i(27157),_=t([v]);[v]=_.then?(await _)():_;let T=new i.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/auth/[...nextauth]/route",pathname:"/api/auth/[...nextauth]",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/api/auth/[...nextauth]/route.ts",nextConfigOutput:"",userland:v}),{workAsyncStorage:E,workUnitAsyncStorage:A,serverHooks:C}=T;function x(){return(0,s.patchFetch)({workAsyncStorage:E,workUnitAsyncStorage:A})}async function S(e,t,r){T.isDev&&(0,a.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let i="/api/auth/[...nextauth]/route";i=i.replace(/\/index$/,"")||"/";let s=await T.prepare(e,t,{srcPage:i,multiZoneDraftMode:!1});if(!s)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:v,params:_,nextConfig:x,parsedUrl:S,isDraftMode:E,prerenderManifest:A,routerServerContext:C,isOnDemandRevalidate:P,revalidateOnlyGenerated:k,resolvedPathname:N,clientReferenceManifest:R,serverActionsManifest:O}=s,q=(0,c.normalizeAppPath)(i),I=!!(A.dynamicRoutes[q]||A.routes[N]),$=async()=>((null==C?void 0:C.render404)?await C.render404(e,t,S,!1):t.end("This page could not be found"),null);if(I&&!E){let e=!!A.routes[N],t=A.dynamicRoutes[q];if(t&&!1===t.fallback&&!e){if(x.experimental.adapterPath)return await $();throw new b.NoFallbackError}}let j=null;!I||T.isDev||E||(j=N,j="/index"===j?"/":j);let L=!0===T.isDev||!I,D=I&&!L;O&&R&&(0,l.setManifestsSingleton)({page:i,clientReferenceManifest:R,serverActionsManifest:O});let M=e.method||"GET",U=(0,o.getTracer)(),B=U.getActiveScopeSpan(),K={params:_,prerenderManifest:A,renderOpts:{experimental:{authInterrupts:!!x.experimental.authInterrupts},cacheComponents:!!x.cacheComponents,supportsDynamicResponse:L,incrementalCache:(0,a.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:x.cacheLife,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,i,n)=>T.onRequestError(e,t,i,n,C)},sharedContext:{buildId:v}},H=new u.NodeNextRequest(e),Q=new u.NodeNextResponse(t),F=d.NextRequestAdapter.fromNodeNextRequest(H,(0,d.signalFromNodeResponse)(t));try{let s=async e=>T.handle(F,K).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=U.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==h.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=r.get("next.route");if(n){let t=`${M} ${n}`;e.setAttributes({"next.route":n,"http.route":n,"next.span_name":t}),e.updateName(t)}else e.updateName(`${M} ${i}`)}),l=!!(0,a.getRequestMeta)(e,"minimalMode"),c=async a=>{var o,c;let u=async({previousCacheEntry:n})=>{try{if(!l&&P&&k&&!n)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let i=await s(a);e.fetchMetrics=K.renderOpts.fetchMetrics;let o=K.renderOpts.pendingWaitUntil;o&&r.waitUntil&&(r.waitUntil(o),o=void 0);let c=K.renderOpts.collectedTags;if(!I)return await (0,p.sendResponse)(H,Q,i,K.renderOpts.pendingWaitUntil),null;{let e=await i.blob(),t=(0,m.toNodeOutgoingHttpHeaders)(i.headers);c&&(t[y.NEXT_CACHE_TAGS_HEADER]=c),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==K.renderOpts.collectedRevalidate&&!(K.renderOpts.collectedRevalidate>=y.INFINITE_CACHE)&&K.renderOpts.collectedRevalidate,n=void 0===K.renderOpts.collectedExpire||K.renderOpts.collectedExpire>=y.INFINITE_CACHE?void 0:K.renderOpts.collectedExpire;return{value:{kind:w.CachedRouteKind.APP_ROUTE,status:i.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:n}}}}catch(t){throw(null==n?void 0:n.isStale)&&await T.onRequestError(e,t,{routerKind:"App Router",routePath:i,routeType:"route",revalidateReason:(0,f.getRevalidateReason)({isStaticGeneration:D,isOnDemandRevalidate:P})},!1,C),t}},d=await T.handleResponse({req:e,nextConfig:x,cacheKey:j,routeKind:n.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:A,isRoutePPREnabled:!1,isOnDemandRevalidate:P,revalidateOnlyGenerated:k,responseGenerator:u,waitUntil:r.waitUntil,isMinimalMode:l});if(!I)return null;if((null==d||null==(o=d.value)?void 0:o.kind)!==w.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(c=d.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});l||t.setHeader("x-nextjs-cache",P?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),E&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let h=(0,m.fromNodeOutgoingHttpHeaders)(d.value.headers);return l&&I||h.delete(y.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||h.get("Cache-Control")||h.set("Cache-Control",(0,g.getCacheControlHeader)(d.cacheControl)),await (0,p.sendResponse)(H,Q,new Response(d.value.body,{headers:h,status:d.value.status||200})),null};B?await c(B):await U.withPropagatedContext(e.headers,()=>U.trace(h.BaseServerSpan.handleRequest,{spanName:`${M} ${i}`,kind:o.SpanKind.SERVER,attributes:{"http.method":M,"http.target":e.url}},c))}catch(t){if(t instanceof b.NoFallbackError||await T.onRequestError(e,t,{routerKind:"App Router",routePath:q,routeType:"route",revalidateReason:(0,f.getRevalidateReason)({isStaticGeneration:D,isOnDemandRevalidate:P})},!1,C),I)throw t;return await (0,p.sendResponse)(H,Q,new Response(null,{status:500})),null}}e.s(["handler",()=>S,"patchFetch",()=>x,"routeModule",()=>T,"serverHooks",()=>C,"workAsyncStorage",()=>E,"workUnitAsyncStorage",()=>A]),r()}catch(e){r(e)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__08dee333._.js.map