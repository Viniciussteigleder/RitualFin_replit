{
  "id": "61782291-bb1a-4d45-922e-82cf553c5e2e",
  "prevId": "183dc2a2-098c-4315-80b8-ef53c706d19a",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.account_balance_snapshots": {
      "name": "account_balance_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "as_of_date": {
          "name": "as_of_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "balance_type": {
          "name": "balance_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "unit": {
          "name": "unit",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'EUR'"
        },
        "source_type": {
          "name": "source_type",
          "type": "snapshot_source_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "ingestion_item_id": {
          "name": "ingestion_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "attachment_id": {
          "name": "attachment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "account_balance_snapshots_user_id_users_id_fk": {
          "name": "account_balance_snapshots_user_id_users_id_fk",
          "tableFrom": "account_balance_snapshots",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "account_balance_snapshots_account_id_accounts_id_fk": {
          "name": "account_balance_snapshots_account_id_accounts_id_fk",
          "tableFrom": "account_balance_snapshots",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "account_balance_snapshots_attachment_id_attachments_id_fk": {
          "name": "account_balance_snapshots_attachment_id_attachments_id_fk",
          "tableFrom": "account_balance_snapshots",
          "tableTo": "attachments",
          "columnsFrom": [
            "attachment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.accounts": {
      "name": "accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "institution": {
          "name": "institution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "account_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "account_type": {
          "name": "account_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency_default": {
          "name": "currency_default",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'EUR'"
        },
        "external_ref_iban": {
          "name": "external_ref_iban",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_ref_last4": {
          "name": "external_ref_last4",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "account_number": {
          "name": "account_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon": {
          "name": "icon",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'credit-card'"
        },
        "color": {
          "name": "color",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'#6366f1'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "accounts_user_institution_idx": {
          "name": "accounts_user_institution_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "institution",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "accounts_user_iban_idx": {
          "name": "accounts_user_iban_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "external_ref_iban",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "accounts_user_last4_idx": {
          "name": "accounts_user_last4_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "external_ref_last4",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "accounts_user_id_users_id_fk": {
          "name": "accounts_user_id_users_id_fk",
          "tableFrom": "accounts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.alias_assets": {
      "name": "alias_assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "alias_key": {
          "name": "alias_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "alias_desc": {
          "name": "alias_desc",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key_words_alias": {
          "name": "key_words_alias",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "local_logo_path": {
          "name": "local_logo_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 500
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "alias_assets_user_alias_key_idx": {
          "name": "alias_assets_user_alias_key_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "alias_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "alias_assets_user_id_users_id_fk": {
          "name": "alias_assets_user_id_users_id_fk",
          "tableFrom": "alias_assets",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.app_category": {
      "name": "app_category",
      "schema": "",
      "columns": {
        "app_cat_id": {
          "name": "app_cat_id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "version_id": {
          "name": "version_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "app_category_user_id_users_id_fk": {
          "name": "app_category_user_id_users_id_fk",
          "tableFrom": "app_category",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.app_category_leaf": {
      "name": "app_category_leaf",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "app_cat_id": {
          "name": "app_cat_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "leaf_id": {
          "name": "leaf_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "app_category_leaf_user_id_users_id_fk": {
          "name": "app_category_leaf_user_id_users_id_fk",
          "tableFrom": "app_category_leaf",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "app_category_leaf_app_cat_id_app_category_app_cat_id_fk": {
          "name": "app_category_leaf_app_cat_id_app_category_app_cat_id_fk",
          "tableFrom": "app_category_leaf",
          "tableTo": "app_category",
          "columnsFrom": [
            "app_cat_id"
          ],
          "columnsTo": [
            "app_cat_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "app_category_leaf_leaf_id_taxonomy_leaf_leaf_id_fk": {
          "name": "app_category_leaf_leaf_id_taxonomy_leaf_leaf_id_fk",
          "tableFrom": "app_category_leaf",
          "tableTo": "taxonomy_leaf",
          "columnsFrom": [
            "leaf_id"
          ],
          "columnsTo": [
            "leaf_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.attachments": {
      "name": "attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "batch_id": {
          "name": "batch_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "storage_key": {
          "name": "storage_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "ocr_status": {
          "name": "ocr_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "attachments_user_id_users_id_fk": {
          "name": "attachments_user_id_users_id_fk",
          "tableFrom": "attachments",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "attachments_batch_id_ingestion_batches_id_fk": {
          "name": "attachments_batch_id_ingestion_batches_id_fk",
          "tableFrom": "attachments",
          "tableTo": "ingestion_batches",
          "columnsFrom": [
            "batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.authenticators": {
      "name": "authenticators",
      "schema": "",
      "columns": {
        "credential_id": {
          "name": "credential_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "provider_account_id": {
          "name": "provider_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "credential_public_key": {
          "name": "credential_public_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "counter": {
          "name": "counter",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "credential_device_type": {
          "name": "credential_device_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "credential_backed_up": {
          "name": "credential_backed_up",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "transports": {
          "name": "transports",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "authenticators_user_id_credential_id_idx": {
          "name": "authenticators_user_id_credential_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "credential_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "authenticators_user_id_users_id_fk": {
          "name": "authenticators_user_id_users_id_fk",
          "tableFrom": "authenticators",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "authenticators_credential_id_unique": {
          "name": "authenticators_credential_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "credential_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.budgets": {
      "name": "budgets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "month": {
          "name": "month",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category_1": {
          "name": "category_1",
          "type": "category_1",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "budgets_user_id_users_id_fk": {
          "name": "budgets_user_id_users_id_fk",
          "tableFrom": "budgets",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.bulk_apply_runs": {
      "name": "bulk_apply_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "params_json": {
          "name": "params_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "summary_json": {
          "name": "summary_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "bulk_apply_runs_user_id_users_id_fk": {
          "name": "bulk_apply_runs_user_id_users_id_fk",
          "tableFrom": "bulk_apply_runs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.calendar_events": {
      "name": "calendar_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "category_1": {
          "name": "category_1",
          "type": "category_1",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "category_2": {
          "name": "category_2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recurrence": {
          "name": "recurrence",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'none'"
        },
        "next_due_date": {
          "name": "next_due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "calendar_events_user_id_users_id_fk": {
          "name": "calendar_events_user_id_users_id_fk",
          "tableFrom": "calendar_events",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_events_account_id_accounts_id_fk": {
          "name": "calendar_events_account_id_accounts_id_fk",
          "tableFrom": "calendar_events",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.category_goals": {
      "name": "category_goals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "goal_id": {
          "name": "goal_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "category_1": {
          "name": "category_1",
          "type": "category_1",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "target_amount": {
          "name": "target_amount",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "category_goals_goal_id_goals_id_fk": {
          "name": "category_goals_goal_id_goals_id_fk",
          "tableFrom": "category_goals",
          "tableTo": "goals",
          "columnsFrom": [
            "goal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.goals": {
      "name": "goals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "month": {
          "name": "month",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_income": {
          "name": "estimated_income",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_planned": {
          "name": "total_planned",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "goals_user_id_users_id_fk": {
          "name": "goals_user_id_users_id_fk",
          "tableFrom": "goals",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ingestion_batches": {
      "name": "ingestion_batches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "ingestion_source_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "ingestion_batch_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'processing'"
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "imported_at": {
          "name": "imported_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "source_system": {
          "name": "source_system",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_format": {
          "name": "source_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "detected_account_id": {
          "name": "detected_account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "detection_confidence": {
          "name": "detection_confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "detection_reasons": {
          "name": "detection_reasons",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "diagnostics_json": {
          "name": "diagnostics_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ingestion_batches_user_id_users_id_fk": {
          "name": "ingestion_batches_user_id_users_id_fk",
          "tableFrom": "ingestion_batches",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ingestion_batches_account_id_accounts_id_fk": {
          "name": "ingestion_batches_account_id_accounts_id_fk",
          "tableFrom": "ingestion_batches",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ingestion_items": {
      "name": "ingestion_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "batch_id": {
          "name": "batch_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "raw_payload": {
          "name": "raw_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "parsed_payload": {
          "name": "parsed_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "item_fingerprint": {
          "name": "item_fingerprint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ingestion_items_fingerprint_idx": {
          "name": "ingestion_items_fingerprint_idx",
          "columns": [
            {
              "expression": "item_fingerprint",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ingestion_items_batch_id_ingestion_batches_id_fk": {
          "name": "ingestion_items_batch_id_ingestion_batches_id_fk",
          "tableFrom": "ingestion_items",
          "tableTo": "ingestion_batches",
          "columnsFrom": [
            "batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.oauth_accounts": {
      "name": "oauth_accounts",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_account_id": {
          "name": "provider_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "token_type": {
          "name": "token_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_state": {
          "name": "session_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "oauth_accounts_provider_provider_account_id_idx": {
          "name": "oauth_accounts_provider_provider_account_id_idx",
          "columns": [
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "provider_account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "oauth_accounts_user_id_users_id_fk": {
          "name": "oauth_accounts_user_id_users_id_fk",
          "tableFrom": "oauth_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ocr_extractions": {
      "name": "ocr_extractions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "attachment_id": {
          "name": "attachment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "text_raw": {
          "name": "text_raw",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "blocks_json": {
          "name": "blocks_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ocr_extractions_attachment_id_attachments_id_fk": {
          "name": "ocr_extractions_attachment_id_attachments_id_fk",
          "tableFrom": "ocr_extractions",
          "tableTo": "attachments",
          "columnsFrom": [
            "attachment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.print_line_items": {
      "name": "print_line_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "print_session_id": {
          "name": "print_session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ingestion_item_id": {
          "name": "ingestion_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "section": {
          "name": "section",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_date": {
          "name": "event_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "event_time_text": {
          "name": "event_time_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "merchant_line_1": {
          "name": "merchant_line_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sub_text": {
          "name": "sub_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'EUR'"
        },
        "fingerprint": {
          "name": "fingerprint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "print_line_items_user_id_users_id_fk": {
          "name": "print_line_items_user_id_users_id_fk",
          "tableFrom": "print_line_items",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "print_line_items_account_id_accounts_id_fk": {
          "name": "print_line_items_account_id_accounts_id_fk",
          "tableFrom": "print_line_items",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "print_line_items_print_session_id_print_sessions_id_fk": {
          "name": "print_line_items_print_session_id_print_sessions_id_fk",
          "tableFrom": "print_line_items",
          "tableTo": "print_sessions",
          "columnsFrom": [
            "print_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "print_line_items_ingestion_item_id_ingestion_items_id_fk": {
          "name": "print_line_items_ingestion_item_id_ingestion_items_id_fk",
          "tableFrom": "print_line_items",
          "tableTo": "ingestion_items",
          "columnsFrom": [
            "ingestion_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "print_line_items_transaction_id_transactions_id_fk": {
          "name": "print_line_items_transaction_id_transactions_id_fk",
          "tableFrom": "print_line_items",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.print_sessions": {
      "name": "print_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "batch_id": {
          "name": "batch_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source_app": {
          "name": "source_app",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "as_of_date": {
          "name": "as_of_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "print_sessions_user_id_users_id_fk": {
          "name": "print_sessions_user_id_users_id_fk",
          "tableFrom": "print_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "print_sessions_account_id_accounts_id_fk": {
          "name": "print_sessions_account_id_accounts_id_fk",
          "tableFrom": "print_sessions",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "print_sessions_batch_id_ingestion_batches_id_fk": {
          "name": "print_sessions_batch_id_ingestion_batches_id_fk",
          "tableFrom": "print_sessions",
          "tableTo": "ingestion_batches",
          "columnsFrom": [
            "batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reconciliation_candidates": {
      "name": "reconciliation_candidates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "run_id": {
          "name": "run_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "left_transaction_id": {
          "name": "left_transaction_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "right_transaction_id": {
          "name": "right_transaction_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "score_total": {
          "name": "score_total",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "score_breakdown": {
          "name": "score_breakdown",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "decision": {
          "name": "decision",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "reconciliation_candidates_run_id_reconciliation_runs_id_fk": {
          "name": "reconciliation_candidates_run_id_reconciliation_runs_id_fk",
          "tableFrom": "reconciliation_candidates",
          "tableTo": "reconciliation_runs",
          "columnsFrom": [
            "run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reconciliation_runs": {
      "name": "reconciliation_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "left_type": {
          "name": "left_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "right_type": {
          "name": "right_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "params_json": {
          "name": "params_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'running'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "reconciliation_runs_user_id_users_id_fk": {
          "name": "reconciliation_runs_user_id_users_id_fk",
          "tableFrom": "reconciliation_runs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "reconciliation_runs_account_id_accounts_id_fk": {
          "name": "reconciliation_runs_account_id_accounts_id_fk",
          "tableFrom": "reconciliation_runs",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rituals": {
      "name": "rituals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "period": {
          "name": "period",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "rituals_user_id_users_id_fk": {
          "name": "rituals_user_id_users_id_fk",
          "tableFrom": "rituals",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rules": {
      "name": "rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "transaction_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "fix_var": {
          "name": "fix_var",
          "type": "fix_var",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "category_1": {
          "name": "category_1",
          "type": "category_1",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "category_2": {
          "name": "category_2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category_3": {
          "name": "category_3",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 500
        },
        "strict": {
          "name": "strict",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "leaf_id": {
          "name": "leaf_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "key_words": {
          "name": "key_words",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key_words_negative": {
          "name": "key_words_negative",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "rules_user_id_users_id_fk": {
          "name": "rules_user_id_users_id_fk",
          "tableFrom": "rules",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "session_token": {
          "name": "session_token",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "expires": {
          "name": "expires",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sessions_user_id_users_id_fk": {
          "name": "sessions_user_id_users_id_fk",
          "tableFrom": "sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.settings": {
      "name": "settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "auto_confirm_high_confidence": {
          "name": "auto_confirm_high_confidence",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "confidence_threshold": {
          "name": "confidence_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 80
        },
        "language": {
          "name": "language",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pt-BR'"
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'EUR'"
        },
        "fiscal_region": {
          "name": "fiscal_region",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'Portugal/PT'"
        },
        "notify_import_status": {
          "name": "notify_import_status",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notify_review_queue": {
          "name": "notify_review_queue",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notify_monthly_report": {
          "name": "notify_monthly_report",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "settings_user_id_users_id_fk": {
          "name": "settings_user_id_users_id_fk",
          "tableFrom": "settings",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "settings_user_id_unique": {
          "name": "settings_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.source_csv_amex": {
      "name": "source_csv_amex",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "batch_id": {
          "name": "batch_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ingestion_item_id": {
          "name": "ingestion_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "datum": {
          "name": "datum",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "beschreibung": {
          "name": "beschreibung",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "betrag": {
          "name": "betrag",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "karteninhaber": {
          "name": "karteninhaber",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kartennummer": {
          "name": "kartennummer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "referenz": {
          "name": "referenz",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ort": {
          "name": "ort",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "staat": {
          "name": "staat",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "row_fingerprint": {
          "name": "row_fingerprint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key_desc": {
          "name": "key_desc",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unique_row": {
          "name": "unique_row",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "imported_at": {
          "name": "imported_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "amex_acc_datum_idx": {
          "name": "amex_acc_datum_idx",
          "columns": [
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "datum",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "amex_acc_amt_idx": {
          "name": "amex_acc_amt_idx",
          "columns": [
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "betrag",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "amex_user_key_idx": {
          "name": "amex_user_key_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "source_csv_amex_user_id_users_id_fk": {
          "name": "source_csv_amex_user_id_users_id_fk",
          "tableFrom": "source_csv_amex",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "source_csv_amex_account_id_accounts_id_fk": {
          "name": "source_csv_amex_account_id_accounts_id_fk",
          "tableFrom": "source_csv_amex",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "source_csv_amex_batch_id_ingestion_batches_id_fk": {
          "name": "source_csv_amex_batch_id_ingestion_batches_id_fk",
          "tableFrom": "source_csv_amex",
          "tableTo": "ingestion_batches",
          "columnsFrom": [
            "batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "source_csv_amex_ingestion_item_id_ingestion_items_id_fk": {
          "name": "source_csv_amex_ingestion_item_id_ingestion_items_id_fk",
          "tableFrom": "source_csv_amex",
          "tableTo": "ingestion_items",
          "columnsFrom": [
            "ingestion_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.source_csv_mm": {
      "name": "source_csv_mm",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "batch_id": {
          "name": "batch_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ingestion_item_id": {
          "name": "ingestion_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "authorised_on": {
          "name": "authorised_on",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "processed_on": {
          "name": "processed_on",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "payment_type": {
          "name": "payment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "row_fingerprint": {
          "name": "row_fingerprint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key_desc": {
          "name": "key_desc",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unique_row": {
          "name": "unique_row",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "imported_at": {
          "name": "imported_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "mm_acc_processed_idx": {
          "name": "mm_acc_processed_idx",
          "columns": [
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "processed_on",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mm_acc_amt_idx": {
          "name": "mm_acc_amt_idx",
          "columns": [
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "amount",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mm_user_key_idx": {
          "name": "mm_user_key_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "source_csv_mm_user_id_users_id_fk": {
          "name": "source_csv_mm_user_id_users_id_fk",
          "tableFrom": "source_csv_mm",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "source_csv_mm_account_id_accounts_id_fk": {
          "name": "source_csv_mm_account_id_accounts_id_fk",
          "tableFrom": "source_csv_mm",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "source_csv_mm_batch_id_ingestion_batches_id_fk": {
          "name": "source_csv_mm_batch_id_ingestion_batches_id_fk",
          "tableFrom": "source_csv_mm",
          "tableTo": "ingestion_batches",
          "columnsFrom": [
            "batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "source_csv_mm_ingestion_item_id_ingestion_items_id_fk": {
          "name": "source_csv_mm_ingestion_item_id_ingestion_items_id_fk",
          "tableFrom": "source_csv_mm",
          "tableTo": "ingestion_items",
          "columnsFrom": [
            "ingestion_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.source_csv_sparkasse": {
      "name": "source_csv_sparkasse",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "batch_id": {
          "name": "batch_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ingestion_item_id": {
          "name": "ingestion_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "auftragskonto": {
          "name": "auftragskonto",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "buchungstag": {
          "name": "buchungstag",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "valutadatum": {
          "name": "valutadatum",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "buchungstext": {
          "name": "buchungstext",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verwendungszweck": {
          "name": "verwendungszweck",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "glaeubiger_id": {
          "name": "glaeubiger_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mandatsreferenz": {
          "name": "mandatsreferenz",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kundenreferenz": {
          "name": "kundenreferenz",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sammlerreferenz": {
          "name": "sammlerreferenz",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lastschrifteinreicher_id": {
          "name": "lastschrifteinreicher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_end_to_end": {
          "name": "id_end_to_end",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "beguenstigter_zahlungspflichtiger": {
          "name": "beguenstigter_zahlungspflichtiger",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "iban": {
          "name": "iban",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bic": {
          "name": "bic",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "betrag": {
          "name": "betrag",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "waehrung": {
          "name": "waehrung",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "info": {
          "name": "info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "row_fingerprint": {
          "name": "row_fingerprint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key_desc": {
          "name": "key_desc",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unique_row": {
          "name": "unique_row",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "imported_at": {
          "name": "imported_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sparkasse_acc_booking_idx": {
          "name": "sparkasse_acc_booking_idx",
          "columns": [
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "buchungstag",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sparkasse_acc_amt_idx": {
          "name": "sparkasse_acc_amt_idx",
          "columns": [
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "betrag",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sparkasse_user_key_idx": {
          "name": "sparkasse_user_key_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "source_csv_sparkasse_user_id_users_id_fk": {
          "name": "source_csv_sparkasse_user_id_users_id_fk",
          "tableFrom": "source_csv_sparkasse",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "source_csv_sparkasse_account_id_accounts_id_fk": {
          "name": "source_csv_sparkasse_account_id_accounts_id_fk",
          "tableFrom": "source_csv_sparkasse",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "source_csv_sparkasse_batch_id_ingestion_batches_id_fk": {
          "name": "source_csv_sparkasse_batch_id_ingestion_batches_id_fk",
          "tableFrom": "source_csv_sparkasse",
          "tableTo": "ingestion_batches",
          "columnsFrom": [
            "batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "source_csv_sparkasse_ingestion_item_id_ingestion_items_id_fk": {
          "name": "source_csv_sparkasse_ingestion_item_id_ingestion_items_id_fk",
          "tableFrom": "source_csv_sparkasse",
          "tableTo": "ingestion_items",
          "columnsFrom": [
            "ingestion_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.taxonomy_leaf": {
      "name": "taxonomy_leaf",
      "schema": "",
      "columns": {
        "leaf_id": {
          "name": "leaf_id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "level_2_id": {
          "name": "level_2_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "nivel_3_pt": {
          "name": "nivel_3_pt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recorrente_default": {
          "name": "recorrente_default",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fixo_variavel_default": {
          "name": "fixo_variavel_default",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receita_despesa_default": {
          "name": "receita_despesa_default",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "taxonomy_leaf_user_id_users_id_fk": {
          "name": "taxonomy_leaf_user_id_users_id_fk",
          "tableFrom": "taxonomy_leaf",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "taxonomy_leaf_level_2_id_taxonomy_level_2_level_2_id_fk": {
          "name": "taxonomy_leaf_level_2_id_taxonomy_level_2_level_2_id_fk",
          "tableFrom": "taxonomy_leaf",
          "tableTo": "taxonomy_level_2",
          "columnsFrom": [
            "level_2_id"
          ],
          "columnsTo": [
            "level_2_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.taxonomy_level_1": {
      "name": "taxonomy_level_1",
      "schema": "",
      "columns": {
        "level_1_id": {
          "name": "level_1_id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "nivel_1_pt": {
          "name": "nivel_1_pt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "taxonomy_level_1_user_id_users_id_fk": {
          "name": "taxonomy_level_1_user_id_users_id_fk",
          "tableFrom": "taxonomy_level_1",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.taxonomy_level_2": {
      "name": "taxonomy_level_2",
      "schema": "",
      "columns": {
        "level_2_id": {
          "name": "level_2_id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "level_1_id": {
          "name": "level_1_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "nivel_2_pt": {
          "name": "nivel_2_pt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recorrente_default": {
          "name": "recorrente_default",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fixo_variavel_default": {
          "name": "fixo_variavel_default",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receita_despesa_default": {
          "name": "receita_despesa_default",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "taxonomy_level_2_user_id_users_id_fk": {
          "name": "taxonomy_level_2_user_id_users_id_fk",
          "tableFrom": "taxonomy_level_2",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "taxonomy_level_2_level_1_id_taxonomy_level_1_level_1_id_fk": {
          "name": "taxonomy_level_2_level_1_id_taxonomy_level_1_level_1_id_fk",
          "tableFrom": "taxonomy_level_2",
          "tableTo": "taxonomy_level_1",
          "columnsFrom": [
            "level_1_id"
          ],
          "columnsTo": [
            "level_1_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transaction_evidence_link": {
      "name": "transaction_evidence_link",
      "schema": "",
      "columns": {
        "transaction_id": {
          "name": "transaction_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "ingestion_item_id": {
          "name": "ingestion_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "match_confidence": {
          "name": "match_confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "transaction_evidence_link_pk": {
          "name": "transaction_evidence_link_pk",
          "columns": [
            {
              "expression": "transaction_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "ingestion_item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "transaction_evidence_link_transaction_id_transactions_id_fk": {
          "name": "transaction_evidence_link_transaction_id_transactions_id_fk",
          "tableFrom": "transaction_evidence_link",
          "tableTo": "transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transaction_evidence_link_ingestion_item_id_ingestion_items_id_fk": {
          "name": "transaction_evidence_link_ingestion_item_id_ingestion_items_id_fk",
          "tableFrom": "transaction_evidence_link",
          "tableTo": "ingestion_items",
          "columnsFrom": [
            "ingestion_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transactions": {
      "name": "transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "payment_date": {
          "name": "payment_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "booking_date": {
          "name": "booking_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "event_date": {
          "name": "event_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "posting_date": {
          "name": "posting_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "value_date": {
          "name": "value_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "event_time_text": {
          "name": "event_time_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_status": {
          "name": "posting_status",
          "type": "posting_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'posted'"
        },
        "processing_status": {
          "name": "processing_status",
          "type": "processing_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'provisional'"
        },
        "external_ref": {
          "name": "external_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enriched_at": {
          "name": "enriched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "imported_at": {
          "name": "imported_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "desc_raw": {
          "name": "desc_raw",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "desc_norm": {
          "name": "desc_norm",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "raw_description": {
          "name": "raw_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "normalized_description": {
          "name": "normalized_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'EUR'"
        },
        "foreign_amount": {
          "name": "foreign_amount",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "foreign_currency": {
          "name": "foreign_currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "transaction_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "key_desc": {
          "name": "key_desc",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "simple_desc": {
          "name": "simple_desc",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "alias_desc": {
          "name": "alias_desc",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "leaf_id": {
          "name": "leaf_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "classified_by": {
          "name": "classified_by",
          "type": "transaction_classified_by",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "transaction_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "recurring_flag": {
          "name": "recurring_flag",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "recurring_group_id": {
          "name": "recurring_group_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recurring_confidence": {
          "name": "recurring_confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "recurring_day_of_month": {
          "name": "recurring_day_of_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recurring_day_window": {
          "name": "recurring_day_window",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "transaction_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "fix_var": {
          "name": "fix_var",
          "type": "fix_var",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "category_1": {
          "name": "category_1",
          "type": "category_1",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "category_2": {
          "name": "category_2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category_3": {
          "name": "category_3",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "manual_override": {
          "name": "manual_override",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "internal_transfer": {
          "name": "internal_transfer",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "exclude_from_budget": {
          "name": "exclude_from_budget",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "needs_review": {
          "name": "needs_review",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "rule_id_applied": {
          "name": "rule_id_applied",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "upload_id": {
          "name": "upload_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_keyword": {
          "name": "suggested_keyword",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "matched_keyword": {
          "name": "matched_keyword",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "app_category_id": {
          "name": "app_category_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "app_category_name": {
          "name": "app_category_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display": {
          "name": "display",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'yes'"
        },
        "conflict_flag": {
          "name": "conflict_flag",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "classification_candidates": {
          "name": "classification_candidates",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "transactions_unique_key_per_user": {
          "name": "transactions_unique_key_per_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "transactions_user_id_users_id_fk": {
          "name": "transactions_user_id_users_id_fk",
          "tableFrom": "transactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transactions_rule_id_applied_rules_id_fk": {
          "name": "transactions_rule_id_applied_rules_id_fk",
          "tableFrom": "transactions",
          "tableTo": "rules",
          "columnsFrom": [
            "rule_id_applied"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.uploads": {
      "name": "uploads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "upload_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'processing'"
        },
        "rows_total": {
          "name": "rows_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "rows_imported": {
          "name": "rows_imported",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "month_affected": {
          "name": "month_affected",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "uploads_user_id_users_id_fk": {
          "name": "uploads_user_id_users_id_fk",
          "tableFrom": "uploads",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "google_id": {
          "name": "google_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "users_google_id_unique": {
          "name": "users_google_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "google_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification_tokens": {
      "name": "verification_tokens",
      "schema": "",
      "columns": {
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires": {
          "name": "expires",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "verification_tokens_identifier_token_idx": {
          "name": "verification_tokens_identifier_token_idx",
          "columns": [
            {
              "expression": "identifier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.account_type": {
      "name": "account_type",
      "schema": "public",
      "values": [
        "credit_card",
        "debit_card",
        "bank_account",
        "cash"
      ]
    },
    "public.category_1": {
      "name": "category_1",
      "schema": "public",
      "values": [
        "Alimentao",
        "Mercados",
        "Renda Extra",
        "Outros",
        "Lazer / Esporte",
        "Compras",
        "Financiamento",
        "Interno",
        "Transporte",
        "Moradia",
        "Sade",
        "Trabalho"
      ]
    },
    "public.fix_var": {
      "name": "fix_var",
      "schema": "public",
      "values": [
        "Fixo",
        "Varivel"
      ]
    },
    "public.ingestion_batch_status": {
      "name": "ingestion_batch_status",
      "schema": "public",
      "values": [
        "processing",
        "preview",
        "committed",
        "rolled_back",
        "error"
      ]
    },
    "public.ingestion_source_type": {
      "name": "ingestion_source_type",
      "schema": "public",
      "values": [
        "csv",
        "screenshot"
      ]
    },
    "public.posting_status": {
      "name": "posting_status",
      "schema": "public",
      "values": [
        "pending",
        "posted"
      ]
    },
    "public.processing_status": {
      "name": "processing_status",
      "schema": "public",
      "values": [
        "provisional",
        "enriched",
        "reconciled",
        "void"
      ]
    },
    "public.snapshot_source_type": {
      "name": "snapshot_source_type",
      "schema": "public",
      "values": [
        "print",
        "csv",
        "manual"
      ]
    },
    "public.transaction_classified_by": {
      "name": "transaction_classified_by",
      "schema": "public",
      "values": [
        "AUTO_KEYWORDS",
        "MANUAL",
        "AI_SUGGESTION"
      ]
    },
    "public.transaction_source": {
      "name": "transaction_source",
      "schema": "public",
      "values": [
        "Sparkasse",
        "Amex",
        "M&M"
      ]
    },
    "public.transaction_status": {
      "name": "transaction_status",
      "schema": "public",
      "values": [
        "FINAL",
        "OPEN"
      ]
    },
    "public.transaction_type": {
      "name": "transaction_type",
      "schema": "public",
      "values": [
        "Despesa",
        "Receita"
      ]
    },
    "public.upload_status": {
      "name": "upload_status",
      "schema": "public",
      "values": [
        "processing",
        "ready",
        "duplicate",
        "error"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}